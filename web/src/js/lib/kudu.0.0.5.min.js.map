{"version":3,"sources":["utils/jqr/npo.js","utils/mode.js","utils/severity.js","utils/utils.js","utils/jqr/jqutils.js","router/router.js","utils/at/xhrWrapper.js","utils/at/jqxhrWrapper.js","utils/at/deferredPromiseWrapper.js","utils/at/ajaxTracker.js","utils/at/simpleAjaxTracker.js","lifecycle/onInitHandler.js","lifecycle/onRemoveHandler.js","ractivelib/setupEvents.js","ractivelib/setupDefaultEvents.js","utils/jqr/fade.js","transition/fade.js","transition/intro.js","transition/outro.js","ractivelib/render/create.js","ractivelib/render/render.js","ractivelib/render/unrender.js","ractivelib/RactiveViewFactory.js","utils/jqr/EventEmitter.js","kudu.js"],"names":["name","context","definition","module","exports","define","amd","global","this","schedule","fn","self","scheduling_queue","add","cycle","timer","drain","isThenable","o","_then","o_type","then","notify","i","chain","length","notifyIsolated","state","success","failure","cb","ret","reject","msg","call","promise","TypeError","resolve","err","triggered","def","def_wrapper","MakeDefWrapper","apply","arguments","iteratePromises","Constructor","arr","resolver","rejecter","idx","MakeDef","Promise","executor","__NPO__","constructor","push","builtInProp","ToString","Object","prototype","toString","setImmediate","setTimeout","defineProperty","obj","val","config","value","writable","configurable","Item","next","first","last","item","f","PromisePrototype","len","msgs","Array","count","require","mode","DEBUG","severity","INFO","WARN","ERROR","consoleLog","type","console","window","logFn","log","hasApply","e","arg1","arg2","utils","options","getLogFn","$log","warn","info","error","that","noopPromiseFn","noopPromise","isPromise","isRactiveObject","_guid","objectLength","keys","prop","hasOwnProperty","isObject","populateError","Error","logError","isObj","stack","replace","toLowerCase","buildParams","prefix","traditional","isArray","forEach","index","rbracket","test","r20","isFunction","fadeIn","el","style","opacity","Date","tick","requestAnimationFrame","fadeOut","extend","out","key","param","a","s","encodeURIComponent","join","resolveUnknownRoutes","hashIndex","location","href","indexOf","defaultRoute","path","router","urlPath","stripLeadingSlash","newRoute","ctrl","moduleId","appendHashParams","hash","params","paramStr","jqutils","str","slice","setIgnoreHashChangeOnce","newHash","currentHash","ignoreHashChangeOnce","appendUrlSegment","url","segment","unknownRouteResolver","unknownRoute","previousHash","cachedUrlPaths","cachedRouterParams","cachedRouterQueryParams","eventHandlers","statechange","routeload","routes","routesById","previousState","popstateHashchangeEventLisener","getHash","fire","init","addRoutes","addEventListener","attachEvent","loadCurrentRouteOnStateChange","on","loadCurrentRoute","fireInitialStateChange","activeRoute","addRoute","route","_kudu_id","addRouteById","addRouteAt","splice","undefined","getRoutes","getRoutesById","eventName","eventHandler","eventArguments","off","eventHandlerIndex","restorePreviousHash","setHash","go","args","routeParams","updateUrl","tempRoute","tmpHash","hashPath","loadModule","ctrlRoutes","findRoutesForCtrl","testRoute","match","testCtrlRoute","debugRoute","force","routePath","RegExp","routeQueryParams","routeQueryParamsStr","queryString","parseRouteQueryParams","substr","routePathSegments","split","routePathSegment","charAt","routePathKey","routeParamValue","JSON","stringify","routeParamKey","result","viewParams","parseRouteParams","viewParamValue","routeToLoad","handleUnknownRoute","routeOrPromise","loadUnknownRoute","paths","isNew","processLoadedModule","splitUrl","relativeUri","isHashEmpty","substring","active","urlParams","routeArguments","routerOptions","urlPathSegments","routePathQuestionIndex","urlPathSegment","tmpRoutePath","tempParams","urlParamValue","routeSegmentIndex","routeSegment","questionmarkIndex","search","queryParams","queryParamsFromSearchString","parseArguments","searchIndex","hashPathIndex","hashBangPathIndex","queryParameters","queryParameter","queryParameterParts","arg","isNaN","decodeURIComponent","routerQueryParams","hit","routeQueryParameters","routeQueryParameter","query","xhrWrapper","isXhr","getAllResponseHeaders","abort","canWrap","wrap","xhr","status","statusText","data","isSuccess","es6Promise","responseText","initError","transferComplete","transferFailed","transferCancelled","upload","jqxhrWrapper","$xhr","textStatus","jqXHR","errorThrown","deferredPromiseWrapper","isDeferred","pipe","deferred","ajaxTracker","abortItems","promisesArray","promisesCopy","globalPromise","addListeners","target","globalPromiseParam","promiseParam","always","triggerOptions","promiseArgs","kudu","emit","remove","reason","idCounter","promiseCounter","promisesMap","wrappers","jqxhr","deferredPromise","promiseOrXhr","promiseXhr","promisify","all","_id","jqpromiseArray","clear","wrapper","simpleAjaxTracker","create","adaptor","xhrOrPromise","onInitHandler","onInit","viewOptions","prev","ractiveFnOrPromise","onRemoveHandler","onRemove","view","booleanOrPromise","bool","mvc","requestTracker","setupEvents","setupDefaultEvents","Ractive","defaults","onconstruct","fade","calcDuration","duration","speeds","slow","fast","default","fxOff","queue","stop","timeoutId","clearTimeout","requestId","cancelAnimationFrame","dequeue","queueObj","temp","getComputedStyle","getPropertyValue","change","intro","done","firstView","node","document","querySelector","jqfade","outro","fx","transition","viewOrPromise","ractiveObj","newErr","origError","render","completePromise","unrender","forceUnrender","ractiveViewFactory","createView","renderView","unrenderView","EventEmitter","indexOfListener","listeners","listener","alias","proto","originalGlobalValue","getListeners","evt","response","events","_getEvents","flattenListeners","flatListeners","getListenersAsObject","addListener","listenerIsWrapped","once","addOnceListener","defineEvent","defineEvents","evts","removeListener","removeEvent","manipulateListeners","removeListeners","single","multiple","_events","removeAllListeners","emitEvent","listenersMap","_getOnceReturnValue","trigger","setOnceReturnValue","_onceReturnValue","noConflict","loadView","currentMVC","loadInitialView","changeView","processOnInit","cancelCurrentRequest","viewFailed","processOnRemove","checkCallstack","callstack","reenableAnimationTracker","enable","onInitOptions","triggerEvent","processNewView","onInitComplete","onRemoveOptions","reenableAnimations","setId","id","enumerable","origEmit","_tempOptions","initOptions","viewFactory","debug","ajaxTrackerOptions","ajaxTrackerFn","validateInitOptions","routeOptions","getActiveRoute","initialRoute","routeLoaded","setupDefaultViewEvents","getId","getDefaultTarget","getActiveView","getActiveController","getDefaultViewFactory","simpleAjaxTrackerFn","createController","Module","Function","setupViewEvents","renderer","enter","leave","customRenderView","renderViewWithAnimation","callViewEvent","currOptions","prevOptions","eventOptions","unshift","_origOptions","introOptions","introFn","outroOptions","outroFn","customLeave","leaveFn","leaveCleanupFn","leaveOptions","unrenderViewCleanup","leavePromise","customEnter","enterOptions","enterFn","enterCleanupFn","renderViewCleanup","enterPromise","renderPromise","_renderViewCleanupCalled","updateMVC","unrenderPromise","_unrenderViewCleanupCalled"],"mappings":"AAAA,CAKA,SAAAA,EAAAC,EAAAC,GAEAD,EAAAD,GAAAC,EAAAD,IAAAE,IACA,mBAAAC,SAAAA,OAAAC,QAAAD,OAAAC,QAAAH,EAAAD,GACA,kBAAAK,SAAAA,OAAAC,KAAAD,OAAA,mBAAA,WAAA,MAAAJ,GAAAD,MACA,UAAA,mBAAAO,QAAAA,OAAAC,KAAA,WAEA,YA6DA,SAAAC,GAAAC,EAAAC,GACAC,EAAAC,IAAAH,EAAAC,GACAG,IACAA,EAAAC,EAAAH,EAAAI,QAKA,QAAAC,GAAAC,GACA,GAAAC,GAAAC,QAAAF,EASA,OAPA,OAAAA,GAEA,UAAAE,GAAA,YAAAA,IAGAD,EAAAD,EAAAG,MAEA,kBAAAF,GAAAA,GAAA,EAGA,QAAAG,KACA,IAAA,GAAAC,GAAA,EAAAA,EAAAf,KAAAgB,MAAAC,OAAAF,IACAG,EACAlB,KACA,IAAAA,KAAAmB,MAAAnB,KAAAgB,MAAAD,GAAAK,QAAApB,KAAAgB,MAAAD,GAAAM,QACArB,KAAAgB,MAAAD,GAGAf,MAAAgB,MAAAC,OAAA,EAMA,QAAAC,GAAAf,EAAAmB,EAAAN,GACA,GAAAO,GAAAZ,CACA,KACAW,KAAA,EACAN,EAAAQ,OAAArB,EAAAsB,MAIAF,EADAD,KAAA,EACAnB,EAAAsB,IAGAH,EAAAI,KAAA,OAAAvB,EAAAsB,KAGAF,IAAAP,EAAAW,QACAX,EAAAQ,OAAAI,UAAA,yBAEAjB,EAAAF,EAAAc,IACAZ,EAAAe,KAAAH,EAAAP,EAAAa,QAAAb,EAAAQ,QAGAR,EAAAa,QAAAN,IAIA,MAAAO,GACAd,EAAAQ,OAAAM,IAIA,QAAAD,GAAAJ,GACA,GAAAd,GAAAR,EAAAH,IAGA,KAAAG,EAAA4B,UAAA,CAEA5B,EAAA4B,WAAA,EAGA5B,EAAA6B,MACA7B,EAAAA,EAAA6B,IAGA,MACArB,EAAAF,EAAAgB,IACAxB,EAAA,WACA,GAAAgC,GAAA,GAAAC,GAAA/B,EACA,KACAQ,EAAAe,KAAAD,EACA,WAAAI,EAAAM,MAAAF,EAAAG,YACA,WAAAZ,EAAAW,MAAAF,EAAAG,aAGA,MAAAN,GACAN,EAAAE,KAAAO,EAAAH,OAKA3B,EAAAsB,IAAAA,EACAtB,EAAAgB,MAAA,EACAhB,EAAAa,MAAAC,OAAA,GACAhB,EAAAa,EAAAX,IAIA,MAAA2B,GACAN,EAAAE,KAAA,GAAAQ,GAAA/B,GAAA2B,KAIA,QAAAN,GAAAC,GACA,GAAAtB,GAAAH,IAGAG,GAAA4B,YAEA5B,EAAA4B,WAAA,EAGA5B,EAAA6B,MACA7B,EAAAA,EAAA6B,KAGA7B,EAAAsB,IAAAA,EACAtB,EAAAgB,MAAA,EACAhB,EAAAa,MAAAC,OAAA,GACAhB,EAAAa,EAAAX,IAIA,QAAAkC,GAAAC,EAAAC,EAAAC,EAAAC,GACA,IAAA,GAAAC,GAAA,EAAAA,EAAAH,EAAAtB,OAAAyB,KACA,SAAAA,GACAJ,EAAAT,QAAAU,EAAAG,IACA7B,KACA,SAAAY,GACAe,EAAAE,EAAAjB,IAEAgB,IAEAC,GAIA,QAAAR,GAAA/B,GACAH,KAAAgC,IAAA7B,EACAH,KAAA+B,WAAA,EAGA,QAAAY,GAAAxC,GACAH,KAAA2B,QAAAxB,EACAH,KAAAmB,MAAA,EACAnB,KAAA+B,WAAA,EACA/B,KAAAgB,SACAhB,KAAAyB,IAAA,OAGA,QAAAmB,GAAAC,GACA,GAAA,kBAAAA,GACA,KAAAjB,WAAA,iBAGA,IAAA,IAAA5B,KAAA8C,QACA,KAAAlB,WAAA,gBAKA5B,MAAA8C,QAAA,CAEA,IAAAd,GAAA,GAAAW,GAAA3C,KAEAA,MAAA,KAAA,SAAAoB,EAAAC,GACA,GAAAX,IACAU,QAAA,kBAAAA,GAAAA,GAAA,EACAC,QAAA,kBAAAA,GAAAA,GAAA,EAmBA,OAdAX,GAAAiB,QAAA,GAAA3B,MAAA+C,YAAA,SAAAlB,EAAAL,GACA,GAAA,kBAAAK,IAAA,kBAAAL,GACA,KAAAI,WAAA,iBAGAlB,GAAAmB,QAAAA,EACAnB,EAAAc,OAAAA,IAEAQ,EAAAhB,MAAAgC,KAAAtC,GAEA,IAAAsB,EAAAb,OACAlB,EAAAa,EAAAkB,GAGAtB,EAAAiB,SAEA3B,KAAA,SAAA,SAAAqB,GACA,MAAArB,MAAAa,KAAA,OAAAQ,GAGA,KACAwB,EAAAnB,KACA,OACA,SAAAD,GACAI,EAAAH,KAAAM,EAAAP,IAEA,SAAAA,GACAD,EAAAE,KAAAM,EAAAP,KAIA,MAAAK,GACAN,EAAAE,KAAAM,EAAAF,IA3QA,GAAAmB,GAAA3C,EAAAF,EACA8C,EAAAC,OAAAC,UAAAC,SACA9C,EAAA,mBAAA+C,cACA,SAAApD,GAAA,MAAAoD,cAAApD,IACAqD,UAIA,KACAJ,OAAAK,kBAAA,QACAP,EAAA,SAAAQ,EAAAjE,EAAAkE,EAAAC,GACA,MAAAR,QAAAK,eAAAC,EAAAjE,GACAoE,MAAAF,EACAG,UAAA,EACAC,aAAAH,KAAA,KAIA,MAAA7B,GACAmB,EAAA,SAAAQ,EAAAjE,EAAAkE,GAEA,MADAD,GAAAjE,GAAAkE,EACAD,GAKArD,EAAA,WAGA,QAAA2D,GAAA7D,EAAAC,GACAH,KAAAE,GAAAA,EACAF,KAAAG,KAAAA,EACAH,KAAAgE,KAAA,OALA,GAAAC,GAAAC,EAAAC,CAQA,QACA9D,IAAA,SAAAH,EAAAC,GACAgE,EAAA,GAAAJ,GAAA7D,EAAAC,GACA+D,EACAA,EAAAF,KAAAG,EAGAF,EAAAE,EAEAD,EAAAC,EACAA,EAAA,QAEA3D,MAAA,WACA,GAAA4D,GAAAH,CAGA,KAFAA,EAAAC,EAAA5D,EAAA,OAEA8D,GACAA,EAAAlE,GAAAwB,KAAA0C,EAAAjE,MACAiE,EAAAA,EAAAJ,SA0NA,IAAAK,GAAApB,KAAA,cAAAL,GACA,EAqFA,OAjFAA,GAAAQ,UAAAiB,EAGApB,EAAAoB,EAAA,UAAA,GACA,GAGApB,EAAAL,EAAA,UAAA,SAAAnB,GACA,GAAAa,GAAAtC,IAIA,OAAAyB,IAAA,gBAAAA,IAAA,IAAAA,EAAAqB,QACArB,EAGA,GAAAa,GAAA,SAAAT,EAAAL,GACA,GAAA,kBAAAK,IAAA,kBAAAL,GACA,KAAAI,WAAA,iBAGAC,GAAAJ,OAIAwB,EAAAL,EAAA,SAAA,SAAAnB,GACA,MAAA,IAAAzB,MAAA,SAAA6B,EAAAL,GACA,GAAA,kBAAAK,IAAA,kBAAAL,GACA,KAAAI,WAAA,iBAGAJ,GAAAC,OAIAwB,EAAAL,EAAA,MAAA,SAAAL,GACA,GAAAD,GAAAtC,IAGA,OAAA,kBAAAkD,EAAAxB,KAAAa,GACAD,EAAAd,OAAAI,UAAA,iBAEA,IAAAW,EAAAtB,OACAqB,EAAAT,YAGA,GAAAS,GAAA,SAAAT,EAAAL,GACA,GAAA,kBAAAK,IAAA,kBAAAL,GACA,KAAAI,WAAA,iBAGA,IAAA0C,GAAA/B,EAAAtB,OAAAsD,EAAAC,MAAAF,GAAAG,EAAA,CAEApC,GAAAC,EAAAC,EAAA,SAAAG,EAAAjB,GACA8C,EAAA7B,GAAAjB,IACAgD,IAAAH,GACAzC,EAAA0C,IAEA/C,OAIAyB,EAAAL,EAAA,OAAA,SAAAL,GACA,GAAAD,GAAAtC,IAGA,OAAA,kBAAAkD,EAAAxB,KAAAa,GACAD,EAAAd,OAAAI,UAAA,iBAGA,GAAAU,GAAA,SAAAT,EAAAL,GACA,GAAA,kBAAAK,IAAA,kBAAAL,GACA,KAAAI,WAAA,iBAGAS,GAAAC,EAAAC,EAAA,SAAAG,EAAAjB,GACAI,EAAAJ,IACAD,OAIAoB,IAGA/C,OAAA,cAAA,WAAA,SAAA6E,GCpXA,GAAAC,IACAC,MAAA,KAGA,OAAAD,KAGA9E,OAAA,kBAAA,WAAA,SAAA6E,GCPA,QAAAG,KAEA7E,KAAA4E,MAAA,EACA5E,KAAA8E,KAAA,EACA9E,KAAA+E,KAAA,EACA/E,KAAAgF,MAAA,EAGA,MAAA,IAAAH,KAGAhF,OAAA,eAAA,UAAA,YAAA,SAAA,cAAA,SAAA6E,GCNA,QAAAO,GAAAC,GACA,GAAAC,GAAAC,OAAAD,YACAE,EAAAF,EAAAD,IAAAC,EAAAG,KAAA,aACAC,GAAA,CAIA,KACAA,IAAAF,EAAAlD,MACA,MAAAqD,IAGA,MAAAD,GACA,WACA,MAAAF,GAAAlD,MAAAgD,EAAA/C,YAIA,SAAAqD,EAAAC,GACA,MAAAL,GAAAI,EAAA,MAAAC,EAAA,GAAAA,IAYA,QAAAC,GAAAC,GAmGA,QAAAC,GAAA/D,GAEA,OAAAA,EAAA+C,UAEA,IAAAA,GAAAD,MACA,MAAAkB,GAAAR,GAEA,KAAAT,GAAAE,KACA,MAAAe,GAAAC,IAEA,KAAAlB,GAAAC,KACA,MAAAgB,GAAAE,IAEA,SACA,MAAAF,GAAAG,OA/GA,GAAAC,MAGAC,EAAA,GAAAvD,SAAA,SAAAf,EAAAL,GACAK,KA+GA,OA5GAqE,GAAAE,YAAA,WACA,MAAAD,IAGAD,EAAAG,UAAA,SAAA3F,GACA,MAAA,OAAAA,GACA,EAGA,kBAAAA,GAAAG,MACA,GAEA,GAGAqF,EAAAI,gBAAA,SAAA5F,GACA,MAAA,gBAAAA,IAAA,OAAAA,GACA,MAAAA,EAAA6F,OACA,GAIA,GAGAL,EAAAM,aAAA,SAAA9F,GACA,GAAAyC,OAAAsD,KACA,MAAAtD,QAAAsD,KAAA/F,GAAAO,MAGA,IACAyF,GADAjC,EAAA,CAEA,KAAAiC,IAAAhG,GACAA,EAAAiG,eAAAD,IACAjC,KAKAyB,EAAAU,SAAA,SAAAnD,GACA,MAAA,gBAAAA,IAAA,OAAAA,GACA,GAEA,GAGAyC,EAAAW,cAAA,SAAA/E,EAAA+C,EAAAe,IAEA9D,YAAAgF,QAAAZ,EAAAU,SAAA9E,MAEA,MAAAA,EAAA8D,UACA9D,EAAA8D,QAAAA,GAEA,MAAA9D,EAAA+C,WACA/C,EAAA+C,SAAAA,KAKAqB,EAAAa,SAAA,SAAAjF,GAEA,GAAA,MAAAA,GAGA6C,EAAAC,MAAA,CAGA,GAAAoC,GAAAd,EAAAU,SAAA9E,EAEAkF,IACA,MAAAlF,EAAA+C,WACA/C,EAAA+C,SAAAA,EAAAG,MAIA,IAAA9E,GAAA2F,EAAA/D,EAQA,IALA5B,EADA4B,EAAAmF,MACAnF,EAAAmF,MAEAnF,GAGAkF,EACA,IAAA,GAAA7C,KAAArC,GACA5B,EAAAiE,EAAA,IAAArC,EAAAqC,MAuBA+B,EAzJAxB,EAAA,YACA,IAAAC,GAAAD,EAAA,UACAG,EAAAH,EAAA,cA2BAoB,GACAR,IAAAL,EAAA,OACAc,KAAAd,EAAA,QACAe,KAAAf,EAAA,QACAgB,MAAAhB,EAAA,UA2HAU,EAAAA,GACA,OAAAA,KAEA9F,OAAA,qBAAA,UAAA,SAAA,SAAA6E,GC7JA,QAAAiB,GAAAC,GA2DA,QAAAV,GAAAzB,GACA,MAAAN,QAAAC,UAAAC,SAAA3B,KAAA+B,GAAAyD,QAAA,oBAAA,MAAAC,cAIA,QAAAC,GAAAC,EAAA5D,EAAA6D,EAAAjH,GACA,GAAAb,EAEA,IAAAgF,MAAA+C,QAAA9D,GAEAA,EAAA+D,QAAA,SAAArD,EAAAsD,GACAH,GAAAI,EAAAC,KAAAN,GAEAhH,EAAAgH,EAAAlD,GAIAiD,EAAAC,EAAA,KAAA,gBAAAlD,GAAAsD,EAAA,IAAA,IAAAtD,EAAAmD,EAAAjH,SAIA,IAAAiH,GAAA,WAAApC,EAAAzB,GASApD,EAAAgH,EAAA5D,OANA,KAAAjE,IAAAiE,GACA2D,EAAAC,EAAA,IAAA7H,EAAA,IAAAiE,EAAAjE,GAAA8H,EAAAjH,GAlFA,GAAA6F,MAEAwB,EAAA,QACAE,EAAA,MAuHA,OArHA1B,GAAA2B,WAAA,SAAAnE,GACA,MAAA,kBAAAA,IAGAwC,EAAA4B,OAAA,SAAAC,GACAA,EAAAC,MAAAC,QAAA,CAEA,IAAA/D,IAAA,GAAAgE,MACAC,EAAA,WACAJ,EAAAC,MAAAC,SAAAF,EAAAC,MAAAC,SAAA,GAAAC,MAAAhE,GAAA,IACAA,GAAA,GAAAgE,OAEAH,EAAAC,MAAAC,QAAA,IACA7C,OAAAgD,uBAAAA,sBAAAD,IAAA5E,WAAA4E,EAAA,KAIAA,MAGAjC,EAAAmC,QAAA,SAAAN,GACAA,EAAAC,MAAAC,QAAA,CAEA,IAAA/D,IAAA,GAAAgE,MACAC,EAAA,WACAJ,EAAAC,MAAAC,SAAAF,EAAAC,MAAAC,SAAA,GAAAC,MAAAhE,GAAA,IACAA,GAAA,GAAAgE,OAEAH,EAAAC,MAAAC,QAAA,IACA7C,OAAAgD,uBAAAA,sBAAAD,IAAA5E,WAAA4E,EAAA,KAIAA,MAGAjC,EAAAoC,OAAA,SAAAC,GACAA,EAAAA,KAEA,KAAA,GAAAxH,GAAA,EAAAA,EAAAqB,UAAAnB,OAAAF,IACA,GAAAqB,UAAArB,GAGA,IAAA,GAAAyH,KAAApG,WAAArB,GACAqB,UAAArB,GAAA4F,eAAA6B,KACAD,EAAAC,GAAApG,UAAArB,GAAAyH,GAIA,OAAAD,IAsCArC,EAAAuC,MAAA,SAAAC,EAAApB,GACA,GAAAD,GACAsB,KACAtI,EAAA,SAAAmI,EAAA5E,GAEAA,EAAA,kBAAAA,GAAAA,IAAA,MAAAA,EAAA,GAAAA,EACA+E,EAAAA,EAAA1H,QAAA2H,mBAAAJ,GAAA,IAAAI,mBAAAhF,GAKA,IAAAY,MAAA+C,QAAAmB,GAEAA,EAAAlB,QAAA,SAAArD,EAAAsD,GACApH,EAAA8D,EAAA3E,KAAA2E,EAAAP,aAMA,KAAAyD,IAAAqB,GACAtB,EAAAC,EAAAqB,EAAArB,GAAAC,EAAAjH,EAKA,OAAAsI,GAAAE,KAAA,KAAA3B,QAAAU,EAAA,MAIA1B,EA9HAxB,EAAA,QAiIA,IAAAiB,GAAAA,GACA,OAAAA,KCzGA9F,OAAA,iBAAA,UAAA,mBAAA,iBAAA,oBAAA,wBAAA,SAAA6E,GACA,YAu8BA,SAAAoE,GAAAlD,GAEA,GAAAjE,GAAA,GAAAiB,SAAA,SAAAf,EAAAL,GAEA,GAAAuH,GAAA3D,OAAA4D,SAAAC,KAAAC,QAAA,IAEA,IAAA,KAAAH,GAAAA,IAAAC,SAAAC,KAAAhI,OAAA,EAAA,CAEA,GAAA,MAAAkI,EACA,KAAA,IAAArC,OAAA,6BAAAkC,SAAAC,KAAA,oFAGA,OADApH,GAAAsH,GACAxH,EAGA,GAAAyH,GAAAC,EAAAC,QAAAlE,OAAA4D,SAAAC,KACAG,GAAAG,EAAAH,GAOA1E,GAAA0E,GAAA,SAAAzJ,GACA,GAAA,MAAAA,EAEA,WADA6B,IAIA,IAAAgI,IACAJ,KAAAA,EACAK,KAAA9J,EACA+J,SAAAN,EAEAvH,GAAA2H,IAEA,SAAA1H,GACAN,EAAAM,MAKA,OAAAH,GAGA,QAAAgI,GAAAC,EAAAC,GAEA,GAAA,MAAAA,EAAA,CACA,GAAAvC,IAAA,EACAwC,EAAAC,EAAAtB,MAAAoB,EAAAvC,EAEAwC,GAAA7I,OAAA,IAIA2I,EAFA,KAAAA,EAAAV,QAAA,KAEAU,EAAA,IAAAE,EAIAF,EAAA,IAAAE,GAKA,MAAAF,GAGA,QAAAL,GAAAS,GACA,MAAA,gBAAAA,IACA,IAAAA,EAAAd,QAAA,KACAc,EAAAC,MAAA,GAGAD,EAGA,QAAAE,GAAAC,GACAC,GAAAD,IACAE,GAAA,GAIA,QAAAC,GAAAC,EAAAC,GAQA,MAPAD,GAAAtJ,OAAA,GAAA,MAAAsJ,IACAA,GAAA,KAEA,GAAAC,EAAAvJ,SACAuJ,EAAA,KAEAD,GAAAC,EA9hCA9F,EAAA,mBACA,IAkBA+F,GAEAtB,EAEAuB,EAOAN,EAEAO,EA/BAhF,EAAAjB,EAAA,kBAEAqF,GADArF,EAAA,qBACAA,EAAA,yBAGAkG,KACAC,KACAC,KACAC,GACAC,eACAC,cAIAC,KAEAC,KAWAd,GAAA,EAQAe,EAAA,GACAC,EAAA,WACA,GAAAD,GAAAhG,OAAA4D,SAAAC,KAAA,CAIA,GAHAmC,EAAAhG,OAAA4D,SAAAC,KAGAI,EAAAiC,YAAAlB,EACA,MAGAO,GAAAP,EACAA,EAAAf,EAAAiC,UACAjC,EAAAkC,KAAA,iBAOAlC,GAEAmC,KAAA,SAAA5F,GAwCA,MAvCA+E,GAAAP,EACAA,EAAAf,EAAAiC,UACA,mBAAA,KACA1F,MAEAyD,EAAAoC,UAAA7F,EAAAsF,QACAT,EAAA7E,EAAA6E,sBAAA3B,EACAK,EAAAvD,EAAAuD,cAAA,KAGA/D,OAAAsG,kBACAtG,OAAAsG,iBAAA,WAAAL,GAAA,GACAjG,OAAAsG,iBAAA,aAAAL,GAAA,KAGAjG,OAAAuG,YAAA,WAAAN,GACAjG,OAAAuG,YAAA,eAAAN,IAIAzF,EAAAgG,iCAAA,GACAvC,EAAAwC,GAAA,cAAA,WAEA,GAAAxB,EAGA,YADAA,GAAA,EAIA,IAAAzE,KACAyD,GAAAyC,iBAAAlG,KAKAA,EAAAmG,0BAAA,GACA1C,EAAAkC,KAAA,eAGAlC,GAIA2C,eAYAP,UAAA,SAAAP,GACA,IAAA,GAAA1C,KAAA0C,GACAA,EAAAvE,eAAA6B,IACAa,EAAA4C,SAAAf,EAAA1C,GAGA,OAAAa,IAEA4C,SAAA,SAAAC,GAGA,GAFAhB,EAAAlI,KAAAkJ,GAEA,MAAAA,EAAAxC,SAAA,CACA,GAAA,MAAAwC,EAAAzC,KACA,KAAA,IAAA3C,OAAA,8CAGAoF,GAAAxC,SAAAwC,EAAAzC,KAAA0C,SAIA,MADA9C,GAAA+C,aAAAF,GACA7C,GAEAgD,WAAA,SAAA5E,EAAAyE,GAGA,MAFAhB,GAAAoB,OAAA7E,EAAA,EAAAyE,GACA7C,EAAA+C,aAAAF,GACA7C,GAEA+C,aAAA,SAAAF,GAEA,MAAAA,EAAA9C,OACAsB,EAAAwB,GAIAK,SAAApB,EAAAe,EAAAxC,YACAyB,EAAAe,EAAAxC,cAGAyB,EAAAe,EAAAxC,UAAA1G,KAAAkJ,EAAA9C,OAEAoD,UAAA,WACA,MAAAtB,IAEAuB,cAAA,WACA,MAAAtB,IAKAU,GAAA,SAAAa,EAAAC,GAIA,MAHA,mBAAA5B,GAAA2B,KACA3B,EAAA2B,OACA3B,EAAA2B,GAAA1J,KAAA2J,GACAtD,GAKAkC,KAAA,SAAAmB,GACA,GAAA3B,EAAA2B,GAEA,IAAA,GADAE,GAAApI,MAAApB,UAAA6G,MAAAvI,KAAAU,UAAA,GACArB,EAAA,EAAAA,EAAAgK,EAAA2B,GAAAzL,OAAAF,IACAgK,EAAA2B,GAAA3L,GAAAoB,MAAAkH,EAAAuD,EAGA,OAAAvD,IAMAwD,IAAA,SAAAH,EAAAC,GACA,GAAA5B,EAAA2B,GAAA,CACA,GAAAI,GAAA/B,EAAA2B,GAAAxD,QAAAyD,EACA,MAAAG,GACA/B,EAAA2B,GAAAJ,OAAAQ,EAAA,GAGA,MAAAzD,IAMA0D,oBAAA,WACA,MAAApC,IAIAP,EAAAO,EACAT,EAAAE,GACAf,EAAA2D,QAAA5C,KAEA6C,GAAA,SAAArH,GAEA,GACA8D,GADAD,EAAA7D,EAAA6D,IAUA,IAPA,MAAAA,GACA7D,EAAAsG,QACAzC,EAAA7D,EAAAsG,MAAAzC,KACAC,EAAA9D,EAAAsG,MAAAxC,UAIA,MAAAD,EACA,KAAA,IAAA3C,OAAA,sDAUA,IAPA,MAAA4C,IACAA,EAAAD,EAAA0C,UAGAvG,EAAAsH,KAAAtH,EAAAsH,SACAtH,EAAAuH,YAAAvH,EAAAuH,gBAEAvH,EAAAwH,aAAA,EAAA,CACA,GAAAC,KACAA,GAAA3D,SAAAA,EACA2D,EAAA5D,KAAAA,EACA7D,EAAAsG,MAAAmB,CAEA,IAAAC,GAAAjE,EAAAkE,SAAAnD,EAKA,OAJAkD,GAAA3D,EAAA2D,EAAA1H,EAAAuH,aACAjD,EAAAoD,GACAjE,EAAA2D,QAAAM,OACAjE,GAAAmE,WAAA5H,GAQA,IAAA,GAJAsG,GAAA,KAGAuB,EAAApE,EAAAqE,kBAAAjE,GACA1I,EAAA,EAAAA,EAAA0M,EAAAxM,OAAAF,IAAA,CACA,GAAA4M,GAAAF,EAAA1M,GACA6M,EAAAvE,EAAAwE,cAAAF,EAAAvE,KAAAxD,EAAAuH,YACA,IAAAS,EAAA,CACA1B,EAAAyB,CACA,QAIA,GAAA,MAAAzB,EAAA,CACA/G,QAAAc,MAAA,2CAAAwD,EAAA0C,SAAA,4CACA,KAAA,GAAApL,GAAA,EAAAA,EAAA0M,EAAAxM,OAAAF,IAAA,CACA,GAAA+M,GAAAL,EAAA1M,EACAoE,SAAAc,MAAA,OAAA6H,EAAA1E,MAIA,GAFAjE,QAAAc,MAAA,yDAAAL,EAAAuH,cAEAvH,EAAAmI,MASA,MALAnI,GAAAsG,MAAAxB,EACA,MAAA9E,EAAAsG,QACAtG,EAAAsG,cAEA7C,GAAAmE,WAAA5H,EAPAT,SAAAc,MAAA,8EAAAyD,EAAA,KAcA,GAAAsE,GAAA,MAAA9B,EAAAA,EAAA9C,KAAAM,CAKA,IAAAsE,YAAAC,QACA,KAAA,IAAAnH,OAAA,+BAAA2C,EAAA0C,SAAA,wCAAA6B,EAAA,IAGA,IAAA,KAAAA,EAAA9E,QAAA,KACA,KAAA,IAAApC,OAAA,+BAAA2C,EAAA0C,SAAA,0FAAA6B,EAAA,IAGA,IAAAE,KAGA,IAAA,KAAAF,EAAA9E,QAAA,KAAA,CACA,GAAAiF,GAAA9E,EAAA+E,YAAAJ,EACAG,GAAAlN,OAAA,IACAiN,EAAA7E,EAAAgF,sBAAAF,IAGAH,EAAAA,EAAAM,OAAA,EAAAN,EAAA9E,QAAA,MAGA,GAAAiB,GAAA,GACAgD,EAAAvH,EAAAuH,YAGAoB,EAAAP,EAAAQ,MAAA,IAGA,KAAA,GAAAhG,KAAA+F,GACA,GAAAA,EAAA5H,eAAA6B,GAAA,CACA,GAAAiG,GAAAF,EAAA/F,EAGA,IAAA,MAAAiG,EAAAC,OAAA,GAAA,CACA,GAAAC,GAAAF,EAAAH,OAAA,GAIAM,EAAAzB,EAAAwB,EAEA,IAAA,MAAAC,GAAA,KAAAA,EACA,KAAA,IAAA9H,OAAA,+BAAA2C,EAAA0C,SAAA,mDACAwC,EAAA,uCAAAE,KAAAC,UAAA3B,GAAA,IAGAhD,GAAAG,EAAAH,EAAAyE,SAGAzB,GAAAwB,OAMAxE,GAAAG,EAAAH,EAAAsE,GAaA,IAAA,GAAAM,KAAAb,GACA,GAAAA,EAAAvH,eAAAoI,GAAA,CACA,GAAA,MAAA5B,EAEA,KAAA,IAAArG,OAAA,+BAAA2C,EAAA0C,SAAA,oDACA4C,EAAA,oCAEA,IAAAH,GAAAzB,EAAA4B,EACA,IAAAxC,SAAAqC,EAEA,KAAA,IAAA9H,OAAA,+BAAA2C,EAAA0C,SAAA,oDACA4C,EAAA,4CAAAF,KAAAC,UAAA3B,GAAA,KAMAhD,EAAAR,EAAAQ,EAAAgD,GAEAjD,EAAAC,GAEAd,EAAA2D,QAAA7C,GAEAd,EAAAyC,iBAAAlG,IAGAoH,QAAA,SAAApD,GACAxE,OAAA4D,SAAAY,KAAAA,GAGA0B,QAAA,WAEA,GAAA7D,GAAArC,OAAA4D,SAAAC,KAAAC,QAAA,KACAU,EAAA,IAAAnC,EAAA,GAAArC,OAAA4D,SAAAC,KAAAqF,OAAA7G,EAAA,EAIA,OAHA,IAAAmC,EAAAV,QAAA,OACAU,EAAAA,EAAA0E,OAAA,IAEA1E,GAEA8D,kBAAA,SAAA/N,GAGA,IAAA,GAFAqP,MACAtF,EAAA/J,EAAAwM,SACApL,EAAA,EAAAA,EAAAmK,EAAAjK,OAAAF,IAAA,CAEA,GAAAmL,GAAAhB,EAAAnK,EACA,OAAA2I,GAAA,MAAAwC,EAAAxC,SACA/J,IAAAuM,EAAAzC,MACAuF,EAAAhM,KAAAkJ,GAIAxC,IAAAwC,EAAAxC,UACAsF,EAAAhM,KAAAkJ,GAKA,MAAA8C,IAEAnB,cAAA,SAAAG,EAAAiB,GACAjB,EAAAzE,EAAAyE,EAEA,IAAAb,GAAA9D,EAAA6F,iBAAAlB,EAEA,KAAA,GAAAxF,KAAA2E,GACA,GAAAA,EAAAxG,eAAA6B,GAAA,CAEA,IAAAyG,EAAAtI,eAAA6B,GAaA,OAAA,CAVA,IAAAoG,GAAAzB,EAAA3E,EACA,IAAAoG,EAAApE,WAAA,EAAA,CACA,GAAA2E,GAAAF,EAAAzG,EACA,IAAA,MAAA2G,GAAA,IAAAA,EACA,OAAA,GAYA,OAAA,GAGArD,iBAAA,SAAAlG,GACAA,EAAAA,KAGA,KAAA,GADAwJ,GAAA,KACArO,EAAA,EAAAA,EAAAmK,EAAAjK,OAAAF,IAAA,CAGA,GAAAmL,GAAAhB,EAAAnK,EAIA,IAFA6E,EAAAsG,MAAAA,EAEA7C,EAAAsE,UAAA/H,GAAA,CAEAwJ,EAAAlD,CACA,QAKA,MAAA,OAAAkD,GAAA,MAAAA,EAAAhG,MAEAxD,EAAAsG,MAAAkD,EACA/F,EAAAgG,mBAAAzJ,GACAyD,IAGA,MAAA+F,IACAxJ,EAAAsG,MAAAkD,EACA/F,EAAAmE,WAAA5H,IAGAyD,IAEAgG,mBAAA,SAAAzJ,GAEA,GAAA0J,GAAA7E,EAAA7E,EAAAsG,MAmBA,OAjBAvG,GAAAU,UAAAiJ,GAEAA,EAAAzO,KAAA,SAAA2I,GAEA5D,EAAAsG,MAAA1C,EACAH,EAAAkG,iBAAA3J,KAHA0J,SAKA,SAAAxN,GAEA,MAAA8D,EAAAsG,OACA7C,EAAAmE,WAAA5H,MAIAA,EAAAsG,MAAAoD,EACAjG,EAAAkG,iBAAA3J,IAEAyD,GAEAkG,iBAAA,SAAA3J,GAEA,GADAA,EAAAA,MACA,MAAAA,EAAAsG,MAAA,CACA,GAAA,MAAAtG,EAAAsG,MAAAxC,UAAA,MAAA9D,EAAAsG,MAAA9C,KACA,KAAA,IAAAtC,OAAA,+HAKA,IAAA0I,GAAAnG,EAAAoD,gBAAA7G,EAAAsG,MAAAxC,SACA,OAAA8F,GACA5J,EAAAsG,MAAAuD,OAAA,EACApG,EAAAmE,WAAA5H,IAEAyD,EAAA4D,GAAArH,GAIA,MAAAyD,IAEAmE,WAAA,SAAA5H,GACAA,EAAAA,KAEA,IAAAsG,GAAAtG,EAAAsG,KAIA,OAAAA,EAAAzC,KAEA/E,GAAAwH,EAAAxC,UAAA,SAAA/J,GACA,MAAAA,GAIA0J,EAAAqG,oBAAA9J,EAAAjG,EAAAuM,IAEA,cAKA7C,EAAAqG,oBAAA9J,EAAAsG,EAAAzC,KAAAyC,IAcA5C,QAAA,SAAAiB,GAEA,GAAA,mBAAAK,GAAAL,GACA,MAAAK,GAAAL,EAKA,IAAAoF,GAAApF,EAAAiE,MAAA,KACAoB,EAAA,IAAAD,EAAArD,OAAA,EAAAqD,EAAA1O,OAAA,GAAA4H,KAAA,KAIAO,EAAAwG,EAAApB,MAAA,SAAA,GAIAzF,EAAA6G,EAAA1G,QAAA,KACA2G,EAAA9G,IAAA6G,EAAA3O,OAAA,CAEA,IAAA,KAAA8H,IAAA8G,EAAA,CACA,GAAAjG,GAAAgG,EAAAE,UAAA/G,GAAAyF,MAAA,KAAA,EAGApF,GAFA,OAAAQ,EAAAkG,UAAA,EAAA,GAEAlG,EAAAkG,UAAA,GAGAlG,EAAAkG,UAAA,GAOA,MAFAlF,GAAAL,GAAAnB,EAEAA,GAEAsG,oBAAA,SAAA9J,EAAAjG,EAAAuM,GAcA,GAbA7C,EAAA2C,YAAA+D,QAAA,EACA7D,EAAA6D,QAAA,EACA1G,EAAA2C,YAAAE,EAGAA,EAAAuD,cACAvD,GAAAuD,MACApG,EAAAgD,WAAA,EAAAH,IAMAA,EAAA6D,OAAA,CAGA,GAAAC,GAAApK,EAAAoK,SACA,OAAAA,IACAA,EAAA3G,EAAA4G,eAAA/D,EAAA9G,OAAA4D,SAAAC,MACArD,EAAAoK,UAAAA,EAGA,IAAAE,GAAAnG,EAAAzB,UAAA1C,EACAsK,GAAA/C,YAAA6C,EACAE,EAAAvQ,OAAAA,EACAuQ,EAAAhE,MAAAA,EAEA7C,EAAAkC,KAAA,YAAA2E,KAMAvC,UAAA,SAAA/H,GAIA,GAAA0D,GAAAD,EAAAC,QAAA1D,EAAA2E,KAAAnF,OAAA4D,SAAAC,KACAK,GAAAC,EAAAD,EAEA,IAAA0E,GAAApI,EAAAsG,MAAA9C,IAIA,IAHA4E,EAAAzE,EAAAyE,GAGAA,IAAA1E,EACA,OAAA,CAIA,IAAA,MAAA0E,EACA,OAAA,CAIA,IAAAA,YAAAC,QACA,MAAAD,GAAArG,KAAA2B,EAIA,IAAA,KAAA0E,EAAA9E,QAAA,MAAA,KAAA8E,EAAA9E,QAAA,MAAA,KAAA8E,EAAA9E,QAAA,KAEA,OAAA,CAIA,IAAAiH,GAAA7G,EAAAkF,MAAA,KAGA4B,EAAApC,EAAA9E,QAAA,IAEA,MAAAkH,GAAAA,IAAApC,EAAA/M,OAAA,IACA+M,EAAAA,EAAAM,OAAA,EAAA8B,GAIA,IAAA7B,GAAAP,EAAAQ,MAAA,IAGA,IAAA2B,EAAAlP,SAAAsN,EAAAtN,OACA,OAAA,CAIA,KAAA,GAAAuH,KAAA+F,GACA,GAAAA,EAAA5H,eAAA6B,GAAA,CAEA,GAAAiG,GAAAF,EAAA/F,GACA6H,EAAAF,EAAA3H,EAGA,IAAA,MAAAiG,GAAA,MAAAA,EAAAC,OAAA,IAKA,GAAA,MAAA2B,GAAA,KAAAA,EACA,OAAA,MAMA,IAAA5B,IAAA4B,EAEA,OAAA,EAOA,GAAA,KAAAD,EAAA,CACA,GAAAE,GAAA1K,EAAAsG,MAAA9C,IACAkH,GAAA/G,EAAA+G,EACA,IAAAnC,GAAAmC,EAAAhC,OAAA8B,EAAA,GAEAjD,EAAA9D,EAAAgF,sBAAAF,EAKA,IAAA,MAAAvI,EAAAoK,UAAA,CACA,GAAAO,GAAAlH,EAAA4G,eAAArK,EAAAsG,MAAA9G,OAAA4D,SAAAC,KACArD,GAAAoK,UAAAO,EAGA,IAAA,GAAA/H,KAAA2E,GACA,GAAAA,EAAAxG,eAAA6B,GAAA,CACA,GAAAgI,GAAA5K,EAAAoK,UAAAxH,EAEA,IAAA,MAAAgI,EAEA,OAAA,GAOA,OAAA,GAKAP,eAAA,SAAA/D,EAAA3B,GAUA2B,IACAA,EAAA7C,EAAA2C,aACAzB,IACAA,EAAAnF,OAAA4D,SAAAC,KACA,IAAAiE,MACA5D,EAAAD,EAAAC,QAAAiB,EACAjB,GAAAC,EAAAD,EAGA,IAAA6G,GAAA7G,EAAAkF,MAAA,KAGAD,IACA,IAAArC,GAAAA,EAAA9C,QAAA8C,EAAA9C,eAAA6E,SAAA,CACA,GAAAD,GAAA9B,EAAA9C,IACA4E,GAAAzE,EAAAyE,GACAO,EAAAP,EAAAQ,MAAA,KAOA,IAAA,GAAAiC,KAAAlC,GACA,GAAAA,EAAA5H,eAAA8J,GAAA,CACA,GAAAC,GAAAnC,EAAAkC,EACA,IAAA,MAAAC,EAAAhC,OAAA,GAAA,CACAgC,EAAAA,EAAAZ,UAAA,EAEA,IAAAa,GAAAD,EAAAxH,QAAA,IACA,MAAAyH,IACAD,EAAAA,EAAApC,OAAA,EAAAqC,IAEAzD,EAAAwD,GAAAP,EAAAM,IAMA,GAAAG,GAAAvH,EAAA+E,YAAA7D,GACAsG,EAAAxH,EAAAyH,4BAAAF,EACA,KAAA,GAAAnI,KAAAoI,GACAA,EAAAlK,eAAA8B,KACAyE,EAAAzE,GAAAoI,EAAApI,GAQA,OAHAyE,GAAA7D,EAAA0H,eAAA7D,IAKAkB,YAAA,SAAA7D,GAGA,GAAAyG,GAAAzG,EAAArB,QAAA,KACA0H,EAAA,EACA,IAAA,KAAAI,EAAA,CACAJ,EAAArG,EAAAuF,UAAAkB,EAAA,EACA,IAAAjI,GAAA6H,EAAA1H,QAAA,IACA,MAAAH,IACA6H,EAAAA,EAAAd,UAAA,EAAA/G,IAKA,GAAAkI,GAAA1G,EAAArB,QAAA,KACAgI,EAAA3G,EAAArB,QAAA,KACA,IAAA,KAAA+H,GAAA,KAAAC,EAAA,CACA,GAAAtH,GAAA,EAEAA,GADA,KAAAqH,EACA1G,EAAAuF,UAAAmB,GAEA1G,EAAAuF,UAAAoB,GAEAF,EAAApH,EAAAV,QAAA,KACA,KAAA8H,IACAJ,EAAAhH,EAAAkG,UAAAkB,EAAA,IAGA,MAAAJ,IAEAC,YAAA,SAAAtG,GACA,GAAAqG,GAAAvH,EAAA+E,YAAA7D,GACAsG,EAAAxH,EAAAyH,4BAAAF,EACA,OAAAC,IAEAC,4BAAA,SAAAF,GACA,GAAA/G,MACAsH,EAAAP,EAAApC,MAAA,IAEA,KAAA2C,EAAAlQ,QAAA,KAAAkQ,EAAA,KACAA,KAEA,KAAA,GAAApQ,KAAAoQ,GACA,GAAAA,EAAAxK,eAAA5F,GAAA,CACA,GAAAqQ,GAAAD,EAAApQ,GACAsQ,EAAAD,EAAA5C,MAAA,KACA5K,EAAAyN,EAAA/E,OAAA,EAAA+E,EAAApQ,OAAA,GAAA4H,KAAA,IACAgB,GAAAwH,EAAA,IAAAzN,EAGA,MAAAiG,IAEAkH,eAAA,SAAA7D,GACA,IAAA,GAAAoE,KAAApE,GAAA,CACA,GAAAtJ,GAAAsJ,EAAAoE,EACA,UAAA1N,EACAsJ,EAAAoE,IAAA,EACA,UAAA1N,EACAsJ,EAAAoE,IAAA,EACAC,MAAA3N,IAAA,KAAAA,GAAA,MAAAA,EAAA8K,OAAA,GAKAxB,EAAAoE,GAAAE,mBAAA5N,GAHAsJ,EAAAoE,IAAA1N,EAMA,MAAAsJ,IAEAmB,sBAAA,SAAAoD,GAEA,GAAAC,GAAA5G,EAAA2G,EACA,IAAA,MAAAC,EACA,MAAAA,EAGA,IAAAvE,MACAwE,EAAAF,EAAAjD,MAAA,IAEA,KAAAmD,EAAA1Q,QAAA,KAAA0Q,EAAA,KACAA,KAEA,KAAA,GAAAnJ,KAAAmJ,GACA,GAAAA,EAAAhL,eAAA6B,GAAA,CACA,GAAAoJ,GAAAD,EAAAnJ,EACA2E,GAAAyE,IAAAC,OAAA,GAMA,MAFA/G,GAAA2G,GAAAtE,EAEAA,GAEA+B,iBAAA,SAAA9F,GACA,GAAAsI,GAAA7G,EAAAzB,EACA,IAAA,MAAAsI,EACA,MAAAA,EAGA,IAAA1D,GAAA5E,EACA+D,IAEA,IAAA,MAAAa,GAAA,IAAAA,EACA,MAAAb,EAWA,IAPAa,YAAAC,UACAD,EAAAA,EAAA3K,WAEA2K,EAAAA,EAAA8B,UAAA,EAAA9B,EAAA/M,OAAA,IAIA,KAAA+M,EAAA9E,QAAA,MAAA,KAAA8E,EAAA9E,QAAA,KAGA,MADA2B,GAAAzB,GAAA+D,EACAA,CAIA,IAAAiD,GAAApC,EAAA9E,QAAA,IAEA,MAAAkH,GAAAA,IAAApC,EAAA/M,OAAA,IAEA+M,EAAAA,EAAAM,OAAA,EAAA8B,GAKA,IAAA7B,GAAAP,EAAAQ,MAAA,IAEA,KAAA,GAAAhG,KAAA+F,GACA,GAAAA,EAAA5H,eAAA6B,GAAA,CAEA,GAAAiG,GAAAF,EAAA/F,EAGA,IAAA,MAAAiG,EAAAC,OAAA,GAAA,CACA,GAAAjG,GAAAgG,EAAAxE,MAAA,EACAkD,GAAA1E,IAAA+B,SAAA,IAMA,GAAA,KAAA4F,EAAA,CACA,GAAAjC,GAAA/E,EAAAkF,OAAA8B,EAAA,GAEAlC,EAAA7E,EAAAgF,sBAAAF,EACAhB,GAAApD,EAAAzB,OAAA6E,EAAAe,GAGA,MADArD,GAAAzB,GAAA+D,EACAA,GAEAI,SAAA,SAAA3D,GAEA,IAAAA,EAAAV,QAAA,OACAU,EAAAA,EAAAkG,UAAA,GAIA,IAAApN,GAAAkH,EAAAV,QAAA,IAKA,OAJAxG,IAAA,IACAkH,EAAAA,EAAAkG,UAAA,EAAApN,IAGAkH,GAkGA,OAAAP,KAEAxJ,OAAA,uBAAA,WAAA,SAAA6E,GCjkCA,QAAAoN,KAEA,GAAA5L,KA2GA,OAzGAA,GAAA6L,MAAA,SAAAtO,GACA,MAAA,OAAAA,GACA,kBAAAA,GAAAuO,uBAAA,kBAAAvO,GAAAwO,OAEA,MAAAxO,EAAA5C,MAEA,GAKA,GAGAqF,EAAAgM,QAAA,SAAAzO,GACA,MAAAyC,GAAA6L,MAAAtO,IAGAyC,EAAAiM,KAAA,SAAAC,GACA,GAAAC,GACAC,EACArM,EACAsM,EACAC,EAEAC,EAAA,GAAA7P,SAAA,SAAAf,EAAAL,GAYA,QAAAgK,KACA6G,EAAAD,EAAAC,OACAC,EAAAF,EAAAE,WACAC,EAAAH,EAAAM,aAGA,QAAAC,KACA1M,EAAAqM,GACAD,IAAAC,KACAA,EAAA,QACA,EAAAD,IACAA,EAAA,IAKA,QAAAO,KAuBA,GAtBApH,IAEAgH,EAAAH,GAAA,KAAA,IAAAA,GAAA,MAAAA,EACAG,EAGA,MAAAH,EACAC,EAAA,YAGA,MAAAD,EACAC,EAAA,eAGAA,EAAA,UACAC,EAAAH,EAAAM,cAIAC,IAGA,UAAAL,EAAA,CACA,GAAA1M,IAAA2M,KAAAA,EAAAF,OAAAC,EAAAF,IAAAA,EAAAnM,MAAAA,EACAzE,GAAAoE,OAEA,CACA,GAAAA,IAAA2M,KAAAA,EAAAF,OAAAC,EAAAF,IAAAA,EAAAnM,MAAAA,EACApE,GAAA+D,IAIA,QAAAiN,KACArH,IACAmH,GACA,IAAA/M,IAAA2M,KAAAA,EAAAF,OAAAC,EAAAF,IAAAA,EAAAnM,MAAAA,EACAzE,GAAAoE,GAGA,QAAAkN,KACAD,IAnEAT,EAAA1G,iBAAA,OAAAkH,GACAR,EAAA1G,iBAAA,QAAAmH,GACAT,EAAA1G,iBAAA,QAAAoH,GAEA,MAAAV,EAAAW,SACAX,EAAAW,OAAArH,iBAAA,OAAAkH,GACAR,EAAAW,OAAArH,iBAAA,QAAAmH,GACAT,EAAAW,OAAArH,iBAAA,QAAAoH,KAoEA,OAHAL,GAAAR,MAAA,WACAG,EAAAH,SAEAQ,GAGAvM,EAEA,MAAA4L,OAIAjS,OAAA,yBAAA,UAAA,gBAAA,SAAA6E,GCjHA,QAAAsO,KA6BA,QAAAjB,GAAAtO,GAEA,MAAA,OAAAA,GACA,kBAAAA,GAAAuO,uBAAA,kBAAAvO,GAAAwO,OAGA,GAIA,EArCA,GAAA/L,KAwCA,OAtCAA,GAAAgM,QAAA,SAAAzO,GACA,MAAAsO,GAAAtO,IAAA,kBAAAA,GAAA5C,MACA,GAEA,GAGAqF,EAAAiM,KAAA,SAAAc,GACA,GAAAR,GAAA,GAAA7P,SAAA,SAAAf,EAAAL,GAEAyR,EAAApS,KAAA,SAAA0R,EAAAW,EAAAC,GACAtR,GAAA0Q,KAAAA,EAAAF,OAAAa,EAAAd,IAAAe,KACA,SAAAA,EAAAD,EAAAE,GACA5R,GAAAyE,MAAAmN,EAAAf,OAAAa,EAAAd,IAAAe,MAGAF,EAAApS,KAAAgB,EAAAL,IAKA,OAHAiR,GAAAR,MAAA,WACAgB,EAAAhB,SAEAQ,GAiBAvM,EA5CAxB,EAAA,eA8CA,OAAAsO,OAEAnT,OAAA,mCAAA,UAAA,YAAA,SAAA6E,GC9CA,QAAA2O,KA4CA,QAAAC,GAAA7P,GAEA,MAAA,OAAAA,GACA,kBAAAA,GAAA8P,MAAA,kBAAA9P,GAAA9B,SAAA,kBAAA8B,GAAAtC,OAEA,GAKA,EApDA,GAAA+E,KAuDA,OArDAA,GAAAgM,QAAA,SAAAzO,GACA,MAAA6P,GAAA7P,IAAA,kBAAAA,GAAA5C,MACA,GAEA,GAGAqF,EAAAiM,KAAA,SAAAqB,GACA,GAAAf,GAAA,GAAA7P,SAAA,SAAAf,EAAAL,GAEAgS,EAAA3S,KAAA,SAAA4C,GAQA5B,EAAA4B,IAEA,SAAAA,GAQAjC,EAAAiC,KAGA+P,EAAA3S,KAAAgB,EAAAL,IAKA,OAHAiR,GAAAR,MAAA,WACAuB,EAAAvB,SAEAQ,GAiBAvM,EA3DAxB,EAAA,WA6DA,OAAA2O,OAGAxT,OAAA,wBAAA,UAAA,aAAA,iBAAA,eAAA,2BAAA,kBAAA,SAAA6E,GC1DA,QAAA+O,GAAA7N,GAmJA,QAAA8N,GAAAC,GAEA,GAAAC,GAAAD,EAAA1J,OACA2J,GAAApM,QAAA,SAAArD,EAAAsD,GACAtD,EAAAxC,QAAAsQ,UAEA4B,EAAA,KAIA,QAAAC,GAAAC,EAAAC,EAAAC,EAAA/G,GAoDA,QAAAgH,GAAAtQ,EAAAxC,GACAwC,EAAAA,KAIA,IAAAuQ,EAEA,IAAApC,EAAAnO,EAAAwO,KAGA+B,EADA/S,KAAA,GACAmR,KAAA3O,EAAA2O,KAAAF,OAAAzO,EAAAyO,OAAAD,IAAAxO,EAAAwO,IAAAnM,MAAA,KAAAiH,KAAAA,IAGAqF,KAAA,KAAAF,OAAAzO,EAAAyO,OAAAD,IAAAxO,EAAAwO,IAAAnM,MAAArC,EAAAqC,MAAAiH,KAAAA,OAGA,CAEA,GAAAkH,EACAhS,WAAAnB,OAAA,IACAmT,EAAA5P,MAAApB,UAAA6G,MAAAvI,KAAAU,YAEA+R,GAAA5B,KAAA3O,EAAAyO,OAAAzO,EAAAyO,OAAAD,IAAAxO,EAAAwO,IAAAnM,MAAArC,EAAAqC,MAAAiH,KAAAA,EAAAkH,YAAAA,GAIAxO,EAAAyO,KAAAC,KAAA,gBAAAH,EACAjO,GAAAqO,OAAAR,EAAAE,GA7EAA,EAAApT,KAAA,SAAA+C,GACAA,EAAAA,KAEA,IAAAuQ,EAEA,IAAApC,EAAAnO,EAAAwO,KACA+B,GAAA5B,KAAA3O,EAAA2O,KAAAF,OAAAzO,EAAAyO,OAAAD,IAAAxO,EAAAwO,IAAAlF,KAAAA,OAEA,CAEA,GAAAkH,EACAhS,WAAAnB,OAAA,IACAmT,EAAA5P,MAAApB,UAAA6G,MAAAvI,KAAAU,YAEA+R,GAAA5B,KAAA3O,EAAAyO,OAAA,KAAAD,IAAA,KAAAnM,MAAA,KAAAiH,KAAAA,EAAAkH,YAAAA,GAGAxO,EAAAyO,KAAAC,KAAA,eAAAH,KAjBAF,SAmBA,SAAAO,GACAA,EAAAA,KAEA,IAAAL,EAEA,IAAApC,EAAAyC,EAAApC,KACA+B,GAAAlO,MAAAuO,EAAAvO,MAAAoM,OAAAmC,EAAAnC,OAAAD,IAAAoC,EAAApC,IAAAlF,KAAAA,OAEA,CAEA,GAAAkH,EACAhS,WAAAnB,OAAA,IACAmT,EAAA5P,MAAApB,UAAA6G,MAAAvI,KAAAU,YAEA+R,GAAA5B,KAAA,KAAAF,OAAA,KAAAD,IAAA,KAAAnM,MAAAuO,EAAAtH,KAAAA,EAAAkH,YAAAA,GAGAxO,EAAAyO,KAAAC,KAAA,aAAAH,KAGAF,EAAApT,KAAA,SAAA+C,GACAA,EAAAA,MAEAsQ,EAAAtQ,GAAA,KAHAqQ,SAKA,SAAAO,GACAA,EAAAA,MAEAN,EAAAM,GAAA,KAkCAR,EAAAnT,KAAA,SAAA+C,GACAA,EAAAA,KAEA,IAAAuQ,EAEA,IAAApC,EAAAnO,EAAAwO,KACA+B,GAAA5B,KAAA3O,EAAA2O,KAAAF,OAAAzO,EAAAyO,OAAAD,IAAAxO,EAAAwO,IAAAlF,KAAAA,OAEA,CAEA,GAAAkH,EACAhS,WAAAnB,OAAA,IACAmT,EAAA5P,MAAApB,UAAA6G,MAAAvI,KAAAU,YAEA+R,GAAA5B,KAAA3O,EAAAyO,OAAA,KAAAD,IAAA,KAAAnM,MAAA,KAAAiH,KAAAA,EAAAkH,YAAAA,GAIA,MAAAP,GAAAA,GAAAG,GAEApO,EAAAyO,KAAAC,KAAA,YAAAH,SAEAA,GAAAjH,KACAtH,EAAAyO,KAAAC,KAAA,mBAAAH,GACAN,EAAA,MAEAjO,EAAAyO,KAAAC,KAAA,YAAAH,KA1BAH,SA6BA,SAAAQ,GACAA,EAAAA,KAEA,IAAAL,EAEA,IAAApC,EAAAyC,EAAApC,KACA+B,GAAAlO,MAAAuO,EAAAvO,MAAAoM,OAAAmC,EAAAnC,OAAAD,IAAAoC,EAAApC,IAAAlF,KAAAA,OAEA,CAEA,GAAAkH,EACAhS,WAAAnB,OAAA,IACAmT,EAAA5P,MAAApB,UAAA6G,MAAAvI,KAAAU,YAGA+R,GAAA5B,KAAA,KAAAF,OAAA,KAAAD,IAAA,KAAAnM,MAAAuO,EAAAtH,KAAAA,EAAAkH,YAAAA,GAGA,MAAA,OAAAP,GAAAA,GAAAG,MAaApO,GAAAyO,KAAAC,KAAA,YAAAH,IAXAvO,EAAAyO,KAAAC,KAAA,YAAAH,SAEAA,GAAAjH,KACAtH,EAAAyO,KAAAC,KAAA,mBAAAH,GACAN,EAAA,KAJAjO,UAiBA,QAAAmM,GAAAtO,GACA,MAAA,OAAAA,GACA,kBAAAA,GAAAuO,uBAAA,kBAAAvO,GAAAwO,OACA,GAIA,EAvTA,GAAA,MAAArM,EAAAyO,KACA,KAAA,IAAAvN,OAAA,iDAGA,IAAAZ,MACAuO,EAAA,EACAC,EAAA,EAEAC,KACAd,EAAA,KAGAe,GACAxC,IAAAN,EACA+C,MAAA7B,EACA8B,gBAAAzB,EA2SA,OAxSAuB,GAAA7K,EAAAzB,OAAAsM,EAAAhP,EAAAgP,UAEA1O,EAAA7F,IAAA,SAAA0T,EAAAgB,EAAA7H,GAEA,GAAA,kBAAA6H,GAAA9C,MACA,KAAA,IAAAnL,OAAA,2FAGA,IAAAkO,EAGAA,GADA,MAAAD,EAAAlU,MAAA,MAAAkU,EAAAA,SACA7O,EAAA+O,UAAAF,GAEAA,CAGA,IAAApB,GAAAgB,EAAAZ,EACA,OAAAJ,IACAA,KACAgB,EAAAZ,GAAAJ,EAGA,IAAAxP,IAAAxC,QAAAqT,EAAA9H,KAAAA,EACAyG,GAAA3Q,KAAAmB,EAEA,IAAAgQ,IACA/B,IAAA4C,EACA9H,KAAAA,EAyBA,OAvBA,OAAA2G,GACAA,EAAAjR,QAAAsS,KAAAF,IAEApP,EAAAyO,KAAAC,KAAA,oBAAAH,GACAA,EAAAjH,KAAAA,EACAtH,EAAAyO,KAAAC,KAAA,aAAAH,KAGAN,EAAAjR,QAAAsS,KAAArB,EAAAmB,IAKAb,EAAAjH,KAAAA,EACAtH,EAAAyO,KAAAC,KAAA,aAAAH,IAEAN,EAAAsB,IAAAV,IAEAX,EAAAC,EAAAF,EAAAmB,EAAA9H,GAGAwH,IAEAb,GAGA3N,EAAAqO,OAAA,SAAAR,EAAApS,GACA,GAAAyT,GAAAT,EAAAZ,EACA,IAAA,MAAAqB,EACA,OAAA,CAIA,KAAA,GADA3N,GAAA,GACA1G,EAAA,EAAAA,EAAAqU,EAAAnU,OAAAF,IAAA,CACA,GAAAoD,GAAAiR,EAAArU,EACA,IAAAoD,EAAAxC,UAAAA,EAAA,CACA8F,EAAA1G,CACA,QAIA,MAAA0G,IAAA,GACA2N,EAAA9I,OAAA7E,EAAA,GACA,IAAA2N,EAAAnU,cACA0T,GAAAZ,GAEAW,KACA,IAEA,GAGAxO,EAAAmP,MAAA,SAAAtB,GACA,IAAA3R,UAAAnB,OACA0T,WAGAA,GAAAZ,IAIA7N,EAAA+L,MAAA,SAAA8B,GACA,GAAA,IAAA3R,UAAAnB,OAAA,CACA,IAAA,GAAAuH,KAAAmM,GACA,GAAAA,EAAAhO,eAAA6B,GAAA,CACA,GAAAmL,GAAAgB,EAAAnM,EACAkL,GAAAC,GAQA,WAFAD,GAAAC,GAKA,GAAAA,GAAAgB,EAAAZ,EACA,OAAAJ,GAIAD,EAAAC,IAGAzN,EAAA+O,UAAA,SAAAxR,GACA,IAAA,GAAA+E,KAAAoM,GACA,GAAAA,EAAAjO,eAAA6B,GAAA,CACA,GAAA8M,GAAAV,EAAApM,EACA,IAAA8M,EAAApD,QAAAzO,GAAA,CACA,GAAAuL,GAAAsG,EAAAnD,KAAA1O,EACA,OAAAuL,IAIA,MAAAvL,IA4KAyC,EAlUAxB,EAAA,aACA,IAAAsO,GAAAtO,EAAA,kBACAoN,EAAApN,EAAA,gBACA2O,EAAA3O,EAAA,4BACAqF,EAAArF,EAAA,iBAiUA,OAAA+O,KAGA5T,OAAA,8BAAA,WAAA,SAAA6E,GCxUA,GAAA6Q,KAkBA,OAhBAA,GAAAC,OAAA,SAAA/B,EAAA7N,GACA,GAAA6P,IACApV,IAAA,SAAAqV,EAAAxI,GACAuG,EAAApT,IAAAuF,EAAAmO,OAAA2B,EAAAxI,IAEAqH,OAAA,SAAAmB,GACAjC,EAAAc,OAAA3O,EAAAmO,OAAA2B,IAEAzD,MAAA,WACAwB,EAAAxB,MAAArM,EAAAmO,SAIA,OAAA0B,IAGAF,IAGA1V,OAAA,2BAAA,UAAA,mBAAA,iBAAA,qBAAA,SAAA6E,GCjBA,QAAAiR,GAAA/P,GAEA,GAAAjE,GAAA,GAAAiB,SAAA,SAAAf,EAAAL,GAEA,GAAA,kBAAAoE,GAAA6D,KAAAmM,OAAA,CACA,GAAA9T,GAAA,GAAAgF,OAAA,yIAGA,OAFAnB,GAAAkB,cAAA/E,EAAA+C,EAAAE,KAAAa,GACApE,EAAAM,GACAH,EAGA,GAAAkU,IACApM,KAAA7D,EAAA6D,KACAyC,MAAAtG,EAAAsG,MACAiB,YAAAvH,EAAAuH,YACAD,KAAAtH,EAAAsH,KACAuG,YAAA7N,EAAA6N,YACAqC,KAAAlQ,EAAAkQ,MAGAC,EAAAnQ,EAAA6D,KAAAmM,OAAAC,EAEAhU,GAAAkU,IAUA,OAAApU,GApCA+C,EAAA,mBACA,IAAAiB,GAAAjB,EAAA,kBACAG,EAAAH,EAAA,oBAqCA,OAAAiR,KAEA9V,OAAA,6BAAA,UAAA,iBAAA,oBAAA,oBAAA,SAAA6E,GCrCA,QAAAsR,GAAApQ,GAEA,GAAAjE,GAAA,GAAAiB,SAAA,SAAAf,EAAAL,GAEA,GAAA,kBAAAoE,GAAA6D,KAAAwM,SAEA,MADApU,KACAF,CAGA,IAAAkU,IACApM,KAAA7D,EAAA6D,KACAyC,MAAAtG,EAAAsG,MACAiB,YAAAvH,EAAAuH,YACAD,KAAAtH,EAAAsH,KACAgJ,KAAAtQ,EAAAsQ,KACAzC,YAAA7N,EAAA6N,YACAzP,KAAA4B,EAAA5B,MAGAmS,EAAAvQ,EAAA6D,KAAAwM,SAAAJ,EAEA,IAAA,MAAAM,GAAA,GAAAA,EAEA,MADAtU,KACAF,CAGA,IAAA,GAAAwU,EAAA,CACA,GAAArU,GAAA,GAAAgF,OAAA,mEAGA,OAFAnB,GAAAkB,cAAA/E,EAAA+C,EAAAC,KAAAc,GACApE,EAAAM,GACAH,EAGA,GAAAgE,EAAAU,UAAA8P,GACAA,EAAAtV,KAAA,SAAAuV,GAGA,IAAAxQ,EAAAyQ,IAAAC,eAAAvG,OAAA,CACA,GAAAjO,GAAA,GAAAgF,OAAA,8CAGA,OAFAnB,GAAAkB,cAAA/E,EAAA+C,EAAAE,KAAAa,GACApE,EAAAM,GACAH,EAGA,GAAA,MAAAyU,GAAA,GAAAA,EACAvU,QACA,CACA,GAAAC,GAAA,GAAAgF,OAAA,+DAAAsP,EAAA,mDACAzQ,GAAAkB,cAAA/E,EAAA+C,EAAAC,KAAAc,GACApE,EAAAM,MAfAqU,SAiBA,SAAArU,GAEA6D,EAAAkB,cAAA/E,EAAA+C,EAAAG,MAAAY,GACApE,EAAAM,SAGA,CACA,GAAAA,GAAA,GAAAgF,OAAA,qJACAnB,GAAAkB,cAAA/E,EAAA+C,EAAAE,KAAAa,GACApE,EAAAM,KAGA,OAAAH,GAnEA,GAAAgE,GAAAjB,EAAA,kBACAG,EAAAH,EAAA,oBAqEA,OApEAA,GAAA,oBAoEAsR,IAEAnW,OAAA,0BAAA,WAAA,SAAA6E,GCtEA,QAAA6R,GAAA3Q,GAEA,GAAAA,EAAAsQ,KAAArJ,IAAA,CAsBAjH,EAAAsQ,KAAArJ,IAAA,YACAjH,EAAAsQ,KAAArJ,IAAA,UACAjH,EAAAsQ,KAAArJ,IAAA,YACAjH,EAAAsQ,KAAArJ,IAAA,YAEAjH,EAAAsQ,KAAArK,GAAA,WAAA,cAUAjG,EAAAsQ,KAAArK,GAAA,SAAA,cASAjG,EAAAsQ,KAAArK,GAAA,WAAA,cAUAjG,EAAAsQ,KAAArK,GAAA,WAAA,aAKA,IAAA3F,KAIA,OAAAA,IAEA,MAAAqQ,KAEA1W,OAAA,iCAAA,UAAA,WAAA,SAAA6E,GCtEA,QAAA8R,GAAA5Q,GACA6Q,EAAAC,SAAAC,YAAA,YAIA,IAAAzQ,KAEA,OAAAA,GATA,GAAAuQ,GAAA/R,EAAA,UAWA,OAAA8R,KAEA3W,OAAA,kBAAA,WAAA,SAAA6E,GCdA,QAAAkS,KA2KA,QAAAC,GAAAC,GAKA,MAHA,gBAAAA,KACAA,EAAAA,IAAAC,GAAAA,EAAAD,GAAAC,EAAAA,YAEAD,EA9KA,GAAA5Q,MAEA6Q,GACAC,KAAA,IACAC,KAAA,IAEAC,UAAA,KAGAC,GAAA,EAEAC,IAsKA,OApKAlR,GAAA2G,IAAA,SAAAnJ,GACAyT,EAAAzT,GAGAwC,EAAAmR,KAAA,WAEAD,EAAA5P,QAAA,SAAArD,EAAApD,GACAoD,EAAA2D,OACA3D,EAAA4D,GAAAC,MAAAC,QAAA,EAEA9D,EAAA4D,GAAAC,MAAAC,QAAA,EAGA,MAAA9D,EAAAmT,WACAC,aAAApT,EAAAmT,WAEA,MAAAnT,EAAAqT,WACAC,qBAAAtT,EAAAqT,WAGA,MAAArT,EAAA7C,KACA6C,EAAA7C,KACA6C,EAAA7C,GAAA,QAIA8V,MAGAlR,EAAAkR,MAAA,WACA,MAAAA,IAGAlR,EAAAwR,QAAA,SAAAvT,GAEA,IADA,GAAApD,GAAAqW,EAAAnW,OAAA,EACAF,GAAA,GAAA,CACA,GAAAqW,EAAArW,KAAAoD,EAAA,CACAiT,EAAA9K,OAAAvL,EAAA,EACA,OAEAA,MAIAmF,EAAA4B,OAAA,SAAAC,EAAAnC,EAAAtE,GAQA,GAPA,kBAAAsE,KACAtE,EAAAsE,EACAA,MAGAA,EAAAA,MAEAuR,GAAA,GAAAvR,EAAAkR,SAKA,MAJA/O,GAAAC,MAAAC,QAAA,OACA3G,GACAA,IAKAsE,GAAAkR,SAAAD,EAAAjR,EAAAkR,SAEA,IAAAa,IACA7P,QAAA,EACAC,GAAAA,EACAzG,GAAAA,EACAkW,UAAA,KACAF,UAAA,KAEAF,GAAApU,KAAA2U,EAEA,IAAAC,GAAAxS,OAAAyS,iBAAA9P,GAAA+P,iBAAA,UACA/P,GAAAC,MAAAC,SAAA2P,CAEA,IAAA1T,IAAA,GAAAgE,MACAC,EAAA,WAEA,GAAA4P,IAAA,GAAA7P,MAAAhE,GAAA0B,EAAAkR,SACApT,GAAAqE,EAAAC,MAAAC,QAAA8P,CACAhQ,GAAAC,MAAAC,QAAAvE,EACAQ,GAAA,GAAAgE,OAEAH,EAAAC,MAAAC,QAAA,EAEA7C,OAAAgD,sBACAuP,EAAAH,UAAApP,sBAAAD,GAEAwP,EAAAL,UAAA/T,WAAA4E,EAAA,KAIAjC,EAAAwR,QAAAC,GACAA,EAAArW,IACAA,KAKA6G,MAGAjC,EAAAmC,QAAA,SAAAN,EAAAnC,EAAAtE,GAQA,GAPA,kBAAAsE,KACAtE,EAAAsE,EACAA,MAGAA,EAAAA,MAEAuR,GAAA,GAAAvR,EAAAkR,SAKA,MAJA/O,GAAAC,MAAAC,QAAA,OACA3G,GACAA,IAKAsE,GAAAkR,SAAAD,EAAAjR,EAAAkR,SAEA,IAAAa,IACA7P,QAAA,EACAC,GAAAA,EACAzG,GAAAA,EACAkW,UAAA,KACAF,UAAA,KAEAF,GAAApU,KAAA2U,EAEA,IAAAC,GAAAxS,OAAAyS,iBAAA9P,GAAA+P,iBAAA,UACA/P,GAAAC,MAAAC,SAAA2P,CAEA,IAAA1T,IAAA,GAAAgE,MACAC,EAAA,WACA,GAAA4P,IAAA,GAAA7P,MAAAhE,GAAA0B,EAAAkR,SACApT,GAAAqE,EAAAC,MAAAC,QAAA8P,CACAhQ,GAAAC,MAAAC,QAAAvE,EACAQ,GAAA,GAAAgE,OAEAH,EAAAC,MAAAC,QAAA,EACA7C,OAAAgD,sBACAuP,EAAAH,UAAApP,sBAAAD,GAEAwP,EAAAL,UAAA/T,WAAA4E,EAAA,KAIAjC,EAAAwR,QAAAC,GACAA,EAAArW,IACAA,KAKA6G,MAWAjC,EAGA,GAAA0Q,GAAAA,GACA,OAAAA,KAIA/W,OAAA,mBAAA,UAAA,qBAAA,SAAA6E,GCxLA,QAAAkS,KAEA,GAAA1Q,KA0CA,OAxCAA,GAAA8R,MAAA,SAAApS,EAAAqS,GACA,GAAAlE,GAAAnO,EAAAmO,MAEA,IAAA,MAAAA,EACA,KAAA,IAAAjN,OAAA,iCAGA,IAAAgQ,GAAAlR,EAAAkR,UAAA,MAEAlR,GAAAsS,YACApB,EAAA,EAGA,IAAAqB,GAAAC,SAAAC,cAAAzS,EAAAmO,OACAuE,GAAAxQ,OAAAqQ,GAAArB,SAAAA,GAAA,WAEAmB,OAIA/R,EAAAqS,MAAA,SAAA3S,EAAAqS,GACA,GAAAlE,GAAAnO,EAAAmO,MAEA,IAAA,MAAAA,EACA,KAAA,IAAAjN,OAAA,iCAGA,IAAAgQ,GAAAlR,EAAAkR,UAAA,MAEAlR,GAAAsS,YACApB,EAAA,EAGA,IAAAqB,GAAAC,SAAAC,cAAAzS,EAAAmO,OACAuE,GAAAjQ,QAAA8P,GAAArB,SAAAA,GAAA,WAEAmB,OAIA/R,EA9CA,GAAAoS,GAAA5T,EAAA,oBAgDA,OAAAkS,OAKA/W,OAAA,oBAAA,UAAA,mBAAA,UAAA,SAAA6E,GCnDA,QAAAsT,GAAApS,GAEA,GAAAjE,GAAA,GAAAiB,SAAA,SAAAf,EAAAL,GAEA,GAAAoE,EAAA4S,MAAA,EAEA,MADA3W,KACAF,CAGA,IAAA8W,GAAA7S,EAAAoS,OAAApB,EAAAoB,KAEAS,GAAA7S,EAAA/D,IAGA,OAAAF,GAjBA+C,EAAA,mBACA,IAAAkS,GAAAlS,EAAA,SAkBA,OAAAsT,KAEAnY,OAAA,oBAAA,UAAA,mBAAA,UAAA,SAAA6E,GClBA,QAAA6T,GAAA3S,GAEA,GAAAjE,GAAA,GAAAiB,SAAA,SAAAf,EAAAL,GAEA,GAAAoE,EAAA4S,MAAA,EAEA,MADA3W,KACAF,CAGA,IAAA8W,GAAA7S,EAAA2S,OAAA3B,EAAA2B,KAEAE,GAAA7S,EAAA/D,IAGA,OAAAF,GAjBA+C,EAAA,mBACA,IAAAkS,GAAAlS,EAAA,SAkBA,OAAA6T,KAEA1Y,OAAA,4BAAA,UAAA,sBAAA,oBAAA,0BAAA,uBAAA,uBAAA,SAAA6E,GCfA,QAAA8Q,GAAA5P,GAEA,GAAAjE,GAAA,GAAAiB,SAAA,SAAAf,EAAAL,GAEA,GAAA,MAAAoE,EAAA8S,cAAA,CAIArP,EAAA0D,qBAEA,IAAAjL,GAAA,GAAAgF,OAAA,2IAGA,OAFAnB,GAAAkB,cAAA/E,EAAA+C,EAAAE,KAAAa,GACApE,EAAAM,GACAH,EAGA,GAAAgE,EAAAU,UAAAT,EAAA8S,eAEA9S,EAAA8S,cAAA7X,KAAA,SAAA8X,GAOA,GALA,kBAAAA,KACAA,EAAA,GAAAA,KAIA/S,EAAAyQ,IAAAC,eAAAvG,OAAA,CACA,GAAAjO,GAAA,GAAAgF,OAAA,8CAGA,OAFAnB,GAAAkB,cAAA/E,EAAA+C,EAAAE,KAAAa,GACApE,EAAAM,GACAH,EAGA,GAAAuU,GAAAyC,CACA9W,GAAAqU,KAfAtQ,SAiBA,SAAA9D,GACA,GAAA8D,EAAAyQ,IAAAC,eAAAvG,QAAA,IAAA3N,UAAAnB,OAOA0E,EAAAkB,cAAA+R,EAAA/T,EAAAG,MAAAY,GACApE,EAAAM,OARA,CACA,GAAA8W,GAAA,GAAA9R,OAAA,8CACAnB,GAAAkB,cAAA+R,EAAA/T,EAAAE,KAAAa,GACAgT,EAAAC,UAAA/W,EACAN,EAAAoX,UAUA,IAAA7O,EAAAlC,WAAAjC,EAAA8S,eAAA,CAIA,GAAAxC,GAAA,GAAAtQ,GAAA8S,aACA7W,GAAAqU,OAEA,IAAAvQ,EAAAW,gBAAAV,EAAA8S,eAAA,CAEA,GAAAxC,GAAAtQ,EAAA8S,aACA7W,GAAAqU,OAEA,CACA,GAAApU,GAAA,GAAAgF,OAAA,6JACAnB,GAAAkB,cAAA/E,EAAA+C,EAAAE,KAAAa,GACApE,EAAAM,KAIA,OAAAH,GA3EA+C,EAAA,sBACA,IAAAiB,GAAAjB,EAAA,qBACAqF,EAAArF,EAAA,2BACAG,EAAAH,EAAA,wBACA2E,EAAA3E,EAAA,sBA0EA,OAAA8Q,KAEA3V,OAAA,4BAAA,UAAA,sBAAA,oBAAA,wBAAA,SAAA6E,GC5EA,QAAAoU,GAAAlT,GAEA,GAAAjE,GAAA,GAAAiB,SAAA,SAAAf,EAAAL,GAIA,GAAAuX,GAAAnT,EAAAsQ,KAAA4C,OAAAlT,EAAAmO,OAGAgF,GAAAlY,KAAA,WAIAgB,EAAA+D,EAAAsQ,QAJA6C,SAMA,SAAAjX,GACA6D,EAAAkB,cAAA/E,EAAA+C,EAAAG,MAAAY,GACApE,EAAAM,MAIA,OAAAH,GAzBA+C,EAAA,sBACA,IAAAiB,GAAAjB,EAAA,qBACAG,EAAAH,EAAA,uBAyBA,OAAAoU,KAEAjZ,OAAA,8BAAA,UAAA,sBAAA,oBAAA,wBAAA,SAAA6E,GCzBA,QAAAsU,GAAApT,GAEA,GAAAjE,GAAA,GAAAiB,SAAA,SAAAf,EAAAL,GAUAoE,EAAAqT,cAAA,WACApX,EAAA+D,EAAAsQ,OAGAtQ,EAAAyQ,IAAAH,KAAA8C,WAAAnY,KAAA,WAEAgB,EAAA+D,EAAAsQ,QAFAtQ,SAIA,SAAA9D,GACA6D,EAAAkB,cAAA/E,EAAA+C,EAAAG,MAAAY,GACApE,EAAAM,MAIA,OAAAH,GA9BA+C,EAAA,sBACA,IAAAiB,GAAAjB,EAAA,qBACAG,EAAAH,EAAA,uBA8BA,OAAAsU,KAEAnZ,OAAA,iCAAA,UAAA,kBAAA,kBAAA,qBAAA,SAAA6E,GC9BA,QAAAwU,KAEA,GAAAhT,KAeA,OAbAA,GAAAiT,WAAA,SAAAvT,GACA,MAAAuT,GAAAvT,IAIAM,EAAAkT,WAAA,SAAAxT,GACA,MAAAwT,GAAAxT,IAGAM,EAAAmT,aAAA,SAAAzT,GACA,MAAAyT,GAAAzT,IAGAM,EArBA,GAAAiT,GAAAzU,EAAA,mBACA0U,EAAA1U,EAAA,mBACA2U,EAAA3U,EAAA,oBAqBA,OAAA,IAAAwU,KClBA,WACA,YAQA,SAAAI,MAeA,QAAAC,GAAAC,EAAAC,GAEA,IADA,GAAA1Y,GAAAyY,EAAAvY,OACAF,KACA,GAAAyY,EAAAzY,GAAA0Y,WAAAA,EACA,MAAA1Y,EAIA,OAAA,GAUA,QAAA2Y,GAAAla,GACA,MAAA,YACA,MAAAQ,MAAAR,GAAA2C,MAAAnC,KAAAoC,YAhCA,GAAAuX,GAAAL,EAAAlW,UACAxD,EAAAI,KACA4Z,EAAAha,EAAA0Z,YA2CAK,GAAAE,aAAA,SAAAC,GACA,GACAC,GACAvR,EAFAwR,EAAAha,KAAAia,YAMA,IAAAH,YAAA7L,QAAA,CACA8L,IACA,KAAAvR,IAAAwR,GACAA,EAAArT,eAAA6B,IAAAsR,EAAAnS,KAAAa,KACAuR,EAAAvR,GAAAwR,EAAAxR,QAKAuR,GAAAC,EAAAF,KAAAE,EAAAF,MAGA,OAAAC,IASAJ,EAAAO,iBAAA,SAAAV,GACA,GACAzY,GADAoZ,IAGA,KAAApZ,EAAA,EAAAA,EAAAyY,EAAAvY,OAAAF,GAAA,EACAoZ,EAAAnX,KAAAwW,EAAAzY,GAAA0Y,SAGA,OAAAU,IASAR,EAAAS,qBAAA,SAAAN,GACA,GACAC,GADAP,EAAAxZ,KAAA6Z,aAAAC,EAQA,OALAN,aAAAhV,SACAuV,KACAA,EAAAD,GAAAN,GAGAO,GAAAP,GAaAG,EAAAU,YAAA,SAAAP,EAAAL,GACA,GAEAjR,GAFAgR,EAAAxZ,KAAAoa,qBAAAN,GACAQ,EAAA,gBAAAb,EAGA,KAAAjR,IAAAgR,GACAA,EAAA7S,eAAA6B,IAAA,KAAA+Q,EAAAC,EAAAhR,GAAAiR,IACAD,EAAAhR,GAAAxF,KAAAsX,EAAAb,GACAA,SAAAA,EACAc,MAAA,GAKA,OAAAva,OAMA2Z,EAAA9N,GAAA6N,EAAA,eAUAC,EAAAa,gBAAA,SAAAV,EAAAL,GACA,MAAAzZ,MAAAqa,YAAAP,GACAL,SAAAA,EACAc,MAAA,KAOAZ,EAAAY,KAAAb,EAAA,mBASAC,EAAAc,YAAA,SAAAX,GAEA,MADA9Z,MAAA6Z,aAAAC,GACA9Z,MASA2Z,EAAAe,aAAA,SAAAC,GACA,IAAA,GAAA5Z,GAAA,EAAAA,EAAA4Z,EAAA1Z,OAAAF,GAAA,EACAf,KAAAya,YAAAE,EAAA5Z,GAEA,OAAAf,OAWA2Z,EAAAiB,eAAA,SAAAd,EAAAL,GACA,GAAA,MAAAA,EACA,MAAAzZ,MAAA6a,YAAAf,EAEA,IACArS,GACAe,EAFAgR,EAAAxZ,KAAAoa,qBAAAN,EAIA,KAAAtR,IAAAgR,GACAA,EAAA7S,eAAA6B,KACAf,EAAA8R,EAAAC,EAAAhR,GAAAiR,GAEA,KAAAhS,GACA+R,EAAAhR,GAAA8D,OAAA7E,EAAA,GAKA,OAAAzH,OAMA2Z,EAAA9M,IAAA6M,EAAA,kBAYAC,EAAA7F,aAAA,SAAAgG,EAAAN,GAEA,MAAAxZ,MAAA8a,qBAAA,EAAAhB,EAAAN,IAaAG,EAAAoB,gBAAA,SAAAjB,EAAAN,GAEA,MAAAxZ,MAAA8a,qBAAA,EAAAhB,EAAAN,IAeAG,EAAAmB,oBAAA,SAAAvG,EAAAuF,EAAAN,GACA,GAAAzY,GACA6C,EACAoX,EAAAzG,EAAAvU,KAAA4a,eAAA5a,KAAAqa,YACAY,EAAA1G,EAAAvU,KAAA+a,gBAAA/a,KAAA8T,YAGA,IAAA,gBAAAgG,IAAAA,YAAA7L,QAmBA,IADAlN,EAAAyY,EAAAvY,OACAF,KACAia,EAAAtZ,KAAA1B,KAAA8Z,EAAAN,EAAAzY,QAnBA,KAAAA,IAAA+Y,GACAA,EAAAnT,eAAA5F,KAAA6C,EAAAkW,EAAA/Y,MAEA,kBAAA6C,GACAoX,EAAAtZ,KAAA1B,KAAAe,EAAA6C,GAIAqX,EAAAvZ,KAAA1B,KAAAe,EAAA6C,GAeA,OAAA5D,OAYA2Z,EAAAkB,YAAA,SAAAf,GACA,GAEAtR,GAFAtD,QAAA4U,GACAE,EAAAha,KAAAia,YAIA,IAAA,WAAA/U,QAEA8U,GAAAF,OAEA,IAAAA,YAAA7L,QAEA,IAAAzF,IAAAwR,GACAA,EAAArT,eAAA6B,IAAAsR,EAAAnS,KAAAa,UACAwR,GAAAxR,cAMAxI,MAAAkb,OAGA,OAAAlb,OAQA2Z,EAAAwB,mBAAAzB,EAAA,eAcAC,EAAAyB,UAAA,SAAAlV,EAAA4T,EAAA5M,GAEA,GACAsM,GACAC,EACA1Y,EACAyH,EACAuR,EALAsB,EAAArb,KAAAoa,qBAAAN,EAOA,KAAAtR,IAAA6S,GACA,GAAAA,EAAA1U,eAAA6B,GAIA,IAHAgR,EAAA6B,EAAA7S,GAAAyB,MAAA,GACAlJ,EAAAyY,EAAAvY,OAEAF,KAGA0Y,EAAAD,EAAAzY,GAEA0Y,EAAAc,QAAA,GACAva,KAAA4a,eAAAd,EAAAL,EAAAA,UAGAM,EAAAN,EAAAA,SAAAtX,MAAA+D,EAAAgH,OAEA6M,IAAA/Z,KAAAsb,uBACAtb,KAAA4a,eAAAd,EAAAL,EAAAA;AAMA,AvBzYA,MuByYAzZ,OAMA2Z,EAAA4B,QAAA7B,EAAA,aAUAC,EAAArF,KAAA,SAAApO,EAAA4T,GAEA,GAAA5M,GAAA1I,MAAApB,UAAA6G,MAAAvI,KAAAU,UAAA,EACA,OAAApC,MAAAob,UAAAlV,EAAA4T,EAAA5M,IAWAyM,EAAA6B,mBAAA,SAAA5X,GAEA,MADA5D,MAAAyb,iBAAA7X,EACA5D,MAWA2Z,EAAA2B,oBAAA,WACA,MAAAtb,MAAA2G,eAAA,oBACA3G,KAAAyb,kBAGA,GAUA9B,EAAAM,WAAA,WACA,MAAAja,MAAAkb,UAAAlb,KAAAkb,aAQA5B,EAAAoC,WAAA,WAEA,MADA9b,GAAA0Z,aAAAM,EACAN,GAIA,kBAAAzZ,SAAAA,OAAAC,IACAD,OAAA,4BAAA,WACA,MAAAyZ,KAGA,gBAAA3Z,SAAAA,OAAAC,QACAD,OAAAC,QAAA0Z,EAGA1Z,EAAA0Z,aAAAA,GAEA5X,KAAA1B,MCjdAH,OAAA,QAAA,UAAA,kBAAA,kBAAA,UAAA,yBAAA,+BAAA,4BAAA,8BAAA,2BAAA,kCAAA,qBAAA,qBAAA,kCAAA,mBAAA,gBAAA,eAAA,sBAAA,2BAAA,oBAAA,SAAA6E,GAqBA,QAAA2P,KAqKA,QAAAsH,GAAA/V,GACA,MAAAgW,EAAAnS,KACAoS,EAAAjW,GAGAkW,EAAAlW,GAIA,QAAAiW,GAAAjW,GAEAmW,EAAAnW,GAAA/E,KAAA,cAAAkb,SAEA,SAAAja,GAEAka,EAAApW,GACAD,EAAAkB,cAAA/E,EAAA+C,EAAAG,MAAAY,GACAqW,EAAArW,EAAA9D,KAIA,QAAAga,GAAAlW,GAGAsW,EAAAtW,GAAA/E,KAAA,WACAkb,EAAAnW,GAAA/E,KAAA,cAAAkb,SAEA,SAAAja,GAEAka,EAAApW,GACAD,EAAAkB,cAAA/E,EAAA+C,EAAAG,MAAAY,GACAqW,EAAArW,EAAA9D,OAPAoa,SAUA,SAAApa,GAEAka,EAAApW,GACAD,EAAAkB,cAAA/E,EAAA+C,EAAAG,MAAAY,GACAqW,EAAArW,EAAA9D,KAIA,QAAAqa,GAAAvW,GAEAwW,EAAAnb,OAAA,IACA2E,EAAAqT,eACArT,EAAAqT,gBAGAX,EAAAzL,KAAA,GACAyL,EAAAjB,OACAgF,EAAAC,QAAA,GAgMA,QAAAP,GAAAnW,GACA,GAAAjE,GAAA,GAAAiB,SAAA,SAAAf,EAAAL,GAEA,GAAA+a,IACArQ,MAAAtG,EAAAsG,MACAzC,KAAA7D,EAAA6D,KACA0D,YAAAvH,EAAAuH,YACAD,KAAAtH,EAAAsH,KACAmJ,IAAAzQ,EAAAyQ,IACA5C,YAAA7N,EAAA6N,YACAM,OAAAnO,EAAAmO,OACA+B,MACArC,YAAA7N,EAAAyQ,IAAAzQ,QAAA6N,YACAhK,KAAA7D,EAAAyQ,IAAA5M,KACAyC,MAAAtG,EAAAyQ,IAAAnK,MACAiB,YAAAvH,EAAAyQ,IAAAzQ,QAAAuH,YACA+I,KAAAtQ,EAAAyQ,IAAAH,KACAhJ,KAAAtH,EAAAyQ,IAAAzQ,QAAAsH,MAGAhH,GAAAsW,aAAA,aAAA5W,GAEA+P,EAAA4G,GAAA1b,KAAA,SAAA6X,GAEA9S,EAAA8S,cAAAA,EACAxS,EAAAiT,WAAAvT,GAAA/E,KAAA,SAAAqV,GAEAtQ,EAAAsQ,KAAAA,EACAtQ,EAAAyO,KAAAnO,EACAA,EAAAsW,aAAA,OAAA5W,GAEAM,EAAAuW,eAAA7W,GAAA/E,KAAA,SAAAqV,GAEAwG,IACA7a,MAHAqE,SAKA,SAAApE,GAEA4a,IAEA/W,EAAAkB,cAAA/E,EAAA+C,EAAAG,MAAAY,GACApE,EAAAM,OAhBAoE,SAmBA,SAAApE,GAEA4a,IAEA/W,EAAAkB,cAAA/E,EAAA+C,EAAAG,MAAAY,GACApE,EAAAM,OA3BA6T,SA8BA,SAAA7T,GAEA4a,IAEA/W,EAAAkB,cAAA/E,EAAA+C,EAAAG,MAAAY,GACApE,EAAAM,MAIA,OAAAH,GAGA,QAAAua,GAAAtW,GACA,GAAAjE,GAAA,GAAAiB,SAAA,SAAAf,EAAAL,GAEA,GAAAmb,IACA3Y,MACAyF,KAAA7D,EAAA6D,KACAyC,MAAAtG,EAAAsG,MACAgK,KAAAtQ,EAAAsQ,KACAhJ,KAAAtH,EAAAsH,KACAC,YAAAvH,EAAAuH,YACAsG,YAAA7N,EAAA6N,aAEAhK,KAAAmS,EAAAnS,KACAyC,MAAA0P,EAAA1P,MACAgK,KAAA0F,EAAA1F,KACA/I,YAAAyO,EAAAhW,QAAAuH,YACAD,KAAA0O,EAAAhW,QAAAsH,KACAmJ,IAAAzQ,EAAAyQ,IACA5C,YAAAmI,EAAAhW,QAAA6N,YACAM,OAAA6H,EAAAhW,QAAAmO,OAIAiC,GAAA2G,GAAA9b,KAAA,WAEAqF,EAAAsW,aAAA,SAAA5W,GAEAM,EAAAsW,aAAA,iBAAA5W,GAEA/D,MANAmU,SAQA,SAAAlU,GAGA6D,EAAAkB,cAAA/E,EAAA+C,EAAAG,MAAAY,GACApE,EAAAM,MAIA,OAAAH,GAsYA,QAAA+a,KACAN,EAAA9P,OAAA,EAAA,GACA,IAAA8P,EAAAnb,SAIAob,EAAAC,QAAA,EACAD,GAAAC,QAAA,GACAM,EAAAP,IAMA,QAAAO,GAAAP,GAEA9Y,WAAA,WACA8Y,EAAAC,QACAhE,EAAAzL,KAAA,IAEA,KAGA,QAAAoP,GAAArW,EAAA9D,GAMA8D,EAAAK,MAAAnE,EACAoE,EAAAsW,aAAA,OAAA5W,GACAD,EAAAoB,SAAAjF,GAyBA,QAAAka,GAAApW,GAGAA,EAAAyQ,IAAAC,eAAAvG,UAAA,IAKAnK,EAAAyQ,IAAAC,eAAAvG,QAAA,EAEA0D,EAAAxB,MAAArM,EAAAmO,QACAN,EAAA4B,MAAAzP,EAAAmO,SAIA,QAAA8I,GAAApZ,EAAAqZ,GAEArZ,EAAA0I,UACAhJ,OAAAK,eAAAC,EAAA,YACAsZ,YAAA,EACAlZ,UAAA,EACAD,MAAAkZ,IAh9BA,GAAA5W,GAAA,GAAAoT,GACA0D,EAAA9W,EAAAoO,KAEA+H,GAAAC,QAAA,GAIAW,KAEArB,GACA1F,KAAA,KACAzM,KAAA,KACA6M,gBAAAvG,QAAA,GACA7D,MAAA,KACAtG,SACAuH,YAAA,KACAD,KAAA,KACA+L,cAAA,OAIAmD,KAEAc,GACAnJ,OAAA,KACA7I,OAAA,KACA/B,aAAA,KACAsB,qBAAA,KACAuN,MAAA,KACAO,MAAA,KACAC,IAAA,EACA2E,YAAAjE,EACAkE,OAAA,GAGAC,GACAhJ,KAAAnO,EACA0O,aAEAnB,EAAA6J,EAAAD,EA86BA,OA56BAnX,GAAAsF,KAAA,SAAA5F,GACA,GAAA,MAAAA,EACA,KAAA,IAAAkB,OAAA,gCAEAoW,GAAAnT,EAAAzB,UAAA4U,EAAAtX,GACAM,EAAAqX,oBAAAL,GAEAvY,EAAAC,MAAA6R,EAAA7R,MAAAsY,EAAAE,MAEA/T,EAAAwC,GAAA,YAAA,SAAA2R,GACA,MAAAtX,EAAAuX,iBACAD,EAAAE,cAAA,EAEAF,EAAAE,cAAA,EAEAxX,EAAAyX,YAAAH,KAGAI,EAAAhY,GAEAyD,EAAAmC,MACAN,OAAAgS,EAAAhS,OACA/B,aAAAvD,EAAAuD,aACAsB,qBAAA7E,EAAA6E,wBAIAvE,EAAAmD,OAAA,WACA,MAAAA,IAGAnD,EAAAqX,oBAAA,SAAA3X,GACA,GAAA,MAAAA,EAAAuX,YACA,KAAA,IAAArW,OAAA,8BAEA,IAAA,MAAAlB,EAAAuX,YAAAhE,WACA,KAAA,IAAArS,OAAA,kDAEA,IAAA,MAAAlB,EAAAuX,YAAA/D,WACA,KAAA,IAAAtS,OAAA,kDAEA,IAAA,MAAAlB,EAAAuX,YAAA9D,aACA,KAAA,IAAAvS,OAAA,uDAIAZ,EAAA+G,GAAA,SAAArH,GAKArC,WAAA,WACA8F,EAAA4D,GAAArH,MAIAM,EAAA2X,MAAA,SAAApa,GACA,MAAA,OAAAA,EACA,KAEAA,EAAA0I,UAGAjG,EAAA4X,iBAAA,WACA,MAAAZ,GAAAnJ,QAGA7N,EAAAuX,eAAA,WACA,MAAA7B,GAAA1P,OAGAhG,EAAA6X,cAAA,WACA,MAAAnC,GAAA1F,MAGAhQ,EAAA8X,oBAAA,WACA,MAAApC,GAAAnS,MAGAvD,EAAA+X,sBAAA,WACA,MAAA/E,IAGAhT,EAAAyX,YAAA,SAAA/X,GAEA,IACAwW,EAAApZ,KAAA,GAEA4C,EAAAmO,OAAAnO,EAAAmO,QAAAmJ,EAAAnJ,OACAnO,EAAAuH,YAAAvH,EAAAuH,gBACAvH,EAAAsH,KAAAtH,EAAAsH,SACAtH,EAAA6N,YAAAyK,EAAA1I,OAAA/B,EAAA7N,GAGAA,EAAAyQ,IAAAtM,EAAAzB,UAAAsT,GAGAI,EAAApW,EAGA,IAAA0Q,IAAAvG,QAAA,EACA6L,GAAAtF,eAAAA,EACA1Q,EAAAyQ,IAAAC,eAAAA,EAEA6F,EAAAc,GAIAA,EAAArX,CAEA,IAAA6D,GAAAvD,EAAAiY,iBAAAvY,EAAAjG,OACAiG,GAAA6D,KAAAA,QACA7D,GAAAjG,OAGAgc,EAAA/V,GAEA,MAAA9D,GACAma,EAAArW,EAAA9D,KA4DAoE,EAAAiY,iBAAA,SAAAC,GACA,GAAAA,YAAAC,UAAA,CAEA,GAAArP,GAAA,GAAAoP,EAIA,OAHA,OAAApP,EAAA7C,UACA0Q,EAAA7N,EAAAoP,EAAAjS,UAEA6C,EAIA,MAAAoP,IAIAlY,EAAAuW,eAAA,SAAA7W,GACA,GAAAjE,GAAA,GAAAiB,SAAA,SAAAf,EAAAL,GACA8c,EAAA1Y,EAEA,IAAA2Y,EAmBA,IAdAA,EAHA,MAAA3Y,EAAAsG,MAAAsS,OAAA,MAAA5C,EAAA1P,OAAA,MAAA0P,EAAA1P,MAAAuS,MAGAvY,EAAAwY,iBAFAxY,EAAAyY,wBAKAJ,EAAA3Y,GAAA/E,KAAA,WACAqF,EAAA0Y,cAAA,aAAAhZ,GACAM,EAAAsW,aAAA,WAAA5W,GACA/D,EAAA+D,EAAAsQ,QAHAqI,SAKA,SAAAzc,GACA6D,EAAAkB,cAAA/E,EAAA+C,EAAAG,MAAAY,GACApE,EAAAM,MAIA8D,EAAAyQ,IAAAC,eAAAvG,OAAA,CACA,GAAAjO,GAAA,GAAAgF,OAAA,8CACAnB,GAAAkB,cAAA/E,EAAA+C,EAAAE,KAAAa,GACApE,EAAAM,KAIA,OAAAH,IAGAuE,EAAA0Y,cAAA,SAAAlS,EAAA9G,GAEA,GAAA6D,GAAA7D,EAAA6D,IACA,IAAA,kBAAAA,GAAAiD,GAAA,CAEA,GAAAmS,IACApL,YAAA7N,EAAA6N,YACAtG,YAAAvH,EAAAuH,YACAD,KAAAtH,EAAAsH,KACAgJ,KAAAtQ,EAAAsQ,KACAzM,KAAA7D,EAAA6D,KACAyC,MAAAtG,EAAAsG,OAGA4S,GACArL,YAAA7N,EAAAyQ,IAAAzQ,QAAA6N,YACAhK,KAAA7D,EAAAyQ,IAAA5M,KACAyC,MAAAtG,EAAAyQ,IAAAnK,MACAiB,YAAAvH,EAAAyQ,IAAAzQ,QAAAuH,YACAD,KAAAtH,EAAAyQ,IAAAzQ,QAAAsH,KACAgJ,KAAAtQ,EAAAyQ,IAAAH,MAGA6I,IAEA,gBAAArS,GAEAqS,EAAAD,EACAC,EAAA/a,KAAA6a,IAGAE,EAAAF,EACAE,EAAAjJ,KAAAgJ,GAGArV,EAAAiD,GAAAqS,KAIA7Y,EAAAoO,KAAA,SAAApO,EAAA4T,GACA,GAAA,gBAAA5T,GAAA,CACA,GAAAgH,GAAA1I,MAAApB,UAAA6G,MAAAvI,KAAAU,UAEA,OADA8K,GAAA8R,QAAAhf,MACAgd,EAAA7a,MAAAnC,KAAAkN,GAEA8P,EAAA7a,MAAAnC,KAAAoC,YAIA8D,EAAAsW,aAAA,SAAA9P,EAAA9G,GACAA,EAAAA,MACAA,EAAAyQ,IAAAzQ,EAAAyQ,OACA,IAAA5W,GAAA,KAKAgK,GAHAyT,EAAAnJ,SAAAnO,EAAAmO,OAGAnO,EAAA6D,KACA,OAAAA,IACAA,KAGA,IAAAoV,IACApL,YAAA7N,EAAA6N,YACAtG,YAAAvH,EAAAuH,YACAD,KAAAtH,EAAAsH,KACAgJ,KAAAtQ,EAAAsQ,KACAzM,KAAA7D,EAAA6D,KACAyC,MAAAtG,EAAAsG,OAGA4S,GACArL,YAAA7N,EAAAyQ,IAAAzQ,QAAA6N,YACAhK,KAAA7D,EAAAyQ,IAAA5M,KACAyC,MAAAtG,EAAAyQ,IAAAnK,MACAiB,YAAAvH,EAAAyQ,IAAAzQ,QAAAuH,YACAD,KAAAtH,EAAAyQ,IAAAzQ,QAAAsH,KACAgJ,KAAAtQ,EAAAyQ,IAAAH,MAGA/B,IAcA,YAAAzH,GAAA,mBAAAA,GAAA,aAAAA,GACAyH,EAAA2K,EACA3K,EAAAnQ,KAAA6a,EACApf,EAAAqf,EAAA5I,MAEA,SAAAxJ,GACAyH,EAAA2K,EACA3K,EAAA2B,KAAA/L,EAAAzB,UAAAwW,GAEA3K,EAAAnQ,KAAA6a,EACA1K,EAAAlO,MAAAL,EAAAK,MAGAxG,EADAqf,EAAA5I,KACA4I,EAAA5I,KAEA2I,EAAA3I,OAIA/B,EAAA0K,EACA1K,EAAA2B,KAAAgJ,EACArf,EAAAof,EAAA3I,KAeA,IAAA7O,GAAA,KACAnB,GAAAoO,KAAA7U,EAAA4H,EAAAqF,EAAAyH,GAGAvO,EAAA8G,IACA9G,EAAA8G,GAAAhL,KAAAjC,EAAA0U,IA8GAjO,EAAAsY,MAAA,SAAA5Y,GAEAA,EAAAqZ,eACArZ,EAAAA,EAAAqZ,aAGA,IAAAtd,GAAA,GAAAiB,SAAA,SAAAf,EAAAL,GAEA,GAAA0d,IACApI,SAAA,OACA/C,OAAAnO,EAAAmO,OACAiE,MAAAkF,EAAAlF,MACAQ,GAAA0E,EAAA1E,KAAA,IAGA5S,EAAA4S,MAAA,GAAA5S,EAAA4S,MAAA,KACA0G,EAAA1G,GAAA5S,EAAA4S,IAGA,MAAAoD,EAAAnS,OACAyV,EAAAhH,WAAA,GAGAhS,EAAAkT,WAAAxT,GAAA/E,KAAA,WAEA+E,EAAAqZ,eACArZ,EAAAA,EAAAqZ,cAGAE,EAAAD,GAAAre,KAAA,WAEAgB,EAAA+D,EAAAsQ,QAFAiJ,SAIA,SAAArd,GAEA6D,EAAAkB,cAAA/E,EAAA+C,EAAAG,MAAAY,GACApE,EAAAM,OAbAoE,SAgBA,SAAApE,GAEA6D,EAAAkB,cAAA/E,EAAA+C,EAAAG,MAAAY,GACApE,EAAAM,MAIA,OAAAH,IAGAuE,EAAAuY,MAAA,SAAA7Y,GAEAA,EAAAqZ,eACArZ,EAAAA,EAAAqZ,aAGA,IAAAtd,GAAA,GAAAiB,SAAA,SAAAf,EAAAL,GAEA,GAAA4d,IACAtI,SAAA,IACA/C,OAAAnO,EAAAmO,OACAwE,MAAA2E,EAAA3E,MACAC,GAAA0E,EAAA1E,KAAA,IAEA5S,EAAA4S,MAAA,GAAA5S,EAAA4S,MAAA,KACA4G,EAAA5G,GAAA5S,EAAA4S,IAGA,MAAAoD,EAAAnS,OACA2V,EAAAlH,WAAA,EACAkH,EAAAtI,SAAA,GAGAuI,EAAAD,GAAAve,KAAA,WACA,IAAA+E,EAAAyQ,IAAAC,eAAAvG,OAAA,CACA,GAAAjO,GAAA,GAAAgF,OAAA,8CAGA,OAFAnB,GAAAkB,cAAA/E,EAAA+C,EAAAE,KAAAa,OACApE,GAAAM,GAIAoE,EAAAmT,aAAAzT,GAAA/E,KAAA,WACAgB,EAAA+D,EAAAsQ,QADAhQ,SAGA,SAAApE,GACA6D,EAAAkB,cAAA/E,EAAA+C,EAAAG,MAAAY,GACApE,EAAAM,OAbAud,SAgBA,SAAAvd,GAEA6D,EAAAkB,cAAA/E,EAAA+C,EAAAG,MAAAY,GACApE,EAAAM,MAIA,OAAAH,IAGAuE,EAAAyY,wBAAA,SAAA/Y,GAEAA,EAAAqZ,eACArZ,EAAAA,EAAAqZ,aAGA,IAAAtd,GAAA,GAAAiB,SAAA,SAAAf,EAAAL,GAEA0E,EAAAuY,MAAA7Y,GAAA/E,KAAA,WAEAqF,EAAAsY,MAAA5Y,GAAA/E,KAAA,WACAgB,EAAA+D,EAAAsQ,QADAhQ,SAGA,SAAApE,GAEA6D,EAAAkB,cAAA/E,EAAA+C,EAAAG,MAAAY,GACApE,EAAAM,OARAoE,SAWA,SAAApE,GAEA6D,EAAAkB,cAAA/E,EAAA+C,EAAAG,MAAAY,GACApE,EAAAM,MAKA,OAAAH,IAGAuE,EAAAoZ,YAAA,SAAA1Z,GACA,GAAAjE,GAAA,GAAAiB,SAAA,SAAAf,EAAAL,GAEA,GAaA+d,GACAC,EAdAC,GACAhW,KAAAmS,EAAAnS,KACAyM,KAAA0F,EAAA1F,KACAhK,MAAA0P,EAAA1P,MACA6H,OAAAnO,EAAAmO,OACAkL,aAAArZ,EACA5B,MACAyF,KAAA7D,EAAA6D,KACAyM,KAAAtQ,EAAAsQ,KACAhK,MAAAtG,EAAAsG,OAOA,OAAAtG,EAAAyQ,IAAAH,MAEAqJ,EAAA,aAEAC,EAAA,eAIA,MAAA5D,EAAA1P,QACAqT,EAAA3D,EAAA1P,MAAAuS,MACAe,EAAAtZ,EAAAwZ,qBAIA,MAAAH,IAEAA,EAAArZ,EAAAuY,MAGAe,EAAA,aAEAC,EAAA7Z,GAIA,IAAA+Z,GAAAJ,EAAAE,EACA,OAAAE,IACAA,EAAAha,EAAAS,eAGAuZ,EAAA9e,KAAA,WAIA,GAFA2e,EAAA5Z,IAEAA,EAAAyQ,IAAAC,eAAAvG,OAAA,CACA,GAAAjO,GAAA,GAAAgF,OAAA,8CAGA,OAFAnB,GAAAkB,cAAA/E,EAAA+C,EAAAE,KAAAa,OACApE,GAAAM,GAIAD,MAXA8d,SAcA,SAAA7d,GACA6D,EAAAkB,cAAA/E,EAAA+C,EAAAG,MAAAY,GACApE,EAAAM,MAIA,OAAAH,IAGAuE,EAAA0Z,YAAA,SAAAha,GACA,GAAAjE,GAAA,GAAAiB,SAAA,SAAAf,EAAAL,GAEA,GAAAqe,IACApW,KAAA7D,EAAA6D,KACAyM,KAAAtQ,EAAAsQ,KACAhK,MAAAtG,EAAAsG,MACA6H,OAAAnO,EAAAmO,OACAkL,aAAArZ,EACAkQ,MACArM,KAAAmS,EAAAnS,KACAyM,KAAA0F,EAAA1F,KACAhK,MAAA0P,EAAA1P,QAIA4T,EAAAla,EAAAsG,MAAAsS,MACAuB,EAAA7Z,EAAA8Z,iBAGA,OAAAF,IACAA,EAAA5Z,EAAAsY,MAGAuB,EAAA,aAEAF,EAAAja,EAGA,IAAAqa,GAAAH,EAAAD,EACA,OAAAI,IACAA,EAAAta,EAAAS,eAGA6Z,EAAApf,KAAA,WAEAkf,EAAAna,GACA/D,EAAA+D,EAAAsQ,QAHA+J,SAKA,SAAAne,GACA6D,EAAAkB,cAAA/E,EAAA+C,EAAAG,MAAAY,GACApE,EAAAM,MAIA,OAAAH,IAIAuE,EAAAwY,iBAAA,SAAA9Y,GACA,GAAAjE,GAAA,GAAAiB,SAAA,SAAAf,EAAAL,GAEA0E,EAAAoZ,YAAA1Z,GAAA/E,KAAA,WAEAqF,EAAA0Z,YAAAha,GAAA/E,KAAA,WAEAgB,EAAA+D,EAAAsQ,QAFAhQ,SAIA,SAAApE,GACA6D,EAAAkB,cAAA/E,EAAA+C,EAAAG,MAAAY,GACApE,EAAAM,OARAoE,SAWA,SAAApE,GACA6D,EAAAkB,cAAA/E,EAAA+C,EAAAG,MAAAY,GACApE,EAAAM,MAIA,OAAAH,IAGAuE,EAAAiT,WAAA,SAAAvT,GAEAA,EAAAqZ,eACArZ,EAAAA,EAAAqZ,aAGA,IAAAtd,GAAAub,EAAAC,YAAAhE,WAAAvT,EACA,OAAAjE,IAGAuE,EAAAkT,WAAA,SAAAxT,GAEAA,EAAAqZ,eACArZ,EAAAA,EAAAqZ,aAGA,IAAAtd,GAAA,GAAAiB,SAAA,SAAAf,EAAAL,GAIA,GAAA0e,GAAAhD,EAAAC,YAAA/D,WAAAxT,EAEAM,GAAA8Z,kBAAApa,GAEAsa,EAAArf,KAAA,WAEAgB,EAAA+D,EAAAsQ,QAFAgK,SAIA,SAAApe,GACA6D,EAAAkB,cAAA/E,EAAA+C,EAAAG,MAAAY,GACApE,EAAAM,MAIA,OAAAH,IAGAuE,EAAA8Z,kBAAA,SAAApa,GAIAA,EAAAua,2BAGAva,EAAAua,0BAAA,EAGAja,EAAAka,UAAAxa,GAEAM,EAAA0Y,cAAA,WAAAhZ,GACAM,EAAAsW,aAAA,SAAA5W,KAGAM,EAAAmT,aAAA,SAAAzT,GAEAA,EAAAqZ,eACArZ,EAAAA,EAAAqZ,aAGA,IAAAtd,GAAA,GAAAiB,SAAA,SAAAf,EAAAL,GAEA,GAAA,MAAAoE,EAAAyQ,IAAAH,KAEArU,QAEA,CAGA,GAAAwe,GAAAnD,EAAAC,YAAA9D,aAAAzT,EAEAya,GAAAxf,KAAA,WAKA,GAFAqF,EAAAwZ,oBAAA9Z,IAEAA,EAAAyQ,IAAAC,eAAAvG,OAAA,CACA,GAAAjO,GAAA,GAAAgF,OAAA,8CAGA,OAFAnB,GAAAkB,cAAA/E,EAAA+C,EAAAE,KAAAa,OACApE,GAAAM,GAIAD,EAAA+D,EAAAyQ,IAAAH,QAZAmK,SAeA,SAAAve,GACA6D,EAAAkB,cAAA/E,EAAA+C,EAAAG,MAAAY,GACApE,EAAAM,OAKA,OAAAH,IAGAuE,EAAAwZ,oBAAA,SAAA9Z,GAIAA,EAAA0a,6BAGA1a,EAAA0a,4BAAA,EAEApa,EAAA0Y,cAAA,aAAAhZ,GACAM,EAAAsW,aAAA,WAAA5W,KAGAM,EAAAka,UAAA,SAAAxa,GACAgW,EAAA1F,KAAAtQ,EAAAsQ,KACA0F,EAAAnS,KAAA7D,EAAA6D,KACAmS,EAAAhW,QAAAA,EACAgW,EAAA1P,MAAAtG,EAAAsG,OAqFAhG,EA1+BA,GAAAmD,GAAA3E,EAAA,kBACAA,GAAA,kBACA,IAAA+R,GAAA/R,EAAA,WACA4Y,EAAA5Y,EAAA,0BACAwZ,EAAAxZ,EAAA,gCACAiR,EAAAjR,EAAA,6BACAsR,EAAAtR,EAAA,+BACA4Z,EAAA5Z,EAAA,4BACAkZ,EAAAlZ,EAAA,mCACAya,EAAAza,EAAA,sBACA2a,EAAA3a,EAAA,sBACAwU,EAAAxU,EAAA,mCACAG,EAAAH,EAAA,oBACAiB,EAAAjB,EAAA,iBACAC,EAAAD,EAAA,gBACAqF,EAAArF,EAAA,uBACA4U,EAAA5U,EAAA,4BACA4T,EAAA5T,EAAA,oBA49BAsK,EAAAqF,GACA,OAAArF;AxB3/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACtXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChKA,ADiKA;AChKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtIA,ADuIA;ACtIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACnkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpHA,ADqHA;ACpHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjDA,ADkDA;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjEA,ADkEA;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC1UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA,ADuBA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1EA,AD2EA;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5LA,AD6LA;AC5LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA,ADuBA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnCA,ADoCA;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9dA,AD+dA;AC9dA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"kudu.0.0.5.min.js","sourcesContent":["/*! Native Promise Only\r\n    v0.8.1 (c) Kyle Simpson\r\n    MIT License: http://getify.mit-license.org\r\n*/\r\n\r\n(function UMD(name,context,definition){\r\n\t// special form of UMD for polyfilling across evironments\r\n\tcontext[name] = context[name] || definition();\r\n\tif (typeof module != \"undefined\" && module.exports) { module.exports = context[name]; }\r\n\telse if (typeof define == \"function\" && define.amd) { define('utils/jqr/npo',[],function $AMD$(){ return context[name]; }); }\r\n})(\"Promise\",typeof global != \"undefined\" ? global : this,function DEF(){\r\n\t/*jshint validthis:true */\r\n\t\"use strict\";\r\n\r\n\tvar builtInProp, cycle, scheduling_queue,\r\n\t\tToString = Object.prototype.toString,\r\n\t\ttimer = (typeof setImmediate != \"undefined\") ?\r\n\t\t\tfunction timer(fn) { return setImmediate(fn); } :\r\n\t\t\tsetTimeout\r\n\t;\r\n\r\n\t// dammit, IE8.\r\n\ttry {\r\n\t\tObject.defineProperty({},\"x\",{});\r\n\t\tbuiltInProp = function builtInProp(obj,name,val,config) {\r\n\t\t\treturn Object.defineProperty(obj,name,{\r\n\t\t\t\tvalue: val,\r\n\t\t\t\twritable: true,\r\n\t\t\t\tconfigurable: config !== false\r\n\t\t\t});\r\n\t\t};\r\n\t}\r\n\tcatch (err) {\r\n\t\tbuiltInProp = function builtInProp(obj,name,val) {\r\n\t\t\tobj[name] = val;\r\n\t\t\treturn obj;\r\n\t\t};\r\n\t}\r\n\r\n\t// Note: using a queue instead of array for efficiency\r\n\tscheduling_queue = (function Queue() {\r\n\t\tvar first, last, item;\r\n\r\n\t\tfunction Item(fn,self) {\r\n\t\t\tthis.fn = fn;\r\n\t\t\tthis.self = self;\r\n\t\t\tthis.next = void 0;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tadd: function add(fn,self) {\r\n\t\t\t\titem = new Item(fn,self);\r\n\t\t\t\tif (last) {\r\n\t\t\t\t\tlast.next = item;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tfirst = item;\r\n\t\t\t\t}\r\n\t\t\t\tlast = item;\r\n\t\t\t\titem = void 0;\r\n\t\t\t},\r\n\t\t\tdrain: function drain() {\r\n\t\t\t\tvar f = first;\r\n\t\t\t\tfirst = last = cycle = void 0;\r\n\r\n\t\t\t\twhile (f) {\r\n\t\t\t\t\tf.fn.call(f.self);\r\n\t\t\t\t\tf = f.next;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t})();\r\n\r\n\tfunction schedule(fn,self) {\r\n\t\tscheduling_queue.add(fn,self);\r\n\t\tif (!cycle) {\r\n\t\t\tcycle = timer(scheduling_queue.drain);\r\n\t\t}\r\n\t}\r\n\r\n\t// promise duck typing\r\n\tfunction isThenable(o) {\r\n\t\tvar _then, o_type = typeof o;\r\n\r\n\t\tif (o != null &&\r\n\t\t\t(\r\n\t\t\t\to_type == \"object\" || o_type == \"function\"\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\t_then = o.then;\r\n\t\t}\r\n\t\treturn typeof _then == \"function\" ? _then : false;\r\n\t}\r\n\r\n\tfunction notify() {\r\n\t\tfor (var i=0; i<this.chain.length; i++) {\r\n\t\t\tnotifyIsolated(\r\n\t\t\t\tthis,\r\n\t\t\t\t(this.state === 1) ? this.chain[i].success : this.chain[i].failure,\r\n\t\t\t\tthis.chain[i]\r\n\t\t\t);\r\n\t\t}\r\n\t\tthis.chain.length = 0;\r\n\t}\r\n\r\n\t// NOTE: This is a separate function to isolate\r\n\t// the `try..catch` so that other code can be\r\n\t// optimized better\r\n\tfunction notifyIsolated(self,cb,chain) {\r\n\t\tvar ret, _then;\r\n\t\ttry {\r\n\t\t\tif (cb === false) {\r\n\t\t\t\tchain.reject(self.msg);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (cb === true) {\r\n\t\t\t\t\tret = self.msg;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tret = cb.call(void 0,self.msg);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (ret === chain.promise) {\r\n\t\t\t\t\tchain.reject(TypeError(\"Promise-chain cycle\"));\r\n\t\t\t\t}\r\n\t\t\t\telse if (_then = isThenable(ret)) {\r\n\t\t\t\t\t_then.call(ret,chain.resolve,chain.reject);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tchain.resolve(ret);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (err) {\r\n\t\t\tchain.reject(err);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction resolve(msg) {\r\n\t\tvar _then, self = this;\r\n\r\n\t\t// already triggered?\r\n\t\tif (self.triggered) { return; }\r\n\r\n\t\tself.triggered = true;\r\n\r\n\t\t// unwrap\r\n\t\tif (self.def) {\r\n\t\t\tself = self.def;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tif (_then = isThenable(msg)) {\r\n\t\t\t\tschedule(function(){\r\n\t\t\t\t\tvar def_wrapper = new MakeDefWrapper(self);\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t_then.call(msg,\r\n\t\t\t\t\t\t\tfunction $resolve$(){ resolve.apply(def_wrapper,arguments); },\r\n\t\t\t\t\t\t\tfunction $reject$(){ reject.apply(def_wrapper,arguments); }\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch (err) {\r\n\t\t\t\t\t\treject.call(def_wrapper,err);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tself.msg = msg;\r\n\t\t\t\tself.state = 1;\r\n\t\t\t\tif (self.chain.length > 0) {\r\n\t\t\t\t\tschedule(notify,self);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (err) {\r\n\t\t\treject.call(new MakeDefWrapper(self),err);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction reject(msg) {\r\n\t\tvar self = this;\r\n\r\n\t\t// already triggered?\r\n\t\tif (self.triggered) { return; }\r\n\r\n\t\tself.triggered = true;\r\n\r\n\t\t// unwrap\r\n\t\tif (self.def) {\r\n\t\t\tself = self.def;\r\n\t\t}\r\n\r\n\t\tself.msg = msg;\r\n\t\tself.state = 2;\r\n\t\tif (self.chain.length > 0) {\r\n\t\t\tschedule(notify,self);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction iteratePromises(Constructor,arr,resolver,rejecter) {\r\n\t\tfor (var idx=0; idx<arr.length; idx++) {\r\n\t\t\t(function IIFE(idx){\r\n\t\t\t\tConstructor.resolve(arr[idx])\r\n\t\t\t\t.then(\r\n\t\t\t\t\tfunction $resolver$(msg){\r\n\t\t\t\t\t\tresolver(idx,msg);\r\n\t\t\t\t\t},\r\n\t\t\t\t\trejecter\r\n\t\t\t\t);\r\n\t\t\t})(idx);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction MakeDefWrapper(self) {\r\n\t\tthis.def = self;\r\n\t\tthis.triggered = false;\r\n\t}\r\n\r\n\tfunction MakeDef(self) {\r\n\t\tthis.promise = self;\r\n\t\tthis.state = 0;\r\n\t\tthis.triggered = false;\r\n\t\tthis.chain = [];\r\n\t\tthis.msg = void 0;\r\n\t}\r\n\r\n\tfunction Promise(executor) {\r\n\t\tif (typeof executor != \"function\") {\r\n\t\t\tthrow TypeError(\"Not a function\");\r\n\t\t}\r\n\r\n\t\tif (this.__NPO__ !== 0) {\r\n\t\t\tthrow TypeError(\"Not a promise\");\r\n\t\t}\r\n\r\n\t\t// instance shadowing the inherited \"brand\"\r\n\t\t// to signal an already \"initialized\" promise\r\n\t\tthis.__NPO__ = 1;\r\n\r\n\t\tvar def = new MakeDef(this);\r\n\r\n\t\tthis[\"then\"] = function then(success,failure) {\r\n\t\t\tvar o = {\r\n\t\t\t\tsuccess: typeof success == \"function\" ? success : true,\r\n\t\t\t\tfailure: typeof failure == \"function\" ? failure : false\r\n\t\t\t};\r\n\t\t\t// Note: `then(..)` itself can be borrowed to be used against\r\n\t\t\t// a different promise constructor for making the chained promise,\r\n\t\t\t// by substituting a different `this` binding.\r\n\t\t\to.promise = new this.constructor(function extractChain(resolve,reject) {\r\n\t\t\t\tif (typeof resolve != \"function\" || typeof reject != \"function\") {\r\n\t\t\t\t\tthrow TypeError(\"Not a function\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\to.resolve = resolve;\r\n\t\t\t\to.reject = reject;\r\n\t\t\t});\r\n\t\t\tdef.chain.push(o);\r\n\r\n\t\t\tif (def.state !== 0) {\r\n\t\t\t\tschedule(notify,def);\r\n\t\t\t}\r\n\r\n\t\t\treturn o.promise;\r\n\t\t};\r\n\t\tthis[\"catch\"] = function $catch$(failure) {\r\n\t\t\treturn this.then(void 0,failure);\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\texecutor.call(\r\n\t\t\t\tvoid 0,\r\n\t\t\t\tfunction publicResolve(msg){\r\n\t\t\t\t\tresolve.call(def,msg);\r\n\t\t\t\t},\r\n\t\t\t\tfunction publicReject(msg) {\r\n\t\t\t\t\treject.call(def,msg);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t\tcatch (err) {\r\n\t\t\treject.call(def,err);\r\n\t\t}\r\n\t}\r\n\r\n\tvar PromisePrototype = builtInProp({},\"constructor\",Promise,\r\n\t\t/*configurable=*/false\r\n\t);\r\n\r\n\t// Note: Android 4 cannot use `Object.defineProperty(..)` here\r\n\tPromise.prototype = PromisePrototype;\r\n\r\n\t// built-in \"brand\" to signal an \"uninitialized\" promise\r\n\tbuiltInProp(PromisePrototype,\"__NPO__\",0,\r\n\t\t/*configurable=*/false\r\n\t);\r\n\r\n\tbuiltInProp(Promise,\"resolve\",function Promise$resolve(msg) {\r\n\t\tvar Constructor = this;\r\n\r\n\t\t// spec mandated checks\r\n\t\t// note: best \"isPromise\" check that's practical for now\r\n\t\tif (msg && typeof msg == \"object\" && msg.__NPO__ === 1) {\r\n\t\t\treturn msg;\r\n\t\t}\r\n\r\n\t\treturn new Constructor(function executor(resolve,reject){\r\n\t\t\tif (typeof resolve != \"function\" || typeof reject != \"function\") {\r\n\t\t\t\tthrow TypeError(\"Not a function\");\r\n\t\t\t}\r\n\r\n\t\t\tresolve(msg);\r\n\t\t});\r\n\t});\r\n\r\n\tbuiltInProp(Promise,\"reject\",function Promise$reject(msg) {\r\n\t\treturn new this(function executor(resolve,reject){\r\n\t\t\tif (typeof resolve != \"function\" || typeof reject != \"function\") {\r\n\t\t\t\tthrow TypeError(\"Not a function\");\r\n\t\t\t}\r\n\r\n\t\t\treject(msg);\r\n\t\t});\r\n\t});\r\n\r\n\tbuiltInProp(Promise,\"all\",function Promise$all(arr) {\r\n\t\tvar Constructor = this;\r\n\r\n\t\t// spec mandated checks\r\n\t\tif (ToString.call(arr) != \"[object Array]\") {\r\n\t\t\treturn Constructor.reject(TypeError(\"Not an array\"));\r\n\t\t}\r\n\t\tif (arr.length === 0) {\r\n\t\t\treturn Constructor.resolve([]);\r\n\t\t}\r\n\r\n\t\treturn new Constructor(function executor(resolve,reject){\r\n\t\t\tif (typeof resolve != \"function\" || typeof reject != \"function\") {\r\n\t\t\t\tthrow TypeError(\"Not a function\");\r\n\t\t\t}\r\n\r\n\t\t\tvar len = arr.length, msgs = Array(len), count = 0;\r\n\r\n\t\t\titeratePromises(Constructor,arr,function resolver(idx,msg) {\r\n\t\t\t\tmsgs[idx] = msg;\r\n\t\t\t\tif (++count === len) {\r\n\t\t\t\t\tresolve(msgs);\r\n\t\t\t\t}\r\n\t\t\t},reject);\r\n\t\t});\r\n\t});\r\n\r\n\tbuiltInProp(Promise,\"race\",function Promise$race(arr) {\r\n\t\tvar Constructor = this;\r\n\r\n\t\t// spec mandated checks\r\n\t\tif (ToString.call(arr) != \"[object Array]\") {\r\n\t\t\treturn Constructor.reject(TypeError(\"Not an array\"));\r\n\t\t}\r\n\r\n\t\treturn new Constructor(function executor(resolve,reject){\r\n\t\t\tif (typeof resolve != \"function\" || typeof reject != \"function\") {\r\n\t\t\t\tthrow TypeError(\"Not a function\");\r\n\t\t\t}\r\n\r\n\t\t\titeratePromises(Constructor,arr,function resolver(idx,msg){\r\n\t\t\t\tresolve(msg);\r\n\t\t\t},reject);\r\n\t\t});\r\n\t});\r\n\r\n\treturn Promise;\r\n});\r\n\n","define('utils/mode',['require'],function (require) {\r\n\t\r\n\tvar mode = {\r\n\t\tDEBUG: null\r\n\t};\r\n\r\n\treturn mode;\r\n});\r\n\n","define('utils/severity',['require'],function (require) {\r\n\r\n\tfunction severity() {\r\n\r\n\t\tthis.DEBUG = 0;\r\n\t\tthis.INFO = 1;\r\n\t\tthis.WARN = 2;\r\n\t\tthis.ERROR = 3;\r\n\t}\r\n\r\n\treturn new severity();\r\n});\r\n\n","define( 'utils/utils',['require','./jqr/npo','./mode','./severity'],function ( require ) {\r\n\r\n\trequire( \"./jqr/npo\" );\r\n\tvar mode = require( \"./mode\" );\r\n\tvar severity = require( \"./severity\" );\r\n\r\n\t// Define a console that works in all browsers\r\n\tfunction consoleLog( type ) {\r\n\t\tvar console = window.console || { },\r\n\t\t\t\tlogFn = console[type] || console.log || function () {},\r\n\t\t\t\thasApply = false;\r\n\r\n\t\t// Note: reading logFn.apply throws an error in IE11 in IE8 document mode.\r\n\t\t// The reason behind this is that console.log has type \"object\" in IE8...\r\n\t\ttry {\r\n\t\t\thasApply = ! ! logFn.apply;\r\n\t\t} catch ( e ) {\r\n\t\t}\r\n\r\n\t\tif ( hasApply ) {\r\n\t\t\treturn function () {\r\n\t\t\t\treturn logFn.apply( console, arguments );\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\t// we are IE where console.log doesn't have apply so we log at least first 2 args\r\n\t\t\treturn function ( arg1, arg2 ) {\r\n\t\t\t\treturn logFn( arg1, arg2 == null ? '' : arg2 );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tvar $log = {\r\n\t\tlog: consoleLog( 'log' ),\r\n\t\twarn: consoleLog( 'warn' ),\r\n\t\tinfo: consoleLog( 'info' ),\r\n\t\terror: consoleLog( 'error' )\r\n\t};\r\n\r\n\tfunction utils( options ) {\r\n\r\n\t\tvar that = { };\r\n\r\n\r\n\t\tvar noopPromiseFn = new Promise( function ( resolve, reject ) {\r\n\t\t\tresolve();\r\n\t\t} );\r\n\r\n\t\tthat.noopPromise = function () {\r\n\t\t\treturn noopPromiseFn;\r\n\t\t}\r\n\r\n\t\tthat.isPromise = function ( o ) {\r\n\t\t\tif ( o == null ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof o.then === 'function' ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tthat.isRactiveObject = function ( o ) {\r\n\t\t\tif ( ( typeof o == \"object\" ) && ( o !== null ) ) {\r\n\t\t\t\tif ( o._guid != null ) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tthat.objectLength = function ( o ) {\r\n\t\t\tif ( Object.keys ) {\r\n\t\t\t\treturn Object.keys( o ).length;\r\n\t\t\t}\r\n\r\n\t\t\tvar count = 0;\r\n\t\t\tvar prop;\r\n\t\t\tfor ( prop in o ) {\r\n\t\t\t\tif ( o.hasOwnProperty( prop ) ) {\r\n\t\t\t\t\tcount ++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthat.isObject = function ( obj ) {\r\n\t\t\tif ( ( typeof obj === \"object\" ) && ( obj !== null ) ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tthat.populateError = function ( err, severity, options ) {\r\n\r\n\t\t\tif ( err instanceof Error || that.isObject( err ) ) {\r\n\r\n\t\t\t\tif ( err.options == null ) {\r\n\t\t\t\t\terr.options = options;\r\n\t\t\t\t}\r\n\t\t\t\tif ( err.severity == null ) {\r\n\t\t\t\t\terr.severity = severity;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthat.logError = function ( err ) {\r\n\r\n\t\t\tif ( err == null )\r\n\t\t\t\treturn;\r\n\r\n\t\t\tif ( ! mode.DEBUG )\r\n\t\t\t\treturn;\r\n\r\n\t\t\tvar isObj = that.isObject( err );\r\n\r\n\t\t\tif ( isObj ) {\r\n\t\t\t\tif ( err.severity == null ) {\r\n\t\t\t\t\terr.severity = severity.ERROR;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar fn = getLogFn( err );\r\n\r\n\t\t\tif ( err.stack ) {\r\n\t\t\t\tfn( err.stack );\r\n\t\t\t} else {\r\n\t\t\t\tfn( err );\r\n\t\t\t}\r\n\r\n\t\t\tif ( isObj ) {\r\n\t\t\t\tfor ( var item in err ) {\r\n\t\t\t\t\tfn( item, \":\", err[item] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfunction getLogFn( err ) {\r\n\r\n\t\t\tswitch ( err.severity ) {\r\n\r\n\t\t\t\tcase severity.DEBUG:\r\n\t\t\t\t\treturn $log.log;\r\n\r\n\t\t\t\tcase severity.WARN:\r\n\t\t\t\t\treturn $log.warn;\r\n\r\n\t\t\t\tcase severity.INFO:\r\n\t\t\t\t\treturn $log.info;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn $log.error;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn that;\r\n\t}\r\n\r\n\tvar utils = utils( );\r\n\treturn utils;\r\n} );\n","define('utils/jqr/jqutils',['require','./npo'],function (require) {\n\n\trequire(\"./npo\");\n\n\tfunction utils(options) {\n\n\t\tvar that = {};\n\n\t\tvar rbracket = /\\[\\]$/;\n\t\tvar r20 = /%20/g;\n\t\t\n\t\tthat.isFunction = function (val) {\n\t\t\treturn typeof val === 'function';\n\t\t};\n\n\t\tthat.fadeIn = function (el) {\n\t\t\tel.style.opacity = 0;\n\n\t\t\tvar last = +new Date();\n\t\t\tvar tick = function () {\n\t\t\t\tel.style.opacity = +el.style.opacity + (new Date() - last) / 400;\n\t\t\t\tlast = +new Date();\n\n\t\t\t\tif (+el.style.opacity < 1) {\n\t\t\t\t\t(window.requestAnimationFrame && requestAnimationFrame(tick)) || setTimeout(tick, 16)\n\t\t\t\t}\n\t\t\t};\n\n\t\t\ttick();\n\t\t};\n\n\t\tthat.fadeOut = function (el) {\n\t\t\tel.style.opacity = 0;\n\n\t\t\tvar last = +new Date();\n\t\t\tvar tick = function () {\n\t\t\t\tel.style.opacity = +el.style.opacity + (new Date() - last) / 400;\n\t\t\t\tlast = +new Date();\n\n\t\t\t\tif (+el.style.opacity < 1) {\n\t\t\t\t\t(window.requestAnimationFrame && requestAnimationFrame(tick)) || setTimeout(tick, 16)\n\t\t\t\t}\n\t\t\t};\n\n\t\t\ttick();\n\t\t};\n\n\t\tthat.extend = function (out) {\n\t\t\tout = out || {};\n\n\t\t\tfor (var i = 1; i < arguments.length; i++) {\n\t\t\t\tif (!arguments[i])\n\t\t\t\t\tcontinue;\n\n\t\t\t\tfor (var key in arguments[i]) {\n\t\t\t\t\tif (arguments[i].hasOwnProperty(key))\n\t\t\t\t\t\tout[key] = arguments[i][key];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn out;\n\t\t};\n\t\t\n\t\tfunction type(obj) {\n\t\t\treturn Object.prototype.toString.call(obj).replace(/^\\[object (.+)\\]$/, \"$1\").toLowerCase();\n\t\t}\n\n\n\t\tfunction buildParams(prefix, obj, traditional, add) {\n\t\t\tvar name;\n\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\t// Serialize array item.\n\t\t\t\tobj.forEach(function (item, index) {\n\t\t\t\t\tif (traditional || rbracket.test(prefix)) {\n\t\t\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\t\t\tadd(prefix, item);\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\t\t\tbuildParams(prefix + \"[\" + (typeof item === \"object\" ? index : \"\") + \"]\", item, traditional, add);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t} else if (!traditional && type(obj) === \"object\") {\n\t\t\t\tdebugger;\n\t\t\t\t// Serialize object item.\n\t\t\t\tfor (name in obj) {\n\t\t\t\t\tbuildParams(prefix + \"[\" + name + \"]\", obj[ name ], traditional, add);\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\t// Serialize scalar item.\n\t\t\t\tadd(prefix, obj);\n\t\t\t}\n\t\t}\n\n\t\t// Serialize an array of form elements or a set of key/values into a query string\n\t\tthat.param = function (a, traditional) {\n\t\t\tvar prefix,\n\t\t\t\t\ts = [],\n\t\t\t\t\tadd = function (key, value) {\n\t\t\t\t\t\t// If value is a function, invoke it and return its value\n\t\t\t\t\t\tvalue = (typeof value === 'function') ? value() : (value == null ? \"\" : value);\n\t\t\t\t\t\ts[ s.length ] = encodeURIComponent(key) + \"=\" + encodeURIComponent(value);\n\t\t\t\t\t};\n\n\n\t\t\t// If an array was passed in, assume that it is an array of form elements.\n\t\t\tif (Array.isArray(a)) {\n\t\t\t\t// Serialize the form elements\n\t\t\t\ta.forEach(function (item, index) {\n\t\t\t\t\tadd(item.name, item.value);\n\t\t\t\t});\n\n\t\t\t} else {\n\t\t\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t\t\t// did it), otherwise encode params recursively.\n\t\t\t\tfor (prefix in a) {\n\t\t\t\t\tbuildParams(prefix, a[ prefix ], traditional, add);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Return the resulting serialization\n\t\t\treturn s.join(\"&\").replace(r20, \"+\");\n\t\t};\n\n\n\t\treturn that;\n\t}\n\n\tvar utils = utils();\n\treturn utils;\n\n});\n","// https://github.com/erikringsmuth/requirejs-router#\n// \n// RequireJS Router - A scalable, lazy loading, AMD router.\n//\n// Version: 0.8.0\n// \n// The MIT License (MIT)\n// Copyright (c) 2014 Erik Ringsmuth\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n// IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE\n// OR OTHER DEALINGS IN THE SOFTWARE.\n\ndefine('router/router',['require','../utils/jqr/npo','../utils/utils','../utils/severity','../utils/jqr/jqutils'],function (require) {\n\t'use strict';\n\n\trequire(\"../utils/jqr/npo\");\n\tvar utils = require(\"../utils/utils\");\n\tvar severity = require(\"../utils/severity\");\n\tvar jqutils = require(\"../utils/jqr/jqutils\");\n\n\t// Private closure variables\n\tvar cachedUrlPaths = {};\n\tvar cachedRouterParams = {};\n\tvar cachedRouterQueryParams = {};\n\tvar eventHandlers = {\n\t\tstatechange: [],\n\t\trouteload: []\n\t};\n\n\t// routes - All registered routes\n\tvar routes = [];\n\n\tvar routesById = {};\n\n\tvar unknownRouteResolver;\n\n\tvar defaultRoute;\n\n\tvar unknownRoute;\n\n\tvar noop = function () {\n\t};\n\n\tvar ignoreHashChangeOnce = false;\n\n\tvar currentHash;\n\n\tvar previousHash; // in case of an error and we need to revert to previous hash\n\n\t// In some modern browsers a hashchange also fires a popstate. There isn't a check to see if the browser will fire\n\t// one or both. We have to keep track of the previous state to prevent it from fireing a statechange twice.\n\tvar previousState = '';\n\tvar popstateHashchangeEventLisener = function popstateHashchangeEventLisener() {\n\t\tif (previousState != window.location.href) {\n\t\t\tpreviousState = window.location.href;\n\n\t\t\t// Guard against statechange firing after browser refresh\n\t\t\tif (router.getHash() === currentHash) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tpreviousHash = currentHash;\n\t\t\tcurrentHash = router.getHash();\n\t\t\trouter.fire('statechange');\n\t\t}\n\t};\n\n\t// router public interface\n\t//\n\t// There is only one instance of the router. Loading it in multiple modules will always load the same router.\n\tvar router = {\n\t\t// router.init([options]) - initializes the router\n\t\tinit: function (options) {\n\t\t\tpreviousHash = currentHash;\n\t\t\tcurrentHash = router.getHash();\n\t\t\tif (typeof (options) === 'undefined') {\n\t\t\t\toptions = {};\n\t\t\t}\n\t\t\trouter.addRoutes(options.routes);\n\t\t\tunknownRouteResolver = options.unknownRouteResolver || resolveUnknownRoutes;\n\t\t\tdefaultRoute = options.defaultRoute || null;\n\n\t\t\t// Set up the window popstate and hashchange event listeners\n\t\t\tif (window.addEventListener) {\n\t\t\t\twindow.addEventListener('popstate', popstateHashchangeEventLisener, false);\n\t\t\t\twindow.addEventListener('hashchange', popstateHashchangeEventLisener, false);\n\t\t\t} else {\n\t\t\t\t// IE 8 and lower\n\t\t\t\twindow.attachEvent('popstate', popstateHashchangeEventLisener); // In case pushState has been polyfilled\n\t\t\t\twindow.attachEvent('onhashchange', popstateHashchangeEventLisener);\n\t\t\t}\n\n\t\t\t// Call loadCurrentRoute on every statechange event\n\t\t\tif (options.loadCurrentRouteOnStateChange !== false) {\n\t\t\t\trouter.on('statechange', function () {\n\n\t\t\t\t\tif (ignoreHashChangeOnce) {\n\t\t\t\t\t\t// Ensure future hashchange events are not ignored\n\t\t\t\t\t\tignoreHashChangeOnce = false;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar options = {};\n\t\t\t\t\trouter.loadCurrentRoute(options);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Fire the initial statechange event\n\t\t\tif (options.fireInitialStateChange !== false) {\n\t\t\t\trouter.fire('statechange');\n\t\t\t}\n\n\t\t\treturn router;\n\t\t},\n\t\t//routes: {},\n\t\t// router.activeRoute - A reference to the active route\n\t\tactiveRoute: {},\n\t\t// router.addRoutes(routes) - Register routes\n\t\t//\n\t\t// This will add the routes to the existing routes. Specifying a route with the same name as an existing route will\n\t\t// overwrite the previous route with the new one.\n\t\t//\n\t\t// Example\n\t\t// router.addRoutes({\n\t\t//   home: {path: '/', moduleId: 'home/homeView'},\n\t\t//   customer: {path: '/customer/:id', moduleId: 'customer/customerView'},\n\t\t//   notFound: {path: '*', moduleId: 'notFound/notFoundView'}\n\t\t// })\n\t\taddRoutes: function (routes) {\n\t\t\tfor (var key in routes) {\n\t\t\t\tif (routes.hasOwnProperty(key)) {\n\t\t\t\t\trouter.addRoute(routes[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn router;\n\t\t},\n\t\taddRoute: function (route) {\n\t\t\troutes.push(route);\n\n\t\t\tif (route.moduleId == null) {\n\t\t\t\tif (route.ctrl == null) {\n\t\t\t\t\tthrow new Error(\"route must have a ctrl or moduleId defined!\");\n\t\t\t\t}\n\n\t\t\t\troute.moduleId = route.ctrl._kudu_id;\n\t\t\t}\n\n\t\t\trouter.addRouteById(route);\n\t\t\treturn router;\n\t\t},\n\t\taddRouteAt: function (index, route) {\n\t\t\troutes.splice(index, 0, route);\n\t\t\trouter.addRouteById(route);\n\t\t\treturn router;\n\t\t},\n\t\taddRouteById: function (route) {\n\n\t\t\tif (route.path === '*') {\n\t\t\t\tunknownRoute = route;\n\t\t\t}\n\n\t\t\t// Multiple paths can be mapped to same route, so we use array\n\t\t\tif (routesById[route.moduleId] === undefined) {\n\t\t\t\troutesById[route.moduleId] = [];\n\t\t\t}\n\n\t\t\troutesById[route.moduleId].push(route.path);\n\t\t},\n\t\tgetRoutes: function () {\n\t\t\treturn routes;\n\t\t},\n\t\tgetRoutesById: function () {\n\t\t\treturn routesById;\n\t\t},\n\t\t// router.on(eventName, eventHandler([arg1, [arg2]]) {}) - Register an event handler\n\t\t//\n\t\t// The two main events are 'statechange' and 'routeload'.\n\t\ton: function on(eventName, eventHandler) {\n\t\t\tif (typeof (eventHandlers[eventName]) === 'undefined')\n\t\t\t\teventHandlers[eventName] = [];\n\t\t\teventHandlers[eventName].push(eventHandler);\n\t\t\treturn router;\n\t\t},\n\t\t// router.fire(eventName, [arg1, [arg2]]) - Fire an event\n\t\t//\n\t\t// This will call all eventName event handlers with the arguments passed in.\n\t\tfire: function fire(eventName) {\n\t\t\tif (eventHandlers[eventName]) {\n\t\t\t\tvar eventArguments = Array.prototype.slice.call(arguments, 1);\n\t\t\t\tfor (var i = 0; i < eventHandlers[eventName].length; i++) {\n\t\t\t\t\teventHandlers[eventName][i].apply(router, eventArguments);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn router;\n\t\t},\n\t\t// router.off(eventName, eventHandler) - Remove an event handler\n\t\t//\n\t\t// If you want remove an event handler you need to keep a reference to it so you can tell router.off() with the\n\t\t// original event handler.\n\t\toff: function off(eventName, eventHandler) {\n\t\t\tif (eventHandlers[eventName]) {\n\t\t\t\tvar eventHandlerIndex = eventHandlers[eventName].indexOf(eventHandler);\n\t\t\t\tif (eventHandlerIndex !== -1) {\n\t\t\t\t\teventHandlers[eventName].splice(eventHandlerIndex, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn router;\n\t\t},\n\t\t\n\t\t/*\n\t\t * Restores the current hash to the previous hash. This call won't fire a view reload, only the browser hash will be changed.\n\t\t */\n\t\trestorePreviousHash: function() {\n\t\t\tif (previousHash == null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcurrentHash = previousHash;\n\t\t\tsetIgnoreHashChangeOnce(currentHash);\n\t\t\trouter.setHash(currentHash);\n\t\t},\n\t\tgo: function (options) {\n\n\t\t\tvar ctrl = options.ctrl;\n\t\t\tvar moduleId;\n\n\t\t\tif (ctrl == null) {\n\t\t\t\tif (options.route) {\n\t\t\t\t\tctrl = options.route.ctrl;\n\t\t\t\t\tmoduleId = options.route.moduleId;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (ctrl == null) {\n\t\t\t\tthrow new Error(\"router.go() requires a 'ctrl' passed as an option !\");\n\t\t\t}\n\n\t\t\tif (moduleId == null) {\n\t\t\t\tmoduleId = ctrl._kudu_id;\n\t\t\t}\n\n\t\t\toptions.args = options.args || {};\n\t\t\toptions.routeParams = options.routeParams || {};\n\n\t\t\tif (options.updateUrl === false) {\n\t\t\t\tvar tempRoute = {};\n\t\t\t\ttempRoute.moduleId = moduleId;\n\t\t\t\ttempRoute.ctrl = ctrl;\n\t\t\t\toptions.route = tempRoute;\n\n\t\t\t\tvar tmpHash = router.hashPath(currentHash);\n\t\t\t\ttmpHash = appendHashParams(tmpHash, options.routeParams);\n\t\t\t\tsetIgnoreHashChangeOnce(tmpHash);\n\t\t\t\trouter.setHash(tmpHash);\n\t\t\t\trouter.loadModule(options);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar route = null;\n\n\t\t\t//var currentPath = router.urlPath(window.location.href);\n\t\t\tvar ctrlRoutes = router.findRoutesForCtrl(ctrl);\n\t\t\tfor (var i = 0; i < ctrlRoutes.length; i++) {\n\t\t\t\tvar testRoute = ctrlRoutes[i];\n\t\t\t\tvar match = router.testCtrlRoute(testRoute.path, options.routeParams);\n\t\t\t\tif (match) {\n\t\t\t\t\troute = testRoute;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (route == null) {\n\t\t\t\tconsole.error(\"No route matched request to Controller '\" + ctrl._kudu_id + \"'! Available routes for this controller: \");\n\t\t\t\tfor (var i = 0; i < ctrlRoutes.length; i++) {\n\t\t\t\t\tvar debugRoute = ctrlRoutes[i];\n\t\t\t\t\tconsole.error(\"    \", debugRoute.path);\n\t\t\t\t}\n\t\t\t\tconsole.error(\"RouteParams used to match available Controller routes:\", options.routeParams);\n\n\t\t\t\tif (options.force) {\n\t\t\t\t\tconsole.error(\"options.force is true: will attempt to load the controller from moduleId: '\" + moduleId + \"'\");\n\n\t\t\t\t} else {\n\t\t\t\t\toptions.route = unknownRoute;\n\t\t\t\t\tif (options.route == null) {\n\t\t\t\t\t\toptions.route = {};\n\t\t\t\t\t}\n\t\t\t\t\trouter.loadModule(options);\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set routePath, if route is null use moduleId\n\t\t\tvar routePath = route != null ? route.path : moduleId;\n\t\t\t//routePath = stripLeadingSlash(routePath);\n\n\n\t\t\t// TODO instead of throwing error for unsupported paths, we could remove the hash from the url and still render the Controller\n\t\t\tif (routePath instanceof RegExp) {\n\t\t\t\tthrow new Error(\"Cannot route to controller '\" + ctrl._kudu_id + \"' since it's route path is a RegExp '\" + routePath + \"'\");\n\t\t\t}\n\n\t\t\tif (routePath.indexOf('*') !== -1) {\n\t\t\t\tthrow new Error(\"Cannot route to controller '\" + ctrl._kudu_id + \"' since it's route path contains wildcards '*'. The given route for the controller is '\" + routePath + \"'\");\n\t\t\t}\n\n\t\t\tvar routeQueryParams = {};\n\n\t\t\t// Extract query params from route\n\t\t\tif (routePath.indexOf('?') !== -1) {\n\t\t\t\tvar routeQueryParamsStr = router.queryString(routePath);\n\t\t\t\tif (routeQueryParamsStr.length > 0) {\n\t\t\t\t\trouteQueryParams = router.parseRouteQueryParams(routeQueryParamsStr);\n\t\t\t\t}\n\t\t\t\t// TODO we must build up the route dynamically. Next parse the path segments!\n\t\t\t\troutePath = routePath.substr(0, routePath.indexOf('?'));\n\t\t\t}\n\n\t\t\tvar newHash = '';\n\t\t\tvar routeParams = options.routeParams;\n\n\t\t\t//propertyTypeEdit/:name?id&ok\n\t\t\tvar routePathSegments = routePath.split('/');\n\n\t\t\t// Check and append each path segment\n\t\t\tfor (var key in routePathSegments) {\n\t\t\t\tif (routePathSegments.hasOwnProperty(key)) {\n\t\t\t\t\tvar routePathSegment = routePathSegments[key];\n\n\t\t\t\t\t// Check if routePathSegment is a parameter like ':id'\n\t\t\t\t\tif (routePathSegment.charAt(0) === ':') {\n\t\t\t\t\t\tvar routePathKey = routePathSegment.substr(1);\n\n\t\t\t\t\t\t// Ensure the url has a valid value for the matching segment\n\t\t\t\t\t\t// Ensure value is not null or empty\n\t\t\t\t\t\tvar routeParamValue = routeParams[routePathKey];\n\n\t\t\t\t\t\tif (routeParamValue == null || routeParamValue === '') {\n\t\t\t\t\t\t\tthrow new Error(\"Cannot route to controller '\" + ctrl._kudu_id + \"' since it's route requires the path parameter '\"\n\t\t\t\t\t\t\t\t\t+ routePathKey + \"' but the only params provided are '\" + JSON.stringify(routeParams) + \"'\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tnewHash = appendUrlSegment(newHash, routeParamValue);\n\n\t\t\t\t\t\t// We have added the routeParam value. Delete the route parameter so it is not included in the query parameters below\n\t\t\t\t\t\tdelete routeParams[routePathKey];\n\n\t\t\t\t\t\t// continue and check the other segments\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// This is a normal path segment, so append to newHash\n\t\t\t\t\t\tnewHash = appendUrlSegment(newHash, routePathSegment);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// strip leading '/' if present\n\t\t\t/* if (newHash.indexOf('/') === 0) {\n\t\t\t newHash = newHash.substr(1);\n\t\t\t }*/\n\n\t\t\t// add parameters to newHash\n\n\t\t\t// Check that the expected route query params are present in the passed in route params\n\t\t\tfor (var routeParamKey in routeQueryParams) {\n\t\t\t\tif (routeQueryParams.hasOwnProperty(routeParamKey)) {\n\t\t\t\t\tif (routeParams == null) {\n\t\t\t\t\t\t// The route specifies a query param but no routeParams was provided\n\t\t\t\t\t\tthrow new Error(\"Cannot route to controller '\" + ctrl._kudu_id + \"' since it's route requires the query parameter '\"\n\t\t\t\t\t\t\t\t+ routeParamKey + \"' but no routeParams was provided\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar routeParamValue = routeParams[routeParamKey];\n\t\t\t\t\t\tif (routeParamValue === undefined) {\n\t\t\t\t\t\t\t// TODO test this scenario\n\t\t\t\t\t\t\tthrow new Error(\"Cannot route to controller '\" + ctrl._kudu_id + \"' since it's route requires the query parameter '\"\n\t\t\t\t\t\t\t\t\t+ routeParamKey + \"' but the only routeParams provided are '\" + JSON.stringify(routeParams) + \"'\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tnewHash = appendHashParams(newHash, routeParams);\n\n\t\t\tsetIgnoreHashChangeOnce(newHash);\n\n\t\t\trouter.setHash(newHash);\n\t\t\t//router.fire('routeload', options);\n\t\t\trouter.loadCurrentRoute(options);\n\t\t\t//}\n\t\t},\n\t\tsetHash: function (hash) {\n\t\t\twindow.location.hash = hash;\n\t\t\t//currentHash = router.getHash(); TODO this line might be required\n\t\t},\n\t\tgetHash: function () {\n\t\t\t// This method might be overkill if we support only IE9 and up\n\t\t\tvar index = window.location.href.indexOf('#');\n\t\t\tvar hash = (index == -1 ? '' : window.location.href.substr(index + 1));\n\t\t\tif (hash.indexOf('!') == 0) {\n\t\t\t\thash = hash.substr(1);\n\t\t\t}\n\t\t\treturn hash;\n\t\t},\n\t\tfindRoutesForCtrl: function (module) {\n\t\t\tvar result = [];\n\t\t\tvar moduleId = module._kudu_id;\n\t\t\tfor (var i = 0; i < routes.length; i++) {\n\n\t\t\t\tvar route = routes[i];\n\t\t\t\tif (moduleId == null || route.moduleId == null) {\n\t\t\t\t\tif (module === route.ctrl) {\n\t\t\t\t\t\tresult.push(route);\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tif (moduleId === route.moduleId) {\n\t\t\t\t\t\tresult.push(route);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\ttestCtrlRoute: function (routePath, viewParams) {\n\t\t\troutePath = stripLeadingSlash(routePath);\n\n\t\t\tvar routeParams = router.parseRouteParams(routePath);\n\n\t\t\tfor (var key in routeParams) {\n\t\t\t\tif (routeParams.hasOwnProperty(key)) {\n\n\t\t\t\t\tif (viewParams.hasOwnProperty(key)) {\n\t\t\t\t\t\t// The routeParam has a coresponding view parameter\n\t\t\t\t\t\t// Ensure the view parameter has a value if it is a segment parameter\n\t\t\t\t\t\tvar routeParamValue = routeParams[key];\n\t\t\t\t\t\tif (routeParamValue.segment === true) {\n\t\t\t\t\t\t\tvar viewParamValue = viewParams[key];\n\t\t\t\t\t\t\tif (viewParamValue == null || viewParamValue == '') {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// If any of the routeParams is missing from the viewParams, it is not a match\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// If we get here all route parameters are present in view parameters and segment parameters have a value\n\t\t\treturn true;\n\t\t},\n\t\t// router.loadCurrentRoute() - Manually tell the router to load the module for the current route\n\t\tloadCurrentRoute: function (options) {\n\t\t\toptions = options || {};\n\n\t\t\tvar routeToLoad = null;\n\t\t\tfor (var i = 0; i < routes.length; i++) {\n\t\t\t\t//for (var i in routes) {\n\t\t\t\t//if (routes.hasOwnProperty(i)) {\n\t\t\t\tvar route = routes[i];\n\n\t\t\t\toptions.route = route;\n\t\t\t\t// TODO: Should speed up lookup of routes to a map?\n\t\t\t\tif (router.testRoute(options)) {\n\t\t\t\t\t// This is the first route to match the current URL\n\t\t\t\t\trouteToLoad = route;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t//}\n\t\t\t}\n\n\t\t\tif (routeToLoad == null || routeToLoad.path === '*') {\n\t\t\t\t// No route found for url, check if new route should be created\n\t\t\t\toptions.route = routeToLoad;\n\t\t\t\trouter.handleUnknownRoute(options);\n\t\t\t\treturn router;\n\t\t\t}\n\n\t\t\tif (routeToLoad != null) {\n\t\t\t\toptions.route = routeToLoad;\n\t\t\t\trouter.loadModule(options);\n\t\t\t}\n\n\t\t\treturn router;\n\t\t},\n\t\thandleUnknownRoute: function (options) {\n\n\t\t\tvar routeOrPromise = unknownRouteResolver(options.route);\n\n\t\t\tif (utils.isPromise(routeOrPromise)) {\n\n\t\t\t\trouteOrPromise.then(function (newRoute) {\n\n\t\t\t\t\toptions.route = newRoute;\n\t\t\t\t\trouter.loadUnknownRoute(options);\n\n\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t// Rejected. try and load the route that was found previously which is probably the '*' mapping.\n\t\t\t\t\tif (options.route != null) {\n\t\t\t\t\t\trouter.loadModule(options);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\toptions.route = routeOrPromise;\n\t\t\t\trouter.loadUnknownRoute(options);\n\t\t\t}\n\t\t\treturn router;\n\t\t},\n\t\tloadUnknownRoute: function (options) {\n\t\t\toptions = options || {};\n\t\t\tif (options.route != null) {\n\t\t\t\tif (options.route.moduleId == null || options.route.path == null) {\n\t\t\t\t\tthrow new Error(\"unknownRouteResolver must return a route object with a valid moduleId and path or a promise that resolves to a route object!\");\n\t\t\t\t}\n\n\t\t\t\t// Only add unknown route if it isn't already registered. This can occur if resolveUnknownRoute() returns a known\n\t\t\t\t// route or a defaultRoute\n\t\t\t\tvar paths = router.getRoutesById()[options.route.moduleId];\n\t\t\t\tif (paths == null) {\n\t\t\t\t\toptions.route.isNew = true;\n\t\t\t\t\trouter.loadModule(options);\n\t\t\t\t} else {\n\t\t\t\t\trouter.go(options);\n\t\t\t\t}\n\n\t\t\t}\n\t\t\treturn router;\n\t\t},\n\t\tloadModule: function (options) {\n\t\t\toptions = options || {};\n\t\t\t// Replace router.activeRoute with this route\n\t\t\tvar route = options.route;\n\n\t\t\t// Load the route's module\n\n\t\t\tif (route.ctrl == null) {\n\n\t\t\t\trequire([route.moduleId], function (module) {\n\t\t\t\t\tif (module == null) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\trouter.processLoadedModule(options, module, route);\n\n\t\t\t\t}, function () {\n\t\t\t\t\t//console.error(arguments);\n\t\t\t\t});\n\n\t\t\t} else {\n\t\t\t\trouter.processLoadedModule(options, route.ctrl, route);\n\n\n\t\t\t}\n\n\t\t},\n\t\t// urlPath(url) - Parses the url to get the path\n\t\t//\n\t\t// This will return the hash path if it exists or return the real path if no hash path exists.\n\t\t//\n\t\t// Example URL = 'http://domain.com/other/path?queryParam3=false#/example/path?queryParam1=true&queryParam2=example%20string'\n\t\t// path = '/example/path'\n\t\t//\n\t\t// Note: The URL must contain the protocol like 'http(s)://'\n\t\turlPath: function (url) {\n\t\t\t// Check the cache to see if we've already parsed this URL\n\t\t\tif (typeof (cachedUrlPaths[url]) !== 'undefined') {\n\t\t\t\treturn cachedUrlPaths[url];\n\t\t\t}\n\n\t\t\t// The relative URI is everything after the third slash including the third slash\n\t\t\t// Example relativeUri = '/other/path?queryParam3=false#/example/path?queryParam1=true&queryParam2=example%20string'\n\t\t\tvar splitUrl = url.split('/');\n\t\t\tvar relativeUri = '/' + splitUrl.splice(3, splitUrl.length - 3).join('/');\n\n\t\t\t// The path is everything in the relative URI up to the first ? or #\n\t\t\t// Example path = '/other/path'\n\t\t\tvar path = relativeUri.split(/[\\?#]/)[0];\n\n\t\t\t// The hash is everything from the first # up to the the search starting with ? if it exists\n\t\t\t// Example hash = '#/example/path'\n\t\t\tvar hashIndex = relativeUri.indexOf('#');\n\t\t\tvar isHashEmpty = hashIndex === relativeUri.length - 1;\n\n\t\t\tif (hashIndex !== -1 && !isHashEmpty) {\n\t\t\t\tvar hash = relativeUri.substring(hashIndex).split('?')[0];\n\t\t\t\tif (hash.substring(0, 2) === '#!') {\n\t\t\t\t\t// Hashbang path\n\t\t\t\t\tpath = hash.substring(2);\n\t\t\t\t} else {\n\t\t\t\t\t// Hash path\n\t\t\t\t\tpath = hash.substring(1);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Cache the path for this URL\n\t\t\tcachedUrlPaths[url] = path;\n\n\t\t\treturn path;\n\t\t},\n\t\tprocessLoadedModule: function (options, module, route) {\n\t\t\trouter.activeRoute.active = false;\n\t\t\troute.active = true;\n\t\t\trouter.activeRoute = route;\n\n\t\t\t// Register newly discovered routes\n\t\t\tif (route.isNew) {\n\t\t\t\tdelete route.isNew;\n\t\t\t\trouter.addRouteAt(0, route);\n\t\t\t}\n\t\t\t// Make sure this is still the active route from when loadCurrentRoute was called. The asynchronous nature\n\t\t\t// of AMD loaders means we could have fireed multiple hashchanges or popstates before the AMD module finished\n\t\t\t// loading. If we navigate to route /a then navigate to route /b but /b finishes loading before /a we don't\n\t\t\t// want /a to be rendered since we're actually at route /b.\n\t\t\tif (route.active) {\n\n\t\t\t\t// Check if routeParams has been cached for this request, otherwise cache it for this request in the options\n\t\t\t\tvar urlParams = options.urlParams;\n\t\t\t\tif (urlParams == null) {\n\t\t\t\t\turlParams = router.routeArguments(route, window.location.href);\n\t\t\t\t\toptions.urlParams = urlParams;\n\t\t\t\t}\n\n\t\t\t\tvar routerOptions = jqutils.extend({}, options);\n\t\t\t\trouterOptions.routeParams = urlParams;\n\t\t\t\trouterOptions.module = module;\n\t\t\t\trouterOptions.route = route;\n\n\t\t\t\trouter.fire('routeload', routerOptions);\n\t\t\t}\n\t\t},\n\t\t// router.testRoute(route, [url]) - Test if the route matches the current URL\n\t\t//\n\t\t// This algorithm tries to fail or succeed as quickly as possible for the most common cases.\n\t\ttestRoute: function (options) {\n\n\t\t\t// Example path = '/example/path'\n\t\t\t// Example route: `exampleRoute: {path: '/example/*', moduleId: 'example/exampleView'}`\n\t\t\tvar urlPath = router.urlPath(options.url || window.location.href);\n\t\t\turlPath = stripLeadingSlash(urlPath);\n\n\t\t\tvar routePath = options.route.path;\n\t\t\troutePath = stripLeadingSlash(routePath);\n\n\t\t\t// If the path is an exact match then the route is a match\n\t\t\tif (routePath === urlPath) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// If the path is '*' then the route is a match\n\t\t\tif (routePath === '*') {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Test if it's a regular expression\n\t\t\tif (routePath instanceof RegExp) {\n\t\t\t\treturn routePath.test(urlPath);\n\t\t\t}\n\n\t\t\t// Look for wildcards\n\t\t\tif (routePath.indexOf('*') === -1 && routePath.indexOf(':') === -1 && routePath.indexOf('?') === -1) {\n\t\t\t\t// No wildcards or parameters and we already made sure it wasn't an exact match so the test fails\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Example pathSegments = ['', example', 'path']\n\t\t\tvar urlPathSegments = urlPath.split('/');\n\n\t\t\t// Chop off any query parameters (everything after and including ?) from the routePath\n\t\t\tvar routePathQuestionIndex = routePath.indexOf('?');\n\t\t\t// Check if there is a ? but that the ? is not the last character\n\t\t\tif (routePathQuestionIndex !== -1 && routePathQuestionIndex !== routePath.length - 1) {\n\t\t\t\troutePath = routePath.substr(0, routePathQuestionIndex);\n\t\t\t}\n\n\t\t\t// Example routePathSegments = ['', 'example', '*']\n\t\t\tvar routePathSegments = routePath.split('/');\n\n\t\t\t// There must be the same number of path segments or it isn't a match\n\t\t\tif (urlPathSegments.length !== routePathSegments.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Check equality of each path segment\n\t\t\tfor (var key in routePathSegments) {\n\t\t\t\tif (routePathSegments.hasOwnProperty(key)) {\n\t\t\t\t\t// The path segments must be equal, be a wildcard segment '*', or be a path parameter like ':id'\n\t\t\t\t\tvar routePathSegment = routePathSegments[key];\n\t\t\t\t\tvar urlPathSegment = urlPathSegments[key];\n\n\t\t\t\t\t// Check if routePathSegment is the same string as the urlPathSegment or the routePathSegment is a wildcard or parameter\n\t\t\t\t\tif (routePathSegment === '*' || routePathSegment.charAt(0) === ':') {\n\t\t\t\t\t\t// This is a valid segment\n\n\t\t\t\t\t\t// Ensure the url has a valid value for the matching segment\n\t\t\t\t\t\t// Ensure value is not null or empty\n\t\t\t\t\t\tif (urlPathSegment == null || urlPathSegment === '') {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// continue and check the other segments\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (routePathSegment !== urlPathSegment) {\n\t\t\t\t\t\t\t// Not a valid segment so the url does not match the route\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If we get here the url path segments matches the route path segments. Next we check the query parameters, if there are any\n\t\t\tif (routePathQuestionIndex !== -1) {\n\t\t\t\tvar tmpRoutePath = options.route.path;\n\t\t\t\ttmpRoutePath = stripLeadingSlash(tmpRoutePath);\n\t\t\t\tvar routeQueryParamsStr = tmpRoutePath.substr(routePathQuestionIndex + 1);\n\n\t\t\t\tvar routeParams = router.parseRouteQueryParams(routeQueryParamsStr);\n\n\t\t\t\t// The url path segments match but the route also specifies query params we need to check\n\n\t\t\t\t// Extract params from url\n\t\t\t\tif (options.urlParams == null) {\n\t\t\t\t\tvar tempParams = router.routeArguments(options.route, window.location.href);\n\t\t\t\t\toptions.urlParams = tempParams;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in routeParams) {\n\t\t\t\t\tif (routeParams.hasOwnProperty(key)) {\n\t\t\t\t\t\tvar urlParamValue = options.urlParams[key];\n\n\t\t\t\t\t\tif (urlParamValue == null) {\n\t\t\t\t\t\t\t// There is no parameter in the url for the routeParameter so we do not have a match\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Nothing failed. The route matches the URL.\n\t\t\treturn true;\n\t\t},\n\t\t// router.routeArguments([route, [url]]) - Gets the path variables and query parameter values from the URL\n\t\t//\n\t\t// Both parameters are optional.\n\t\trouteArguments: function (route, url) {\n\n\t\t\t/*\n\t\t\t var cacheResult = getCachedRouteArguments(route, url);\n\t\t\t if (cacheResult != null) {\n\t\t\t \n\t\t\t return cacheResult;\n\t\t\t }*/\n\n\t\t\t//argumentsCache[];\n\t\t\tif (!route)\n\t\t\t\troute = router.activeRoute;\n\t\t\tif (!url)\n\t\t\t\turl = window.location.href;\n\t\t\tvar args = {};\n\t\t\tvar urlPath = router.urlPath(url);\n\t\t\turlPath = stripLeadingSlash(urlPath);\n\n\t\t\t// Example pathSegments = ['', example', 'path']\n\t\t\tvar urlPathSegments = urlPath.split('/');\n\n\t\t\t// Example routePathSegments = ['', 'example', '*']\n\t\t\tvar routePathSegments = [];\n\t\t\tif (route && route.path && !(route.path instanceof RegExp)) {\n\t\t\t\tvar routePath = route.path;\n\t\t\t\troutePath = stripLeadingSlash(routePath);\n\t\t\t\troutePathSegments = routePath.split('/');\n\t\t\t}\n\n\t\t\t// Get path variables\n\t\t\t// URL '/customer/123'\n\t\t\t// and route `{path: '/customer/:id'}`\n\t\t\t// gets id = '123'\n\t\t\tfor (var routeSegmentIndex in routePathSegments) {\n\t\t\t\tif (routePathSegments.hasOwnProperty(routeSegmentIndex)) {\n\t\t\t\t\tvar routeSegment = routePathSegments[routeSegmentIndex];\n\t\t\t\t\tif (routeSegment.charAt(0) === ':') {\n\t\t\t\t\t\trouteSegment = routeSegment.substring(1);\n\t\t\t\t\t\t// Strip everything after and including ? if present\n\t\t\t\t\t\tvar questionmarkIndex = routeSegment.indexOf('?');\n\t\t\t\t\t\tif (questionmarkIndex !== -1) {\n\t\t\t\t\t\t\trouteSegment = routeSegment.substr(0, questionmarkIndex);\n\t\t\t\t\t\t}\n\t\t\t\t\t\targs[routeSegment] = urlPathSegments[routeSegmentIndex];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//get query string\n\t\t\tvar search = router.queryString(url);\n\t\t\tvar queryParams = router.queryParamsFromSearchString(search);\n\t\t\tfor (var param in queryParams) {\n\t\t\t\tif (queryParams.hasOwnProperty(param)) {\n\t\t\t\t\targs[param] = queryParams[param];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Parse the arguments into unescaped strings, numbers, or booleans\n\t\t\targs = router.parseArguments(args);\n\n\t\t\t//setCachedRouteArguments(route, url, args);\n\t\t\treturn args;\n\t\t},\n\t\tqueryString: function (url) {\n\t\t\t// Get the query string from the url\n\t\t\t// The query string is the query parameters excluding the leading '?'\n\t\t\tvar searchIndex = url.indexOf('?');\n\t\t\tvar search = '';\n\t\t\tif (searchIndex !== -1) {\n\t\t\t\tsearch = url.substring(searchIndex + 1);\n\t\t\t\tvar hashIndex = search.indexOf('#');\n\t\t\t\tif (hashIndex !== -1) {\n\t\t\t\t\tsearch = search.substring(0, hashIndex);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// TODO only check url once to extract params, not twice once for url and again for hash\n\t\t\t// If it's a hash URL we need to get the search from the hash\n\t\t\tvar hashPathIndex = url.indexOf('#');\n\t\t\tvar hashBangPathIndex = url.indexOf('#!');\n\t\t\tif (hashPathIndex !== -1 || hashBangPathIndex !== -1) {\n\t\t\t\tvar hash = '';\n\t\t\t\tif (hashPathIndex !== -1) {\n\t\t\t\t\thash = url.substring(hashPathIndex);\n\t\t\t\t} else {\n\t\t\t\t\thash = url.substring(hashBangPathIndex);\n\t\t\t\t}\n\t\t\t\tsearchIndex = hash.indexOf('?');\n\t\t\t\tif (searchIndex !== -1) {\n\t\t\t\t\tsearch = hash.substring(searchIndex + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn search;\n\t\t},\n\t\tqueryParams: function (url) {\n\t\t\tvar search = router.queryString(url);\n\t\t\tvar queryParams = router.queryParamsFromSearchString(search);\n\t\t\treturn queryParams;\n\t\t},\n\t\tqueryParamsFromSearchString: function (search) {\n\t\t\tvar params = {};\n\t\t\tvar queryParameters = search.split('&');\n\t\t\t// split() on an empty string has a strange behavior of returning [''] instead of []\n\t\t\tif (queryParameters.length === 1 && queryParameters[0] === '') {\n\t\t\t\tqueryParameters = [];\n\t\t\t}\n\t\t\tfor (var i in queryParameters) {\n\t\t\t\tif (queryParameters.hasOwnProperty(i)) {\n\t\t\t\t\tvar queryParameter = queryParameters[i];\n\t\t\t\t\tvar queryParameterParts = queryParameter.split('=');\n\t\t\t\t\tvar value = queryParameterParts.splice(1, queryParameterParts.length - 1).join('=');\n\t\t\t\t\tparams[queryParameterParts[0]] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn params;\n\t\t},\n\t\tparseArguments: function (args) {\n\t\t\tfor (var arg in args) {\n\t\t\t\tvar value = args[arg];\n\t\t\t\tif (value === 'true') {\n\t\t\t\t\targs[arg] = true;\n\t\t\t\t} else if (value === 'false') {\n\t\t\t\t\targs[arg] = false;\n\t\t\t\t} else if (!isNaN(value) && value !== '' && value.charAt(0) !== '0') {\n\t\t\t\t\t// numeric\n\t\t\t\t\targs[arg] = +value;\n\t\t\t\t} else {\n\t\t\t\t\t// string\n\t\t\t\t\targs[arg] = decodeURIComponent(value);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn args;\n\t\t},\n\t\tparseRouteQueryParams: function (routerQueryParams) {\n\n\t\t\tvar hit = cachedRouterQueryParams[routerQueryParams];\n\t\t\tif (hit != null) {\n\t\t\t\treturn hit;\n\t\t\t}\n\n\t\t\tvar routeParams = {};\n\t\t\tvar routeQueryParameters = routerQueryParams.split('&');\n\t\t\t// split() on an empty string has a strange behavior of returning [''] instead of []\n\t\t\tif (routeQueryParameters.length === 1 && routeQueryParameters[0] === '') {\n\t\t\t\trouteQueryParameters = [];\n\t\t\t}\n\t\t\tfor (var key in routeQueryParameters) {\n\t\t\t\tif (routeQueryParameters.hasOwnProperty(key)) {\n\t\t\t\t\tvar routeQueryParameter = routeQueryParameters[key];\n\t\t\t\t\trouteParams[routeQueryParameter] = {query: true};\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Cache result\n\t\t\tcachedRouterQueryParams[routerQueryParams] = routeParams;\n\n\t\t\treturn routeParams;\n\t\t},\n\t\tparseRouteParams: function (path) {\n\t\t\tvar hit = cachedRouterParams[path];\n\t\t\tif (hit != null) {\n\t\t\t\treturn hit;\n\t\t\t}\n\n\t\t\tvar routePath = path;\n\t\t\tvar routeParams = {};\n\n\t\t\tif (routePath == null || routePath == '') {\n\t\t\t\treturn routeParams;\n\t\t\t}\n\n\t\t\t// Test if it's a regular expression\n\t\t\tif (routePath instanceof RegExp) {\n\t\t\t\troutePath = routePath.toString();\n\t\t\t\t// Remove slashes from beginning and end\n\t\t\t\troutePath = routePath.substring(1, routePath.length - 1);\n\t\t\t}\n\n\n\t\t\tif (routePath.indexOf(':') === -1 && routePath.indexOf('?') !== -1) {\n\t\t\t\t// No parameters in routePath\n\t\t\t\tcachedRouterParams[path] = routeParams;\n\t\t\t\treturn routeParams;\n\t\t\t}\n\n\t\t\t// Chop off any query parameters (everything after and including ?) from the routePath\n\t\t\tvar routePathQuestionIndex = routePath.indexOf('?');\n\t\t\t// Check if there is a ? but that the ? is not the last character\n\t\t\tif (routePathQuestionIndex !== -1 && routePathQuestionIndex !== routePath.length - 1) {\n\t\t\t\t// Remove query parms\n\t\t\t\troutePath = routePath.substr(0, routePathQuestionIndex);\n\t\t\t}\n\n\t\t\t// Parse segment parameters eg ':id'\n\t\t\t// Example routePathSegments = ['foo', 'bar', ':id', '']\n\t\t\tvar routePathSegments = routePath.split('/');\n\n\t\t\tfor (var key in routePathSegments) {\n\t\t\t\tif (routePathSegments.hasOwnProperty(key)) {\n\t\t\t\t\t// The path segments must be equal, be a wildcard segment '*', or be a path parameter like ':id'\n\t\t\t\t\tvar routePathSegment = routePathSegments[key];\n\n\t\t\t\t\t// Check if routePathSegment is a segment dparameter\n\t\t\t\t\tif (routePathSegment.charAt(0) === ':') {\n\t\t\t\t\t\tvar param = routePathSegment.slice(1);\n\t\t\t\t\t\trouteParams[param] = {segment: true};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Parse query string parameters eg ?id&name\n\t\t\tif (routePathQuestionIndex !== -1) {\n\t\t\t\tvar routeQueryParamsStr = path.substr(routePathQuestionIndex + 1);\n\n\t\t\t\tvar routeQueryParams = router.parseRouteQueryParams(routeQueryParamsStr);\n\t\t\t\trouteParams = jqutils.extend(routeParams, routeQueryParams);\n\t\t\t}\n\t\t\tcachedRouterParams[path] = routeParams;\n\t\t\treturn routeParams;\n\t\t},\n\t\thashPath: function (hash) {\n\t\t\t// Remove leading #\n\t\t\tif (hash.indexOf('#') === 0) {\n\t\t\t\thash = hash.substring(1);\n\t\t\t}\n\n\t\t\t// Remove everything after the ?\n\t\t\tvar idx = hash.indexOf('?');\n\t\t\tif (idx >= 0) {\n\t\t\t\thash = hash.substring(0, idx);\n\t\t\t}\n\n\t\t\treturn hash;\n\t\t}\n\t};\n\n\tfunction resolveUnknownRoutes(options) {\n\n\t\tvar promise = new Promise(function (resolve, reject) {\n\n\t\t\tvar hashIndex = window.location.href.indexOf('#');\n\n\t\t\tif (hashIndex === -1 || hashIndex === location.href.length - 1) {\n\t\t\t\t// no hash found or hash is at end of url and no hash part is available, so use default view\n\t\t\t\tif (defaultRoute == null) {\n\t\t\t\t\tthrow new Error(\"Couldn't resolve the url, \" + location.href + \", to a route. Please set the option 'kudu.defaultRoute' to render a default page!\");\n\t\t\t\t}\n\t\t\t\tresolve(defaultRoute);// TODO update hash\n\t\t\t\treturn promise;\n\t\t\t}\n\n\t\t\tvar path = router.urlPath(window.location.href);\n\t\t\tpath = stripLeadingSlash(path);\n\n\t\t\t/*\n\t\t\t if (path.indexOf(\"/\") === 0) {\n\t\t\t path = path.substr(1);\n\t\t\t }*/\n\n\t\t\trequire([path], function (module) {\n\t\t\t\tif (module == null) {\n\t\t\t\t\treject();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar newRoute = {\n\t\t\t\t\tpath: path,\n\t\t\t\t\tctrl: module,\n\t\t\t\t\tmoduleId: path\n\t\t\t\t};\n\t\t\t\tresolve(newRoute);\n\n\t\t\t}, function (err) {\n\t\t\t\treject(err);\n\n\t\t\t});\n\t\t});\n\n\t\treturn promise;\n\t}\n\n\tfunction appendHashParams(hash, params) {\n\n\t\tif (params != null) {\n\t\t\tvar traditional = true;\n\t\t\tvar paramStr = jqutils.param(params, traditional);\n\n\t\t\tif (paramStr.length > 0) {\n\n\t\t\t\tif (hash.indexOf('?') === -1) {\n\t\t\t\t\t// No existing parameters\n\t\t\t\t\thash = hash + '?' + paramStr;\n\n\t\t\t\t} else {\n\t\t\t\t\t// There are existing parameters\n\t\t\t\t\thash = hash + '&' + paramStr;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\treturn hash;\n\t}\n\n\tfunction stripLeadingSlash(str) {\n\t\tif (typeof str === \"string\") {\n\t\t\tif (str.indexOf(\"/\") === 0) {\n\t\t\t\treturn str.slice(1);\n\t\t\t}\n\t\t}\n\t\treturn str;\n\t}\n\n\tfunction setIgnoreHashChangeOnce(newHash) {\n\t\tif (currentHash != newHash) {\n\t\t\tignoreHashChangeOnce = true;\n\t\t}\n\t}\n\n\tfunction appendUrlSegment(url, segment) {\n\t\tif (url.length > 0 && url !== '/') {\n\t\t\turl = url + '/';\n\t\t}\n\t\tif (segment.length == 0) {\n\t\t\tsegment = \"/\";\n\t\t}\n\t\turl = url + segment;\n\t\treturn url;\n\t}\n\n\t// Return the router\n\treturn router;\n});\n","define('utils/at/xhrWrapper',['require'],function (require) {\n\n    function xhrWrapper() {\n\n        var that = {};\n\n        that.isXhr = function (obj) {\n            if (obj != null) {\n                if (typeof obj.getAllResponseHeaders === 'function' && typeof obj.abort === 'function') {\n\n                    if (obj.then == null) {\n                        // assume is a XHR\n                        return true;\n                    }\n                }\n            }\n\n            return false;\n        };\n\n        that.canWrap = function (obj) {\n            return that.isXhr(obj);\n        }\n\n        that.wrap = function (xhr) {\n            var status;\n            var statusText;\n            var error;\n            var data;\n            var isSuccess;\n\n            var es6Promise = new Promise(function (resolve, reject) {\n\n                xhr.addEventListener(\"load\", transferComplete);\n                xhr.addEventListener(\"error\", transferFailed);\n                xhr.addEventListener(\"abort\", transferCancelled);\n\n                if (xhr.upload != null) {\n                    xhr.upload.addEventListener(\"load\", transferComplete);\n                    xhr.upload.addEventListener(\"error\", transferFailed);\n                    xhr.upload.addEventListener(\"abort\", transferCancelled);\n                }\n\n                function init() {\n                    status = xhr.status;\n                    statusText = xhr.statusText;\n                    data = xhr.responseText;\n                }\n\n                function initError() {\n                    error = statusText;\n                    if (status || !statusText) {\n                        statusText = \"error\";\n                        if (status < 0) {\n                            status = 0;\n                        }\n                    }\n                }\n\n                function transferComplete() {\n                    init();\n\n                    isSuccess = status >= 200 && status < 300 || status === 304;\n                    if (isSuccess) {\n                        // Success!\n                        // if no content\n                        if (status === 204) {\n                            statusText = \"nocontent\";\n\n                            // if not modified\n                        } else if (status === 304) {\n                            statusText = \"notmodified\";\n\n                        } else {\n                            statusText = \"success\";\n                            data = xhr.responseText;\n                        }\n\n                    } else {\n                        initError();\n                    }\n\n                    if (statusText === \"error\") {\n                        var options = {data: data, status: statusText, xhr: xhr, error: error};\n                        reject(options);\n\n                    } else {\n                        var options = {data: data, status: statusText, xhr: xhr, error: error};\n                        resolve(options);\n                    }\n                }\n\n                function transferFailed() {\n                    init();\n                    initError();\n                    var options = {data: data, status: statusText, xhr: xhr, error: error};\n                    reject(options);\n                }\n\n                function transferCancelled() {\n                    transferFailed();\n                }\n\n            });\n\n            es6Promise.abort = function () {\n                xhr.abort();\n            };\n            return es6Promise;\n        }\n\n        return that;\n    }\n    return xhrWrapper();\n});\n\n\n","define('utils/at/jqxhrWrapper',['require','./xhrWrapper'],function (require) {\n\n    var xhrWrapper = require(\"./xhrWrapper\");\n\n    function jqxhrWrapper() {\n\n        var that = {};\n\n        that.canWrap = function (obj) {\n            if (isXhr(obj) && typeof obj.then === 'function') {\n                return true;\n            }\n            return false;\n        };\n\n        that.wrap = function ($xhr) {\n            var es6Promise = new Promise(function (resolve, reject) {\n\n                $xhr.then(function (data, textStatus, jqXHR) {\n                    resolve({data: data, status: textStatus, xhr: jqXHR});\n                }, function (jqXHR, textStatus, errorThrown) {\n                    reject({error: errorThrown, status: textStatus, xhr: jqXHR});\n                });\n\n                $xhr.then(resolve, reject);\n            });\n            es6Promise.abort = function () {\n                $xhr.abort();\n            };\n            return es6Promise;\n\n        };\n\n        function isXhr(obj) {\n\n            if (obj != null) {\n                if (typeof obj.getAllResponseHeaders === 'function' && typeof obj.abort === 'function') {\n\n                    // assume is a XHR\n                    return true;\n                }\n            }\n\n            return false;\n        }\n\n        return that;\n    }\n    return jqxhrWrapper();\n});\n","define( 'utils/at/deferredPromiseWrapper',['require','../utils'],function ( require ) {\n\t\n\tvar utils = require(\"../utils\");\n\n\tfunction deferredPromiseWrapper() {\n\n\t\tvar that = { };\n\n\t\tthat.canWrap = function ( obj ) {\n\t\t\tif ( isDeferred( obj ) && typeof obj.then === 'function' ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t\tthat.wrap = function ( deferred ) {\n\t\t\tvar es6Promise = new Promise( function ( resolve, reject ) {\n\n\t\t\t\tdeferred.then( function ( obj ) {\n/*\n\t\t\t\t\tif (utils.isObject(obj)) {\n\t\t\t\t\t\tresolve( { data: obj.data, status: obj.status, xhr: obj.xhr } );\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(obj);\n\t\t\t\t\t}*/\n\t\t\t\t\tresolve(obj);\n\n\t\t\t\t}, function ( obj ) {\n\t\t\t\t\t/*\n\t\t\t\t\tif (utils.isObject(obj)) {\n\t\t\t\t\t\treject( { error: obj.error, status: obj.status, xhr: obj.xhr } );\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject(obj);\n\t\t\t\t\t}*/\n\t\t\t\t\treject(obj);\n\t\t\t\t} );\n\n\t\t\t\tdeferred.then( resolve, reject );\n\t\t\t} );\n\t\t\tes6Promise.abort = function () {\n\t\t\t\tdeferred.abort();\n\t\t\t};\n\t\t\treturn es6Promise;\n\n\t\t};\n\n\t\tfunction isDeferred( obj ) {\n\n\t\t\tif ( obj != null ) {\n\t\t\t\tif ( typeof obj.pipe === \"function\" && typeof obj.promise === \"function\" && typeof obj.state === \"function\") {\n\t\t\t\t\t// assume is a deferred\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn that;\n\t}\n\treturn deferredPromiseWrapper();\n} );\n\n","define('utils/at/ajaxTracker',['require','../jqr/npo','./jqxhrWrapper','./xhrWrapper','./deferredPromiseWrapper','../jqr/jqutils'],function (require) {\n\n    require(\"../jqr/npo\");\n    var jqxhrWrapper = require(\"./jqxhrWrapper\");\n    var xhrWrapper = require(\"./xhrWrapper\");\n\tvar deferredPromiseWrapper = require(\"./deferredPromiseWrapper\");\n    var jqutils = require(\"../jqr/jqutils\");\n\n    function ajaxTracker(options) {\n\n        if (options.kudu == null) {\n            throw new Error(\"ajaxTracker requires an options.kudu instance!\");\n        }\n\n        var that = {};\n        var idCounter = 0;\n        var promiseCounter = 0;\n\n        var promisesMap = {};\n        var globalPromise = null;\n        //var globalPromiseArgs = {};\n\n        var wrappers = {\n            xhr: xhrWrapper,\n            jqxhr: jqxhrWrapper,\n\t\t\tdeferredPromise: deferredPromiseWrapper,\n        };\n\n        wrappers = jqutils.extend(wrappers, options.wrappers);\n\n        that.add = function (target, promiseOrXhr, args) {\n\n            if (typeof promiseOrXhr.abort !== 'function') {\n                throw new Error(\"ajaxTracker.add(promiseOrXhr) requires an 'abort' function for when views are cancelled!\");\n            }\n\n            var promiseXhr;\n\n            if (promiseOrXhr.then == null || promiseOrXhr.catch == null) {\n                promiseXhr = that.promisify(promiseOrXhr);\n            } else {\n                promiseXhr = promiseOrXhr;\n            }\n\n            var promisesArray = promisesMap[target];\n            if (promisesArray == null) {\n                promisesArray = [];\n                promisesMap[target] = promisesArray;\n            }\n\n            var item = {promise: promiseXhr, args: args};\n            promisesArray.push(item);\n\n            var triggerOptions = {\n                xhr: promiseXhr,\n                args: args\n            };\n            if (globalPromise == null) {\n                globalPromise = Promise.all([promiseXhr]);\n\n                options.kudu.emit(\"global.ajax.start\", triggerOptions);\n                triggerOptions.args = args;\n                options.kudu.emit(\"ajax.start\", triggerOptions);\n\n            } else {\n                globalPromise = Promise.all([globalPromise, promiseXhr]);\n                /*\n                 if (args != null) {\n                 globalPromiseArgs = jqutils.extend(globalPromiseArgs, args);\n                 }*/\n                triggerOptions.args = args;\n                options.kudu.emit(\"ajax.start\", triggerOptions);\n            }\n            globalPromise._id = idCounter++;\n\n            addListeners(target, globalPromise, promiseXhr, args);\n            //console.log(\"DONE registering\", globalPromise._id);\n\n            promiseCounter++;\n\n            return globalPromise;\n        };\n\n        that.remove = function (target, promise) {\n            var jqpromiseArray = promisesMap[target];\n            if (jqpromiseArray == null) {\n                return false;\n            }\n\n            var index = -1;\n            for (var i = 0; i < jqpromiseArray.length; i++) {\n                var item = jqpromiseArray[i];\n                if (item.promise === promise) {\n                    index = i;\n                    break;\n                }\n            }\n\n            if (index >= 0) {\n                jqpromiseArray.splice(index, 1);\n                if (jqpromiseArray.length === 0) {\n                    delete promisesMap[target];\n                }\n                promiseCounter--;\n                return true;\n            }\n            return false;\n        };\n\n        that.clear = function (target) {\n            if (arguments.length === 0) {\n                promisesMap = {};\n\n            } else {\n                delete promisesMap[target];\n            }\n        };\n\n        that.abort = function (target) {\n            if (arguments.length === 0) {\n                for (var key in promisesMap) {\n                    if (promisesMap.hasOwnProperty(key)) {\n                        var promisesArray = promisesMap[key];\n                        abortItems(promisesArray);\n\n                    }\n                }\n\n\n                abortItems(promisesArray);\n\n                return;\n            }\n\n            var promisesArray = promisesMap[target];\n            if (promisesArray == null) {\n                return;\n            }\n\n            abortItems(promisesArray);\n        };\n\n        that.promisify = function (obj) {\n            for (var key in wrappers) {\n                if (wrappers.hasOwnProperty(key)) {\n                    var wrapper = wrappers[key];\n                    if (wrapper.canWrap(obj)) {\n                        var result = wrapper.wrap(obj);\n                        return result;\n                    }\n                }\n            }\n            return obj;\n        };\n\n        function abortItems(promisesArray) {\n            // promiseArray could be manipulated outside the loop below, so we make a copy\n            var promisesCopy = promisesArray.slice();\n            promisesCopy.forEach(function (item, index) {\n                item.promise.abort();\n            });\n            globalPromise = null;\n            //globalPromiseArgs = {};\t\t\t\n        }\n\n        function addListeners(target, globalPromiseParam, promiseParam, args) {\n\n            promiseParam.then(function (value) {\n\t\t\t\tvalue = value || {};\n\n                var triggerOptions;\n\n                if (isXhr(value.xhr)) {\n                    triggerOptions = {data: value.data, status: value.status, xhr: value.xhr, args: args};\n\n                } else {\n                    // Not sure about the use case of Promises with AjaxTracker\n                    var promiseArgs;\n                    if (arguments.length > 0) {\n                        promiseArgs = Array.prototype.slice.call(arguments);\n                    }\n\t\t\t\t\ttriggerOptions = {data: value, status: null, xhr: null, error: null, args: args, promiseArgs: promiseArgs};\n                }\n\n                options.kudu.emit(\"ajax.success\", triggerOptions);\n\n            }).catch(function (reason) {\n\t\t\t\treason = reason || {};\n\n                var triggerOptions;\n\n                if (isXhr(reason.xhr)) {\n                    triggerOptions = {error: reason.error, status: reason.status, xhr: reason.xhr, args: args};\n\n                } else {\n                    // Not sure about the use case of Promises with AjaxTracker\n                    var promiseArgs;\n                    if (arguments.length > 0) {\n                        promiseArgs = Array.prototype.slice.call(arguments);\n                    }\n                    triggerOptions = {data: null, status: null, xhr: null, error: reason, args: args, promiseArgs: promiseArgs};\n                }\n\n                options.kudu.emit(\"ajax.error\", triggerOptions);\n            });\n\n            promiseParam.then(function (value) {\n\t\t\t\tvalue = value || {};\n\t\t\t\n                always(value, true);\n\n            }).catch(function (reason) {\n\t\t\t\treason = reason || {};\n\n                always(reason, false);\n            });\n\n            function always(value, success) {\n\t\t\t\tvalue = value || {};\n\t\t\t\n                // Note: the promise might not be an ajax request at all!\n\n                var triggerOptions;\n\n                if ( isXhr( value.xhr )) {\n\n                    if (success === true) {\n                        triggerOptions = {data: value.data, status: value.status, xhr: value.xhr, error: null, args: args};\n\n                    } else {\n                        triggerOptions = {data: null, status: value.status, xhr: value.xhr, error: value.error, args: args};\n                    }\n\n                } else {\n                    // Not sure about the use case of Promises with AjaxTracker\n                    var promiseArgs;\n                    if (arguments.length > 0) {\n                        promiseArgs = Array.prototype.slice.call(arguments);\n                    }\n                    triggerOptions = {data: value, status: value.status, xhr: value.xhr, error: value.error, args: args, promiseArgs: promiseArgs};\n\n                }\n\n                options.kudu.emit(\"ajax.complete\", triggerOptions);\n                var removed = that.remove(target, promiseParam);\n                //console.log(\"Removed?\", removed);\n            }\n\n            globalPromiseParam.then(function (value) {\n\t\t\t\tvalue = value || {};\n\n                var triggerOptions;\n\n                if (isXhr(value.xhr)) {\n                    triggerOptions = {data: value.data, status: value.status, xhr: value.xhr, args: args};\n\n                } else {\n                    // Not sure about the use case of Promises with AjaxTracker\n                    var promiseArgs;\n                    if (arguments.length > 0) {\n                        promiseArgs = Array.prototype.slice.call(arguments);\n                    }\n                    triggerOptions = {data: value, status: null, xhr: null, error: null, args: args, promiseArgs: promiseArgs};\n                }\n\n                // Only process if this is the globalPromise, otherwise globalPromise has been overwritten\n                if (globalPromise == null || globalPromise == globalPromiseParam) {\n\n                    options.kudu.emit(\"ajax.stop\", triggerOptions);\n\n                    delete triggerOptions.args;\n                    options.kudu.emit(\"global.ajax.stop\", triggerOptions);\n                    globalPromise = null;\n                } else {\n                    options.kudu.emit(\"ajax.stop\", triggerOptions);\n                }\n\n            }).catch(function (reason) {\n\t\t\t\treason = reason || {};\n\n                var triggerOptions;\n\n                if (isXhr(reason.xhr)) {\n                    triggerOptions = {error: reason.error, status: reason.status, xhr: reason.xhr, args: args};\n\n                } else {\n                    // Not sure about the use case of Promises with AjaxTracker\n                    var promiseArgs;\n                    if (arguments.length > 0) {\n                        promiseArgs = Array.prototype.slice.call(arguments);\n                    }\n\n                    triggerOptions = {data: null, status: null, xhr: null, error: reason, args: args, promiseArgs: promiseArgs};\n                }\n\n                if (globalPromise == null || globalPromise == globalPromiseParam) {\n\n                    options.kudu.emit(\"ajax.stop\", triggerOptions);\n\n                    delete triggerOptions.args;\n                    options.kudu.emit(\"global.ajax.stop\", triggerOptions);\n                    globalPromise = null;\n                    //globalPromiseArgs = {};\n                    //console.log(\"globalPromise ERROR\", globalPromiseParam);\n                    //console.log(arguments);\n\n                } else {\n                    //console.log(\"globalPromise ignore error\");\n                    options.kudu.emit(\"ajax.stop\", triggerOptions);\n                    return;\n                }\n            });\n        }\n\n        function isXhr(obj) {\n            if (obj != null) {\n                if (typeof obj.getAllResponseHeaders === 'function' && typeof obj.abort === 'function') {\n                    return true;\n                }\n            }\n\n            return false;\n        }\n\n        return that;\n    }\n\n    return ajaxTracker;\n});\n\n","define('utils/at/simpleAjaxTracker',['require'],function (require) {\n\n\tvar simpleAjaxTracker = {};\n\n\tsimpleAjaxTracker.create = function (ajaxTracker, options) {\n\t\tvar adaptor = {\n\t\t\tadd: function (xhrOrPromise, args) {\n\t\t\t\tajaxTracker.add(options.target, xhrOrPromise, args);\n\t\t\t},\n\t\t\tremove: function (xhrOrPromise) {\n\t\t\t\tajaxTracker.remove(options.target, xhrOrPromise);\n\t\t\t},\n\t\t\tabort: function () {\n\t\t\t\tajaxTracker.abort(options.target);\n\t\t\t}\n\t\t};\n\n\t\treturn adaptor;\n\t};\n\n\treturn simpleAjaxTracker;\n});\n\n","define('lifecycle/onInitHandler',['require','../utils/jqr/npo','../utils/utils','../utils/severity'],function (require) {\n\n\trequire(\"../utils/jqr/npo\");\n\tvar utils = require( \"../utils/utils\" );\n\tvar severity = require( \"../utils/severity\" );\n\n\tfunction onInitHandler(options) {\n\n\t\tvar promise = new Promise(function (resolve, reject) {\n\n\t\t\tif (typeof options.ctrl.onInit !== 'function') {\n\t\t\t\tvar err = new Error( \"Controllers *must* implement an onInit method that returns either a Ractive function or a promise that resolves to a Ractive function!\" );\n\t\t\t\tutils.populateError( err, severity.WARN, options );\n\t\t\t\treject( err );\n\t\t\t\treturn promise;\n\t\t\t}\n\n\t\t\tvar viewOptions = {\n\t\t\t\tctrl: options.ctrl,\n\t\t\t\troute: options.route,\n\t\t\t\trouteParams: options.routeParams,\n\t\t\t\targs: options.args,\n\t\t\t\tajaxTracker: options.ajaxTracker,\n\t\t\t\tprev: options.prev\n\t\t\t};\n\n\t\t\tvar ractiveFnOrPromise = options.ctrl.onInit(viewOptions);\n\n\t\t\tresolve(ractiveFnOrPromise);\n\n\t\t\t/*\n\t\t\t if (options.createView) {\n\t\t\t promise = options.createView(options);\n\t\t\t } else {\n\t\t\t promise = createView(options);\n\t\t\t }*/\n\t\t});\n\n\t\treturn promise;\n\t}\n\n\treturn onInitHandler;\n});\n","define( 'lifecycle/onRemoveHandler',['require','../utils/utils','../utils/severity','../utils/jqr/npo'],function ( require ) {\n\n\tvar utils = require( \"../utils/utils\" );\n\tvar severity = require( \"../utils/severity\" );\n\trequire( \"../utils/jqr/npo\" );\n\n\tfunction onRemoveHandler( options ) {\n\n\t\tvar promise = new Promise( function ( resolve, reject ) {\n\n\t\t\tif ( typeof options.ctrl.onRemove !== 'function' ) {\n\t\t\t\tresolve();\n\t\t\t\treturn promise;\n\t\t\t}\n\n\t\t\tvar viewOptions = {\n\t\t\t\tctrl: options.ctrl,\n\t\t\t\troute: options.route,\n\t\t\t\trouteParams: options.routeParams,\n\t\t\t\targs: options.args,\n\t\t\t\tview: options.view,\n\t\t\t\tajaxTracker: options.ajaxTracker,\n\t\t\t\tnext: options.next\n\t\t\t};\n\n\t\t\tvar booleanOrPromise = options.ctrl.onRemove( viewOptions );\n\n\t\t\tif ( booleanOrPromise == null || booleanOrPromise == true ) {\n\t\t\t\tresolve();\n\t\t\t\treturn promise;\n\t\t\t}\n\n\t\t\tif ( booleanOrPromise == false ) {\n\t\t\t\tvar err = new Error( \"controller onRemove() returned false, view will not be switched!\" );\n\t\t\t\tutils.populateError( err, severity.INFO, options );\n\t\t\t\treject( err );\n\t\t\t\treturn promise;\n\t\t\t}\n\n\t\t\tif ( utils.isPromise( booleanOrPromise ) ) {\n\t\t\t\tbooleanOrPromise.then( function ( bool ) {\n\n\t\t\t\t\t// Request could have been overwritten by new request. Ensure this is still the active request\n\t\t\t\t\tif ( ! options.mvc.requestTracker.active ) {\n\t\t\t\t\t\tvar err = new Error( \"Request overwritten by another view request\" );\n\t\t\t\t\t\tutils.populateError( err, severity.WARN, options );\n\t\t\t\t\t\treject( err );\n\t\t\t\t\t\treturn promise;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( bool == null || bool == true ) {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar err = new Error( \"controller onRemove() returned a promise that resolved to, '\" + bool + \"', instead of 'true', view will not be switched!\" );\n\t\t\t\t\t\tutils.populateError( err, severity.INFO, options );\n\t\t\t\t\t\treject( err );\n\t\t\t\t\t}\n\t\t\t\t} ).catch( function ( err ) {\n\t\t\t\t\t// onRemove promise rejected\n\t\t\t\t\tutils.populateError( err, severity.ERROR, options );\n\t\t\t\t\treject( err );\n\t\t\t\t} );\n\n\t\t\t} else {\n\t\t\t\tvar err = new Error( \"Ignoring new view since onRemove did not return a valid response. onRemove must return either true/false or a promise that resolves to true/false.\" );\n\t\t\t\tutils.populateError( err, severity.WARN, options );\n\t\t\t\treject( err );\n\t\t\t}\n\t\t} );\n\t\treturn promise;\n\t}\n\n\treturn onRemoveHandler;\n} );\n","define('ractivelib/setupEvents',['require'],function (require) {\n\n\t//var $ = require(\"jquery\");\n\n\tfunction setupEvents(options) {\n\t\t// Guard against if view is not a ractive instance\n\t\tif (!options.view.off) {\n\t\t\treturn;\n\t\t}\n\n\t\t/*\n\t\tvar triggerOptions = {\n\t\t\trouteParams: options.routeParams,\n\t\t\targs: options.args,\n\t\t\tview: options.view,\n\t\t\tctrl: options.ctrl,\n\t\t\tajaxTracker: options.ajaxTracker,\n\t\t\tmvc: options.mvc\n\t\t};\n\n\t\tvar viewOptions = {\n\t\t\trouteParams: options.routeParams,\n\t\t\targs: options.args,\n\t\t\tview: options.view,\n\t\t\tajaxTracker: options.ajaxTracker\n\t\t};*/\n\n\t\t// Add callback events\n\t\toptions.view.off('complete');\n\t\toptions.view.off('render');\n\t\toptions.view.off('unrender');\n\t\toptions.view.off('teardown');\n\n\t\toptions.view.on('complete', function () {\n\t\t\t// switch on transitions that was disabled in kudu during rendering of the view.\n\t\t\t//this.transitionsEnabled = true;\n\t\t\t/*\n\t\t\tif (typeof options.ctrl.onComplete == 'function') {\n\t\t\t\toptions.ctrl.onComplete(viewOptions);\n\t\t\t}*/\n\t\t\t//options.kudu.triggerEvent(\"complete\", triggerOptions);\n\t\t});\n\n\t\toptions.view.on('render', function () {\n\t\t\t//console.log(\"onrender\");\n\t\t\t/*\n\t\t\tif (typeof options.ctrl.onRender == 'function') {\n\t\t\t\toptions.ctrl.onRender(viewOptions);\n\t\t\t}*/\n\t\t\t//options.kudu.triggerEvent(\"render\", triggerOptions);\n\t\t});\n\n\t\toptions.view.on('unrender', function () {\n\t\t\t/*\n\t\t}\n\t\t\tif (typeof options.ctrl.onUnrender == 'function') {\n\t\t\t\toptions.ctrl.onUnrender(viewOptions);\n\t\t\t}\n\t\t\toptions.kudu.triggerEvent(\"unrender\", triggerOptions);\n\t\t\t*/\n\t\t});\n\n\t\toptions.view.on('teardown', function () {\n\t\t\t//console.log(\"onteardown\");\n\t\t\t//options.kudu.triggerEvent(\"teardown\", triggerOptions);\n\t\t});\n\n\t\tvar that = {};\n\n\n\n\t\treturn that;\n\t}\n\treturn setupEvents;\n});\n","define('ractivelib/setupDefaultEvents',['require','ractive'],function (require) {\n\n\t//var $ = require(\"jquery\");\n\tvar Ractive = require(\"ractive\");\n\n\tfunction setupDefaultEvents(options) {\n\t\tRactive.defaults.onconstruct = function () {\n\t\t\t//console.error(\"OK\", this);\n\t\t};\n\n\t\tvar that = {};\n\n\t\treturn that;\n\t}\n\treturn setupDefaultEvents;\n});\n","define('utils/jqr/fade',['require'],function (require) {\n\n\tfunction fade() {\n\n\t\tvar that = {};\n\n\t\tvar speeds = {\n\t\t\tslow: 600,\n\t\t\tfast: 200,\n\t\t\t// Default speed\n\t\t\tdefault: 400\n\t\t};\n\n\t\tvar fxOff = false;\n\n\t\tvar queue = [];\n\n\t\tthat.off = function (val) {\n\t\t\tfxOff = val;\n\t\t};\n\n\t\tthat.stop = function () {\n\n\t\t\tqueue.forEach(function (item, i) {\n\t\t\t\tif (item.fadeIn) {\n\t\t\t\t\titem.el.style.opacity = 1;\n\t\t\t\t} else {\n\t\t\t\t\titem.el.style.opacity = 0;\n\t\t\t\t}\n\n\t\t\t\tif (item.timeoutId != null) {\n\t\t\t\t\tclearTimeout(item.timeoutId);\n\t\t\t\t}\n\t\t\t\tif (item.requestId != null) {\n\t\t\t\t\tcancelAnimationFrame(item.requestId);\n\t\t\t\t}\n\n\t\t\t\tif (item.cb != null) {\n\t\t\t\t\titem.cb();\n\t\t\t\t\titem.cb = null;\n\t\t\t\t}\n\t\t\t});\n\t\t\t// Reset queue and remove all handles to stored items\n\t\t\tqueue = [];\n\t\t};\n\n\t\tthat.queue = function () {\n\t\t\treturn queue;\n\t\t};\n\n\t\tthat.dequeue = function (item) {\n\t\t\tvar i = queue.length - 1;\n\t\t\twhile (i >= 0) {\n\t\t\t\tif (queue[i] === item) {\n\t\t\t\t\tqueue.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\ti--;\n\t\t\t}\n\t\t};\n\n\t\tthat.fadeIn = function (el, options, cb) {\n\t\t\tif (typeof options === \"function\") {\n\t\t\t\tcb = options;\n\t\t\t\toptions = {};\n\t\t\t}\n\n\t\t\toptions = options || {};\n\n\t\t\tif (fxOff || options.duration == 0) {\n\t\t\t\tel.style.opacity = 1;\n\t\t\t\tif (cb) {\n\t\t\t\t\tcb();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\toptions.duration = calcDuration(options.duration);\n\n\t\t\tvar queueObj = {\n\t\t\t\tfadeIn: true,\n\t\t\t\tel: el,\n\t\t\t\tcb: cb,\n\t\t\t\trequestId: null,\n\t\t\t\ttimeoutId: null\n\t\t\t};\n\t\t\tqueue.push(queueObj);\n\n\t\t\tvar temp = window.getComputedStyle(el).getPropertyValue(\"opacity\");\n\t\t\tel.style.opacity = +temp;\n\n\t\t\tvar last = +new Date();\n\t\t\tvar tick = function () {\n\n\t\t\t\tvar change = (new Date() - last) / options.duration;\n\t\t\t\tvar val = +el.style.opacity + change;\n\t\t\t\tel.style.opacity = val;\n\t\t\t\tlast = +new Date();\n\n\t\t\t\tif (+el.style.opacity < 1) {\n\n\t\t\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\t\t\tqueueObj.requestId = requestAnimationFrame(tick);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tqueueObj.timeoutId = setTimeout(tick, 16);\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tthat.dequeue(queueObj);\n\t\t\t\t\tif (queueObj.cb) {\n\t\t\t\t\t\tcb();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\ttick();\n\t\t};\n\n\t\tthat.fadeOut = function (el, options, cb) {\n\t\t\tif (typeof options === \"function\") {\n\t\t\t\tcb = options;\n\t\t\t\toptions = {};\n\t\t\t}\n\n\t\t\toptions = options || {};\n\n\t\t\tif (fxOff || options.duration == 0) {\n\t\t\t\tel.style.opacity = 0;\n\t\t\t\tif (cb) {\n\t\t\t\t\tcb();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\toptions.duration = calcDuration(options.duration);\n\n\t\t\tvar queueObj = {\n\t\t\t\tfadeIn: false,\n\t\t\t\tel: el,\n\t\t\t\tcb: cb,\n\t\t\t\trequestId: null,\n\t\t\t\ttimeoutId: null\n\t\t\t};\n\t\t\tqueue.push(queueObj);\n\n\t\t\tvar temp = window.getComputedStyle(el).getPropertyValue(\"opacity\");\n\t\t\tel.style.opacity = +temp;\n\n\t\t\tvar last = +new Date();\n\t\t\tvar tick = function () {\n\t\t\t\tvar change = (new Date() - last) / options.duration;\n\t\t\t\tvar val = +el.style.opacity - change;\n\t\t\t\tel.style.opacity = val;\n\t\t\t\tlast = +new Date();\n\n\t\t\t\tif (+el.style.opacity > 0) {\n\t\t\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\t\t\tqueueObj.requestId = requestAnimationFrame(tick);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tqueueObj.timeoutId = setTimeout(tick, 16);\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tthat.dequeue(queueObj);\n\t\t\t\t\tif (queueObj.cb) {\n\t\t\t\t\t\tcb();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\ttick();\n\t\t};\n\n\t\tfunction calcDuration(duration) {\n\t\t\t//return 4000;\n\t\t\tif (typeof duration !== \"number\") {\n\t\t\t\tduration = duration in speeds ? speeds[duration] : speeds.default;\n\t\t\t}\n\t\t\treturn duration;\n\t\t}\n\n\t\treturn that;\n\t}\n\n\tvar fade = fade();\n\treturn fade;\n});\n\n\n","define('transition/fade',['require','../utils/jqr/fade'],function (require) {\n\n\t//var $ = require(\"jquery\");\n\tvar jqfade = require(\"../utils/jqr/fade\");\n\n\tfunction fade() {\n\n\t\tvar that = {};\n\n\t\tthat.intro = function (options, done) {\n\t\t\tvar target = options.target;\n\n\t\t\tif (target == null) {\n\t\t\t\tthrow new Error(\"options.target is not defined!\");\n\t\t\t}\n\n\t\t\tvar duration = options.duration || 'fast';\n\n\t\t\tif (options.firstView) {\n\t\t\t\tduration = 0;\n\t\t\t}\n\t\t\t\n\t\t\tvar node = document.querySelector(options.target);\n\t\t\tjqfade.fadeIn(node, {duration: duration}, function () {\n\t\t\t//$(options.target).fadeIn(duration, function () {\n\t\t\t\tdone();\n\t\t\t});\n\t\t};\n\n\t\tthat.outro = function (options, done) {\n\t\t\tvar target = options.target;\n\n\t\t\tif (target == null) {\n\t\t\t\tthrow new Error(\"options.target is not defined!\");\n\t\t\t}\n\n\t\t\tvar duration = options.duration || 'fast';\n\n\t\t\tif (options.firstView) {\n\t\t\t\tduration = 0;\n\t\t\t}\n\t\t\t\n\t\t\tvar node = document.querySelector(options.target);\n\t\t\tjqfade.fadeOut(node,  {duration: duration}, function () {\n\t\t\t//$(options.target).fadeOut(duration, function () {\n\t\t\t\tdone();\n\t\t\t});\n\t\t}\n\n\t\treturn that;\n\t}\n\treturn fade();\n});\n\n\n\n","define('transition/intro',['require','../utils/jqr/npo','./fade'],function (require) {\n\n\trequire(\"../utils/jqr/npo\");\n\tvar fade = require(\"./fade\");\n\n\tfunction intro(options) {\n\n\t\tvar promise = new Promise(function (resolve, reject) {\n\n\t\t\tif (options.fx !== true) {\n\t\t\t\tresolve();\n\t\t\t\treturn promise;\n\t\t\t}\n\n\t\t\tvar transition = options.intro || fade.intro;\n\n\t\t\ttransition(options, resolve);\n\t\t});\n\n\t\treturn promise;\n\t}\n\treturn intro;\n});\n","define('transition/outro',['require','../utils/jqr/npo','./fade'],function (require) {\n\n\trequire(\"../utils/jqr/npo\");\n\tvar fade = require(\"./fade\");\n\n\tfunction outro(options) {\n\n\t\tvar promise = new Promise(function (resolve, reject) {\n\n\t\t\tif (options.fx !== true) {\n\t\t\t\tresolve();\n\t\t\t\treturn promise;\n\t\t\t}\n\n\t\t\tvar transition = options.outro || fade.outro;\n\n\t\t\ttransition(options, resolve);\n\t\t});\n\n\t\treturn promise;\n\t}\n\treturn outro;\n});\n","define( 'ractivelib/render/create',['require','../../utils/jqr/npo','../../utils/utils','../../utils/jqr/jqutils','../../utils/severity','../../router/router'],function ( require ) {\n\n\trequire( \"../../utils/jqr/npo\" );\n\tvar utils = require( \"../../utils/utils\" );\n\tvar jqutils = require( \"../../utils/jqr/jqutils\" );\n\tvar severity = require( \"../../utils/severity\" );\n\tvar router = require( \"../../router/router\" );\n\n\tfunction create( options ) {\n\n\t\tvar promise = new Promise( function ( resolve, reject ) {\n\n\t\t\tif ( options.viewOrPromise == null ) {\n\n\t\t\t\t// No new view to render, so we aren't navigating away from current view. However hash already changed\n\t\t\t\t// so reset the hash to current view\n\t\t\t\trouter.restorePreviousHash();\n\n\t\t\t\tvar err = new Error( \"Ignoring view since onInit returned null. onInit must return either a Ractive function or a promise that resolves to a Ractive function.\" );\n\t\t\t\tutils.populateError( err, severity.WARN, options );\n\t\t\t\treject( err );\n\t\t\t\treturn promise;\n\t\t\t}\n\n\t\t\tif ( utils.isPromise( options.viewOrPromise ) ) {\n\n\t\t\t\toptions.viewOrPromise.then( function ( ractiveObj ) {\n\n\t\t\t\t\tif ( typeof ractiveObj === 'function' ) {\n\t\t\t\t\t\tractiveObj = new ractiveObj();\n\t\t\t\t\t}\n\n\t\t\t\t\t// Request could have been overwritten by new request. Ensure this is still the active request\n\t\t\t\t\tif ( ! options.mvc.requestTracker.active ) {\n\t\t\t\t\t\tvar err = new Error( \"Request overwritten by another view request\" );\n\t\t\t\t\t\tutils.populateError( err, severity.WARN, options );\n\t\t\t\t\t\treject( err );\n\t\t\t\t\t\treturn promise;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar view = ractiveObj;\n\t\t\t\t\tresolve( view );\n\n\t\t\t\t} ).catch( function ( err ) {\n\t\t\t\t\tif ( ! options.mvc.requestTracker.active && arguments.length === 0 ) {\n\t\t\t\t\t\tvar newErr = new Error( \"Request overwritten by another view request\" );\n\t\t\t\t\t\tutils.populateError( newErr, severity.WARN, options );\n\t\t\t\t\t\tnewErr.origError = err;\n\t\t\t\t\t\treject( newErr );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// if the Ctrl.onInit() call rejected promise\n\t\t\t\t\t\tutils.populateError( newErr, severity.ERROR, options );\n\t\t\t\t\t\treject( err );\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t} else if ( jqutils.isFunction( options.viewOrPromise ) ) {\n\t\t\t\t// Assume it is a Ractive function\n\t\t\t\t// Should this scenrio be supported? How will the view receive an instance to the ractive\n\t\t\t\t//options.kudu.createRactive(RactiveFnOrPromise);\n\t\t\t\tvar view = new options.viewOrPromise();\n\t\t\t\tresolve( view );\n\n\t\t\t} else if ( utils.isRactiveObject( options.viewOrPromise ) ) {\n\t\t\t\t// Assume it is a Ractive instance\n\t\t\t\tvar view = options.viewOrPromise;\n\t\t\t\tresolve( view );\n\n\t\t\t} else {\n\t\t\t\tvar err = new Error( \"Ignoring view since onInit did not return a valid response. onInit must return either a Ractive function or a promise that resolves to a Ractive function.\" );\n\t\t\t\tutils.populateError( err, severity.WARN, options );\n\t\t\t\treject( err );\n\t\t\t}\n\t\t} );\n\n\t\treturn promise;\n\t}\n\n\treturn create;\n} );\n","define('ractivelib/render/render',['require','../../utils/jqr/npo','../../utils/utils','../../utils/severity'],function (require) {\n\n\trequire(\"../../utils/jqr/npo\");\n\tvar utils = require(\"../../utils/utils\");\n\tvar severity = require(\"../../utils/severity\");\n\n\tfunction render(options) {\n\n\t\tvar promise = new Promise(function (resolve, reject) {\n\n\t\t\t//options.view.transitionsEnabled = false;\n\n\t\t\tvar completePromise = options.view.render(options.target);\n\t\t\t//resolve(options.view);\n\n\t\t\tcompletePromise.then(function () {\n\n\t\t\t\t//options.view.transitionsEnabled = true;\n\n\t\t\t\tresolve(options.view);\n\n\t\t\t}).catch(function (err) {\n\t\t\t\tutils.populateError( err, severity.ERROR, options );\n\t\t\t\treject( err );\n\t\t\t});\n\t\t});\n\n\t\treturn promise;\n\t}\n\treturn render;\n});\n","define('ractivelib/render/unrender',['require','../../utils/jqr/npo','../../utils/utils','../../utils/severity'],function (require) {\n\n\trequire(\"../../utils/jqr/npo\");\n\tvar utils = require(\"../../utils/utils\");\n\tvar severity = require(\"../../utils/severity\");\n\n\tfunction unrender(options) {\n\n\t\tvar promise = new Promise(function (resolve, reject) {\n\t\t\t\n\t\t\t// If users navigates quickly around the screen without waiting for transitions to complete,\n\t\t\t// we could run into situation where the unrender/render calls starts stepping on each other toes.\n\t\t\t// When this happens we switch off animations to force the rendering into a synchronous chain.\n\t\t\t// However Ractive doesn't provide a way yet to abort current transitions, so Ractive.unrender might\n\t\t\t// not resolve, and Kudu wouldn't know the previous view request was overwritten by a new view request.\n\t\t\t// Here we use a workaround to force resolve the unrender promise, if Kudu  detects views overwriting each\n\t\t\t// other. When Ractive supports aborting the current transition, we can remove this workaround and rather\n\t\t\t// abort the current transition\n\t\t\toptions.forceUnrender = function() {\n\t\t\t\tresolve(options.view);\n\t\t\t};\n\n\t\t\toptions.mvc.view.unrender().then(function () {\n\n\t\t\t\tresolve(options.view);\n\n\t\t\t}).catch(function (err) {\n\t\t\t\tutils.populateError( err, severity.ERROR, options );\n\t\t\t\treject( err );\n\t\t\t});\n\t\t});\n\n\t\treturn promise;\n\t}\n\treturn unrender;\n});\n","define('ractivelib/RactiveViewFactory',['require','./render/create','./render/render','./render/unrender'],function (require) {\n\n\tvar createView = require(\"./render/create\");\n\tvar renderView = require(\"./render/render\");\n\tvar unrenderView = require(\"./render/unrender\");\n\n\tfunction ractiveViewFactory() {\n\n\t\tvar that = {};\n\n\t\tthat.createView = function (options) {\n\t\t\treturn createView(options);\n\n\t\t};\n\t\t\n\t\tthat.renderView = function (options) {\n\t\t\treturn renderView(options);\n\t\t};\n\t\t\n\t\tthat.unrenderView = function (options) {\n\t\t\treturn unrenderView(options);\n\t\t};\n\n\t\treturn that;\n\t}\n\treturn new ractiveViewFactory();\n});\n","/*!\n * EventEmitter v4.2.11 - git.io/ee\n * Unlicense - http://unlicense.org/\n * Oliver Caldwell - http://oli.me.uk/\n * @preserve\n */\n\n;(function () {\n    'use strict';\n\n    /**\n     * Class for managing events.\n     * Can be extended to provide event functionality in other classes.\n     *\n     * @class EventEmitter Manages event registering and emitting.\n     */\n    function EventEmitter() {}\n\n    // Shortcuts to improve speed and size\n    var proto = EventEmitter.prototype;\n    var exports = this;\n    var originalGlobalValue = exports.EventEmitter;\n\n    /**\n     * Finds the index of the listener for the event in its storage array.\n     *\n     * @param {Function[]} listeners Array of listeners to search through.\n     * @param {Function} listener Method to look for.\n     * @return {Number} Index of the specified listener, -1 if not found\n     * @api private\n     */\n    function indexOfListener(listeners, listener) {\n        var i = listeners.length;\n        while (i--) {\n            if (listeners[i].listener === listener) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n\n    /**\n     * Alias a method while keeping the context correct, to allow for overwriting of target method.\n     *\n     * @param {String} name The name of the target method.\n     * @return {Function} The aliased method\n     * @api private\n     */\n    function alias(name) {\n        return function aliasClosure() {\n            return this[name].apply(this, arguments);\n        };\n    }\n\n    /**\n     * Returns the listener array for the specified event.\n     * Will initialise the event object and listener arrays if required.\n     * Will return an object if you use a regex search. The object contains keys for each matched event. So /ba[rz]/ might return an object containing bar and baz. But only if you have either defined them with defineEvent or added some listeners to them.\n     * Each property in the object response is an array of listener functions.\n     *\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\n     * @return {Function[]|Object} All listener functions for the event.\n     */\n    proto.getListeners = function getListeners(evt) {\n        var events = this._getEvents();\n        var response;\n        var key;\n\n        // Return a concatenated array of all matching events if\n        // the selector is a regular expression.\n        if (evt instanceof RegExp) {\n            response = {};\n            for (key in events) {\n                if (events.hasOwnProperty(key) && evt.test(key)) {\n                    response[key] = events[key];\n                }\n            }\n        }\n        else {\n            response = events[evt] || (events[evt] = []);\n        }\n\n        return response;\n    };\n\n    /**\n     * Takes a list of listener objects and flattens it into a list of listener functions.\n     *\n     * @param {Object[]} listeners Raw listener objects.\n     * @return {Function[]} Just the listener functions.\n     */\n    proto.flattenListeners = function flattenListeners(listeners) {\n        var flatListeners = [];\n        var i;\n\n        for (i = 0; i < listeners.length; i += 1) {\n            flatListeners.push(listeners[i].listener);\n        }\n\n        return flatListeners;\n    };\n\n    /**\n     * Fetches the requested listeners via getListeners but will always return the results inside an object. This is mainly for internal use but others may find it useful.\n     *\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\n     * @return {Object} All listener functions for an event in an object.\n     */\n    proto.getListenersAsObject = function getListenersAsObject(evt) {\n        var listeners = this.getListeners(evt);\n        var response;\n\n        if (listeners instanceof Array) {\n            response = {};\n            response[evt] = listeners;\n        }\n\n        return response || listeners;\n    };\n\n    /**\n     * Adds a listener function to the specified event.\n     * The listener will not be added if it is a duplicate.\n     * If the listener returns true then it will be removed after it is called.\n     * If you pass a regular expression as the event name then the listener will be added to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addListener = function addListener(evt, listener) {\n        var listeners = this.getListenersAsObject(evt);\n        var listenerIsWrapped = typeof listener === 'object';\n        var key;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key) && indexOfListener(listeners[key], listener) === -1) {\n                listeners[key].push(listenerIsWrapped ? listener : {\n                    listener: listener,\n                    once: false\n                });\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of addListener\n     */\n    proto.on = alias('addListener');\n\n    /**\n     * Semi-alias of addListener. It will add a listener that will be\n     * automatically removed after its first execution.\n     *\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addOnceListener = function addOnceListener(evt, listener) {\n        return this.addListener(evt, {\n            listener: listener,\n            once: true\n        });\n    };\n\n    /**\n     * Alias of addOnceListener.\n     */\n    proto.once = alias('addOnceListener');\n\n    /**\n     * Defines an event name. This is required if you want to use a regex to add a listener to multiple events at once. If you don't do this then how do you expect it to know what event to add to? Should it just add to every possible match for a regex? No. That is scary and bad.\n     * You need to tell it what event names should be matched by a regex.\n     *\n     * @param {String} evt Name of the event to create.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.defineEvent = function defineEvent(evt) {\n        this.getListeners(evt);\n        return this;\n    };\n\n    /**\n     * Uses defineEvent to define multiple events.\n     *\n     * @param {String[]} evts An array of event names to define.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.defineEvents = function defineEvents(evts) {\n        for (var i = 0; i < evts.length; i += 1) {\n            this.defineEvent(evts[i]);\n        }\n        return this;\n    };\n\n    /**\n     * Removes a listener function from the specified event.\n     * When passed a regular expression as the event name, it will remove the listener from all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to remove the listener from.\n     * @param {Function} listener Method to remove from the event.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeListener = function removeListener(evt, listener) {\n\t\tif (listener == null) {\n\t\t\treturn this.removeEvent(evt);\n\t\t}\n        var listeners = this.getListenersAsObject(evt);\n        var index;\n        var key;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key)) {\n                index = indexOfListener(listeners[key], listener);\n\n                if (index !== -1) {\n                    listeners[key].splice(index, 1);\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of removeListener\n     */\n    proto.off = alias('removeListener');\n\n    /**\n     * Adds listeners in bulk using the manipulateListeners method.\n     * If you pass an object as the second argument you can add to multiple events at once. The object should contain key value pairs of events and listeners or listener arrays. You can also pass it an event name and an array of listeners to be added.\n     * You can also pass it a regular expression to add the array of listeners to all events that match it.\n     * Yeah, this function does quite a bit. That's probably a bad thing.\n     *\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add to multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to add.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addListeners = function addListeners(evt, listeners) {\n        // Pass through to manipulateListeners\n        return this.manipulateListeners(false, evt, listeners);\n    };\n\n    /**\n     * Removes listeners in bulk using the manipulateListeners method.\n     * If you pass an object as the second argument you can remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n     * You can also pass it an event name and an array of listeners to be removed.\n     * You can also pass it a regular expression to remove the listeners from all events that match it.\n     *\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to remove from multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to remove.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeListeners = function removeListeners(evt, listeners) {\n        // Pass through to manipulateListeners\n        return this.manipulateListeners(true, evt, listeners);\n    };\n\n    /**\n     * Edits listeners in bulk. The addListeners and removeListeners methods both use this to do their job. You should really use those instead, this is a little lower level.\n     * The first argument will determine if the listeners are removed (true) or added (false).\n     * If you pass an object as the second argument you can add/remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n     * You can also pass it an event name and an array of listeners to be added/removed.\n     * You can also pass it a regular expression to manipulate the listeners of all events that match it.\n     *\n     * @param {Boolean} remove True if you want to remove listeners, false if you want to add.\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add/remove from multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to add/remove.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.manipulateListeners = function manipulateListeners(remove, evt, listeners) {\n        var i;\n        var value;\n        var single = remove ? this.removeListener : this.addListener;\n        var multiple = remove ? this.removeListeners : this.addListeners;\n\n        // If evt is an object then pass each of its properties to this method\n        if (typeof evt === 'object' && !(evt instanceof RegExp)) {\n            for (i in evt) {\n                if (evt.hasOwnProperty(i) && (value = evt[i])) {\n                    // Pass the single listener straight through to the singular method\n                    if (typeof value === 'function') {\n                        single.call(this, i, value);\n                    }\n                    else {\n                        // Otherwise pass back to the multiple function\n                        multiple.call(this, i, value);\n                    }\n                }\n            }\n        }\n        else {\n            // So evt must be a string\n            // And listeners must be an array of listeners\n            // Loop over it and pass each one to the multiple method\n            i = listeners.length;\n            while (i--) {\n                single.call(this, evt, listeners[i]);\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Removes all listeners from a specified event.\n     * If you do not specify an event then all listeners will be removed.\n     * That means every event will be emptied.\n     * You can also pass a regex to remove all events that match it.\n     *\n     * @param {String|RegExp} [evt] Optional name of the event to remove all listeners for. Will remove from every event if not passed.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeEvent = function removeEvent(evt) {\n        var type = typeof evt;\n        var events = this._getEvents();\n        var key;\n\n        // Remove different things depending on the state of evt\n        if (type === 'string') {\n            // Remove all listeners for the specified event\n            delete events[evt];\n        }\n        else if (evt instanceof RegExp) {\n            // Remove all events matching the regex.\n            for (key in events) {\n                if (events.hasOwnProperty(key) && evt.test(key)) {\n                    delete events[key];\n                }\n            }\n        }\n        else {\n            // Remove all listeners in all events\n            delete this._events;\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of removeEvent.\n     *\n     * Added to mirror the node API.\n     */\n    proto.removeAllListeners = alias('removeEvent');\n\n    /**\n     * Emits an event of your choice.\n     * When emitted, every listener attached to that event will be executed.\n     * If you pass the optional argument array then those arguments will be passed to every listener upon execution.\n     * Because it uses `apply`, your array of arguments will be passed as if you wrote them out separately.\n     * So they will not arrive within the array on the other side, they will be separate.\n     * You can also pass a regular expression to emit to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n     * @param {Array} [args] Optional array of arguments to be passed to each listener.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.emitEvent = function emitEvent(that, evt, args) {\n\t\t// NOTE: customized this method\n        var listenersMap = this.getListenersAsObject(evt);\n        var listeners;\n        var listener;\n        var i;\n        var key;\n        var response;\n\n        for (key in listenersMap) {\n            if (listenersMap.hasOwnProperty(key)) {\n                listeners = listenersMap[key].slice(0);\n                i = listeners.length;\n\n                while (i--) {\n                    // If the listener returns true then it shall be removed from the event\n                    // The function is executed either with a basic call or an apply if there is an args array\n                    listener = listeners[i];\n\n                    if (listener.once === true) {\n                        this.removeListener(evt, listener.listener);\n                    }\n\n                    response = listener.listener.apply(that, args || []);\n\n                    if (response === this._getOnceReturnValue()) {\n                        this.removeListener(evt, listener.listener);\n                    }\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of emitEvent\n     */\n    proto.trigger = alias('emitEvent');\n\n    /**\n     * Subtly different from emitEvent in that it will pass its arguments on to the listeners, as opposed to taking a single array of arguments to pass on.\n     * As with emitEvent, you can pass a regex in place of the event name to emit to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n     * @param {...*} Optional additional arguments to be passed to each listener.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.emit = function emit(that, evt) {\n\t\t// NOTE: customized this method\n        var args = Array.prototype.slice.call(arguments, 2);\n        return this.emitEvent(that, evt, args);\n    };\n\n    /**\n     * Sets the current value to check against when executing listeners. If a\n     * listeners return value matches the one set here then it will be removed\n     * after execution. This value defaults to true.\n     *\n     * @param {*} value The new value to check for when executing listeners.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.setOnceReturnValue = function setOnceReturnValue(value) {\n        this._onceReturnValue = value;\n        return this;\n    };\n\n    /**\n     * Fetches the current value to check against when executing listeners. If\n     * the listeners return value matches this one then it should be removed\n     * automatically. It will return true by default.\n     *\n     * @return {*|Boolean} The current value to check for or the default, true.\n     * @api private\n     */\n    proto._getOnceReturnValue = function _getOnceReturnValue() {\n        if (this.hasOwnProperty('_onceReturnValue')) {\n            return this._onceReturnValue;\n        }\n        else {\n            return true;\n        }\n    };\n\n    /**\n     * Fetches the events object and creates one if required.\n     *\n     * @return {Object} The events storage object.\n     * @api private\n     */\n    proto._getEvents = function _getEvents() {\n        return this._events || (this._events = {});\n    };\n\n    /**\n     * Reverts the global {@link EventEmitter} to its previous value and returns a reference to this version.\n     *\n     * @return {Function} Non conflicting EventEmitter class.\n     */\n    EventEmitter.noConflict = function noConflict() {\n        exports.EventEmitter = originalGlobalValue;\n        return EventEmitter;\n    };\n\n    // Expose the class either via AMD, CommonJS or the global object\n    if (typeof define === 'function' && define.amd) {\n        define('utils/jqr/EventEmitter',[],function () {\n            return EventEmitter;\n        });\n    }\n    else if (typeof module === 'object' && module.exports){\n        module.exports = EventEmitter;\n    }\n    else {\n        exports.EventEmitter = EventEmitter;\n    }\n}.call(this));\n","// Events order\n//    RACTIVE  -> CTRL       => GLOBAL EVENT\n//             -> onRemove   => remove             (old view)\n//                           => beforeUnrender     (old view)\n//\t\t\t   ->            => beforeInit         (new view)\n//\t\t\t   -> onInit     => init               (new view)\n//   unrender  -> onUnrender => unrender           (old view)\n//   render    -> onRender   => render             (new view)\n//   complete  -> onComplete => complete           (new view)\n//   \n//   -----\n// fail - should this event be supported?\n\ndefine('kudu',['require','./router/router','./utils/jqr/npo','ractive','./utils/at/ajaxTracker','./utils/at/simpleAjaxTracker','./lifecycle/onInitHandler','./lifecycle/onRemoveHandler','./ractivelib/setupEvents','./ractivelib/setupDefaultEvents','./transition/intro','./transition/outro','./ractivelib/RactiveViewFactory','./utils/severity','./utils/utils','./utils/mode','./utils/jqr/jqutils','./utils/jqr/EventEmitter','./utils/jqr/fade'],function (require) {\n\n\tvar router = require(\"./router/router\");\n\trequire(\"./utils/jqr/npo\");\n\tvar Ractive = require(\"ractive\");\n\tvar ajaxTrackerFn = require(\"./utils/at/ajaxTracker\");\n\tvar simpleAjaxTrackerFn = require(\"./utils/at/simpleAjaxTracker\");\n\tvar onInitHandler = require(\"./lifecycle/onInitHandler\");\n\tvar onRemoveHandler = require(\"./lifecycle/onRemoveHandler\");\n\tvar setupViewEvents = require(\"./ractivelib/setupEvents\");\n\tvar setupDefaultViewEvents = require(\"./ractivelib/setupDefaultEvents\");\n\tvar introFn = require(\"./transition/intro\");\n\tvar outroFn = require(\"./transition/outro\");\n\tvar ractiveViewFactory = require(\"./ractivelib/RactiveViewFactory\");\n\tvar severity = require(\"./utils/severity\");\n\tvar utils = require(\"./utils/utils\");\n\tvar mode = require(\"./utils/mode\");\n\tvar jqutils = require(\"./utils/jqr/jqutils\");\n\tvar EventEmitter = require(\"./utils/jqr/EventEmitter\");\n\tvar jqfade = require(\"./utils/jqr/fade\");\n\n\tfunction kudu() {\n\n\t\tvar that = new EventEmitter();\n\t\tvar origEmit = that.emit;\n\n\t\tvar reenableAnimationTracker = {enable: true};\n\n\t\t// Ractive unrender workaround. We store the current options temporarily so we can invoke forceUnrender which is added to the options\n\t\t// in unrender.js\n\t\tvar _tempOptions = {};\n\n\t\tvar currentMVC = {\n\t\t\tview: null,\n\t\t\tctrl: null,\n\t\t\trequestTracker: {active: true},\n\t\t\troute: null,\n\t\t\toptions: {\n\t\t\t\trouteParams: null,\n\t\t\t\targs: null,\n\t\t\t\tforceUnrender: null\n\t\t\t}\n\t\t};\n\n\t\tvar callstack = [];\n\n\t\tvar initOptions = {\n\t\t\ttarget: null,\n\t\t\troutes: null,\n\t\t\tdefaultRoute: null,\n\t\t\tunknownRouteResolver: null,\n\t\t\tintro: null,\n\t\t\toutro: null,\n\t\t\tfx: false,\n\t\t\tviewFactory: ractiveViewFactory,\n\t\t\tdebug: true\n\t\t};\n\n\t\tvar ajaxTrackerOptions = {\n\t\t\tkudu: that,\n\t\t\twrappers: {}\n\t\t};\n\t\tvar ajaxTracker = ajaxTrackerFn(ajaxTrackerOptions);\n\n\t\tthat.init = function (options) {\n\t\t\tif (options == null) {\n\t\t\t\tthrow new Error(\"kudu.init() requires options!\");\n\t\t\t}\n\t\t\tinitOptions = jqutils.extend({}, initOptions, options);\n\t\t\tthat.validateInitOptions(initOptions);\n\n\t\t\tmode.DEBUG = Ractive.DEBUG = initOptions.debug;\n\n\t\t\trouter.on('routeload', function (routeOptions) {\n\t\t\t\tif (that.getActiveRoute() == null) {\n\t\t\t\t\trouteOptions.initialRoute = true;\n\t\t\t\t} else {\n\t\t\t\t\trouteOptions.initialRoute = false;\n\t\t\t\t}\n\t\t\t\tthat.routeLoaded(routeOptions);\n\t\t\t});\n\n\t\t\tsetupDefaultViewEvents(options);\n\n\t\t\trouter.init({\n\t\t\t\troutes: initOptions.routes,\n\t\t\t\tdefaultRoute: options.defaultRoute,\n\t\t\t\tunknownRouteResolver: options.unknownRouteResolver\n\t\t\t});\n\t\t};\n\n\t\tthat.router = function () {\n\t\t\treturn router;\n\t\t};\n\n\t\tthat.validateInitOptions = function (options) {\n\t\t\tif (options.viewFactory == null) {\n\t\t\t\tthrow new Error(\"viewFactory cannot be null!\");\n\t\t\t}\n\t\t\tif (options.viewFactory.createView == null) {\n\t\t\t\tthrow new Error(\"viewFactory must provide a createView function!\");\n\t\t\t}\n\t\t\tif (options.viewFactory.renderView == null) {\n\t\t\t\tthrow new Error(\"viewFactory must provide a renderView function!\");\n\t\t\t}\n\t\t\tif (options.viewFactory.unrenderView == null) {\n\t\t\t\tthrow new Error(\"viewFactory must provide an unrenderView function!\");\n\t\t\t}\n\t\t};\n\n\t\tthat.go = function (options) {\n\t\t\t// go() is asyncrounous\n\t\t\t// We wait a tick in case we want to redirect by calling go() from Controller.onInit() { kudu.go(...); return null}. \n\t\t\t// If this function is not async, calling kudu.go from ctrl.onInit would cause two requests to run in parallel. By waiting a tick\n\t\t\t// the original ctrl request can complete before loading the new route\n\t\t\tsetTimeout(function() {\n\t\t\t\trouter.go(options);\n\t\t\t});\n\t\t};\n\n\t\tthat.getId = function (obj) {\n\t\t\tif (obj == null) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn obj._kudu_id;\n\t\t};\n\n\t\tthat.getDefaultTarget = function () {\n\t\t\treturn initOptions.target;\n\t\t};\n\n\t\tthat.getActiveRoute = function () {\n\t\t\treturn currentMVC.route;\n\t\t};\n\n\t\tthat.getActiveView = function () {\n\t\t\treturn currentMVC.view;\n\t\t};\n\n\t\tthat.getActiveController = function () {\n\t\t\treturn currentMVC.ctrl;\n\t\t};\n\t\t\n\t\tthat.getDefaultViewFactory = function () {\n\t\t\treturn ractiveViewFactory;\n\t\t};\n\n\t\tthat.routeLoaded = function (options) {\n\n\t\t\ttry {\n\t\t\t\tcallstack.push(1);\n\n\t\t\t\toptions.target = options.target || initOptions.target;\n\t\t\t\toptions.routeParams = options.routeParams || {};\n\t\t\t\toptions.args = options.args || {};\n\t\t\t\toptions.ajaxTracker = simpleAjaxTrackerFn.create(ajaxTracker, options);\n\n\t\t\t\t//options.requestTracker = currentMVC.requestTracker;\n\t\t\t\toptions.mvc = jqutils.extend({}, currentMVC);\n\n\t\t\t\t// cancel and cleanup current view request (if there is one)\n\t\t\t\tcancelCurrentRequest(options);\n\n\t\t\t\t// Create a requestTracker for the new view\n\t\t\t\tvar requestTracker = {active: true};\n\t\t\t\tcurrentMVC.requestTracker = requestTracker;\n\t\t\t\toptions.mvc.requestTracker = requestTracker;\n\n\t\t\t\tcheckCallstack(_tempOptions);\n\n\t\t\t\t// Ractive unrender workaround. We store the current options temporarily so we can invoke forceUnrender, if the\n\t\t\t\t// request is overwritten\n\t\t\t\t_tempOptions = options;\n\n\t\t\t\tvar ctrl = that.createController(options.module);\n\t\t\t\toptions.ctrl = ctrl;\n\t\t\t\tdelete options.module;\n\t\t\t\t//options.requestTracker = currentMVC.requestTracker;\n\n\t\t\t\tloadView(options);\n\n\t\t\t} catch (err) {\n\t\t\t\tviewFailed(options, err);\n\t\t\t}\n\t\t};\n\t\t\n\t\tfunction loadView( options ) {\n\t\t\tif ( currentMVC.ctrl == null ) {\n\t\t\t\tloadInitialView(options);\n\n\t\t\t} else {\t\t\t\t\n\t\t\t\tchangeView(options);\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction loadInitialView( options ) {\n\t\t\t// No view rendered so skip removing the current view and just init the new view\n\t\t\tprocessOnInit( options ).then( function () {\n\n\t\t\t} ).catch(function ( err ) {\n\t\t\t\t// processOnInit failed\n\t\t\t\tcancelCurrentRequest( options );\n\t\t\t\tutils.populateError(err, severity.ERROR, options);\n\t\t\t\tviewFailed( options, err );\n\t\t\t} );\n\t\t}\n\n\t\tfunction changeView( options ) {\n\t\t\t// Remove current view before loading new view\n\n\t\t\tprocessOnRemove( options ).then( function () {\n\t\t\t\tprocessOnInit( options ).then( function () {\n\n\t\t\t\t} ).catch(function (err) {\n\t\t\t\t\t// processOnInit failed\n\t\t\t\t\tcancelCurrentRequest( options );\n\t\t\t\t\tutils.populateError(err, severity.ERROR, options);\n\t\t\t\t\tviewFailed( options, err );\n\t\t\t\t} );\n\n\t\t\t} ).catch(function (err) {\n\t\t\t\t// processOnRemove failed\n\t\t\t\tcancelCurrentRequest( options );\n\t\t\t\tutils.populateError(err, severity.ERROR, options);\n\t\t\t\tviewFailed( options, err );\n\t\t\t} );\n\t\t}\n\t\t\n\t\tfunction checkCallstack(options) {\n\t\t\t// Disable transitions if view requests overwrite one another, eg when another view request is being processed still\n\t\t\tif ( callstack.length > 1 ) {\n\t\t\t\tif ( options.forceUnrender ) {\n\t\t\t\t\toptions.forceUnrender();\n\t\t\t\t}\n\n\t\t\t\tjqfade.off( true );\n\t\t\t\tjqfade.stop();\n\t\t\t\treenableAnimationTracker.enable = false;\n\t\t\t}\n\t\t}\n\t\t;\n\n\t\tthat.createController = function (Module) {\n\t\t\tif (Module instanceof Function) {\n\t\t\t\t// Instantiate new view\n\t\t\t\tvar result = new Module();\n\t\t\t\tif (result._kudu_id == null) {\n\t\t\t\t\tsetId(result, Module._kudu_id);\n\t\t\t\t}\n\t\t\t\treturn result;\n\n\t\t\t} else {\n\t\t\t\t// Module is not a Function, so assume it is an object and thus already instantiated\n\t\t\t\treturn Module;\n\t\t\t}\n\t\t};\n\n\t\tthat.processNewView = function (options) {\n\t\t\tvar promise = new Promise(function (resolve, reject) {\n\t\t\t\tsetupViewEvents(options);\n\n\t\t\t\tvar renderer;\n\n\t\t\t\tif (options.route.enter == null && (currentMVC.route == null || currentMVC.route.leave == null)) {\n\t\t\t\t\trenderer = that.renderViewWithAnimation;\n\t\t\t\t} else {\n\t\t\t\t\trenderer = that.customRenderView;\n\t\t\t\t}\n\n\t\t\t\trenderer(options).then(function () {\n\t\t\t\t\tthat.callViewEvent(\"onComplete\", options);\n\t\t\t\t\tthat.triggerEvent(\"complete\", options);\n\t\t\t\t\tresolve(options.view);\n\n\t\t\t\t}).catch(function (err) {\n\t\t\t\t\tutils.populateError(err, severity.ERROR, options);\n\t\t\t\t\treject(err);\n\t\t\t\t});\n\n\t\t\t\t// Request could have been overwritten by new request. Ensure this is still the active request\n\t\t\t\tif (!options.mvc.requestTracker.active) {\n\t\t\t\t\tvar err = new Error(\"Request overwritten by another view request\");\n\t\t\t\t\tutils.populateError(err, severity.WARN, options);\n\t\t\t\t\treject(err);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn promise;\n\t\t};\n\n\t\tthat.callViewEvent = function (eventName, options) {\n\n\t\t\tvar ctrl = options.ctrl;\n\t\t\tif (typeof ctrl[eventName] == 'function') {\n\n\t\t\t\tvar currOptions = {\n\t\t\t\t\tajaxTracker: options.ajaxTracker,\n\t\t\t\t\trouteParams: options.routeParams,\n\t\t\t\t\targs: options.args,\n\t\t\t\t\tview: options.view,\n\t\t\t\t\tctrl: options.ctrl,\n\t\t\t\t\troute: options.route\n\t\t\t\t};\n\n\t\t\t\tvar prevOptions = {\n\t\t\t\t\tajaxTracker: options.mvc.options.ajaxTracker, // TODO test this\n\t\t\t\t\tctrl: options.mvc.ctrl,\n\t\t\t\t\troute: options.mvc.route,\n\t\t\t\t\trouteParams: options.mvc.options.routeParams,\n\t\t\t\t\targs: options.mvc.options.args,\n\t\t\t\t\tview: options.mvc.view\n\t\t\t\t};\n\n\t\t\t\tvar eventOptions = {};\n\n\t\t\t\tif (eventName === 'onUnrender') {\n\n\t\t\t\t\teventOptions = prevOptions;\n\t\t\t\t\teventOptions.next = currOptions;\n\n\t\t\t\t} else {\n\t\t\t\t\teventOptions = currOptions;\n\t\t\t\t\teventOptions.prev = prevOptions;\n\t\t\t\t}\n\n\t\t\t\tctrl[eventName](eventOptions);\n\t\t\t}\n\t\t};\n\n\t\tthat.emit = function(that, evt) {\n\t\t\tif (typeof that === 'string') {\n\t\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\t\targs.unshift(this);\n\t\t\t\treturn origEmit.apply(this, args);\n\t\t\t}\n\t\t\torigEmit.apply(this, arguments);\n\t\t\t//(options.view, prefix + eventName, triggerOptions);\n\t\t};\n\n\t\tthat.triggerEvent = function (eventName, options) {\n\t\t\toptions = options || {};\n\t\t\toptions.mvc = options.mvc || {};\n\t\t\tvar context = null;\n\n\t\t\tvar isMainCtrlReplaced = initOptions.target === options.target;\n\n\t\t\t// If no controller has been defined, create a dummy one to pass to the event\n\t\t\tvar ctrl = options.ctrl;\n\t\t\tif (ctrl == null) {\n\t\t\t\tctrl = {};\n\t\t\t}\n\n\t\t\tvar currOptions = {\n\t\t\t\tajaxTracker: options.ajaxTracker,\n\t\t\t\trouteParams: options.routeParams,\n\t\t\t\targs: options.args,\n\t\t\t\tview: options.view,\n\t\t\t\tctrl: options.ctrl,\n\t\t\t\troute: options.route\n\t\t\t};\n\n\t\t\tvar prevOptions = {\n\t\t\t\tajaxTracker: options.mvc.options.ajaxTracker, // TODO test this\n\t\t\t\tctrl: options.mvc.ctrl,\n\t\t\t\troute: options.mvc.route,\n\t\t\t\trouteParams: options.mvc.options.routeParams,\n\t\t\t\targs: options.mvc.options.args,\n\t\t\t\tview: options.mvc.view\n\t\t\t};\n\n\t\t\tvar triggerOptions = {};\n\t\t\t/*\n\t\t\t ctrl: options.ctrl,\n\t\t\t view: options.view,\n\t\t\t args: options.args,\n\t\t\t routeParams: options.routeParams,\n\t\t\t route: options.route,\n\t\t\t isMainCtrl: isMainCtrlReplaced,\n\t\t\t //ctrlOptions: options,\n\t\t\t eventName: eventName,\n\t\t\t error: options.error,\n\t\t\t initialRoute: options.initialRoute\n\t\t\t };*/\n\n\t\t\tif (eventName === 'remove' || eventName === 'beforeUnrender' || eventName === 'unrender') {\n\t\t\t\ttriggerOptions = prevOptions;\n\t\t\t\ttriggerOptions.next = currOptions;\n\t\t\t\tcontext = prevOptions.view;\n\n\t\t\t} else if (eventName === 'fail') {\n\t\t\t\ttriggerOptions = prevOptions;\n\t\t\t\ttriggerOptions.prev = jqutils.extend({}, prevOptions); // triggerOptions references prevOptions, so make a reference to a\n\t\t\t\t// copy of preOptions instead of prevOptions itself, otherwise this creates a recursive link\n\t\t\t\ttriggerOptions.next = currOptions;\n\t\t\t\ttriggerOptions.error = options.error;\n\t\t\t\t\n\t\t\t\tif (prevOptions.view) {\n\t\t\t\t\tcontext = prevOptions.view;\n\t\t\t\t} else {\n\t\t\t\t\tcontext = currOptions.view;\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\ttriggerOptions = currOptions;\n\t\t\t\ttriggerOptions.prev = prevOptions;\n\t\t\t\tcontext = currOptions.view;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t var triggerOptions = {\n\t\t\t //oldCtrl: currentMVC.ctrl,\n\t\t\t oldCtrl: options.mvc.ctrl,\n\t\t\t newCtrl: ctrl,\n\t\t\t isMainCtrl: isMainCtrlReplaced,\n\t\t\t ctrlOptions: options,\n\t\t\t eventName: eventName,\n\t\t\t error: options.error,\n\t\t\t initialRoute: options.initialRoute\n\t\t\t };*/\n\n\t\t\tvar prefix = 'lc.';\n\t\t\tthat.emit(context, prefix + eventName, triggerOptions);\n\n\t\t\t// Call events defined as go() options\n\t\t\tif (options[eventName]) {\n\t\t\t\toptions[eventName].call(context, triggerOptions);\n\t\t\t}\n\t\t};\n\n\t\tfunction processOnInit(options) {\n\t\t\tvar promise = new Promise(function (resolve, reject) {\n\n\t\t\t\tvar onInitOptions = {\n\t\t\t\t\troute: options.route,\n\t\t\t\t\tctrl: options.ctrl,\n\t\t\t\t\trouteParams: options.routeParams,\n\t\t\t\t\targs: options.args,\n\t\t\t\t\tmvc: options.mvc,\n\t\t\t\t\tajaxTracker: options.ajaxTracker,\n\t\t\t\t\ttarget: options.target,\n\t\t\t\t\tprev: {\n\t\t\t\t\t\tajaxTracker: options.mvc.options.ajaxTracker,\n\t\t\t\t\t\tctrl: options.mvc.ctrl,\n\t\t\t\t\t\troute: options.mvc.route,\n\t\t\t\t\t\trouteParams: options.mvc.options.routeParams,\n\t\t\t\t\t\tview: options.mvc.view,\n\t\t\t\t\t\targs: options.mvc.options.args\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthat.triggerEvent(\"beforeInit\", options);\n\n\t\t\t\tonInitHandler(onInitOptions).then(function (viewOrPromise) {\n\n\t\t\t\t\toptions.viewOrPromise = viewOrPromise;\n\t\t\t\t\tthat.createView(options).then(function (view) {\n\n\t\t\t\t\t\toptions.view = view;\n\t\t\t\t\t\toptions.kudu = that;\n\t\t\t\t\t\tthat.triggerEvent(\"init\", options);\n\n\t\t\t\t\t\tthat.processNewView(options).then(function (view) {\n\n\t\t\t\t\t\t\tonInitComplete();\n\t\t\t\t\t\t\tresolve();\n\n\t\t\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t\t\t// processNewView rejected\n\t\t\t\t\t\t\tonInitComplete();\n\n\t\t\t\t\t\t\tutils.populateError(err, severity.ERROR, options);\n\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t\t// view creation rejected\n\t\t\t\t\t\tonInitComplete();\n\t\t\t\t\t\t\n\t\t\t\t\t\tutils.populateError(err, severity.ERROR, options);\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t});\n\n\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t// onInitHandler rejected\n\t\t\t\t\tonInitComplete();\n\n\t\t\t\t\tutils.populateError(err, severity.ERROR, options);\t\t\t\t\t\n\t\t\t\t\treject(err);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn promise;\n\t\t}\n\n\t\tfunction processOnRemove(options) {\n\t\t\tvar promise = new Promise(function (resolve, reject) {\n\n\t\t\t\tvar onRemoveOptions = {\n\t\t\t\t\tnext: {\n\t\t\t\t\t\tctrl: options.ctrl,\n\t\t\t\t\t\troute: options.route,\n\t\t\t\t\t\tview: options.view,\n\t\t\t\t\t\targs: options.args,\n\t\t\t\t\t\trouteParams: options.routeParams,\n\t\t\t\t\t\tajaxTracker: options.ajaxTracker\n\t\t\t\t\t},\n\t\t\t\t\tctrl: currentMVC.ctrl,\n\t\t\t\t\troute: currentMVC.route,\n\t\t\t\t\tview: currentMVC.view,\n\t\t\t\t\trouteParams: currentMVC.options.routeParams,\n\t\t\t\t\targs: currentMVC.options.args,\n\t\t\t\t\tmvc: options.mvc,\n\t\t\t\t\tajaxTracker: currentMVC.options.ajaxTracker,\n\t\t\t\t\ttarget: currentMVC.options.target\n\t\t\t\t\t\t\t//kudu: that\n\t\t\t\t};\n\n\t\t\t\tonRemoveHandler(onRemoveOptions).then(function () {\n\n\t\t\t\t\tthat.triggerEvent(\"remove\", options);\n\n\t\t\t\t\tthat.triggerEvent(\"beforeUnrender\", options);\n\n\t\t\t\t\tresolve();\n\n\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t// ctrl.onRemove failed or cancelled\n\n\t\t\t\t\tutils.populateError(err, severity.ERROR, options);\n\t\t\t\t\treject(err);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn promise;\n\t\t}\n\n\t\tthat.enter = function (options) {\n\t\t\t// In case enter is called from a customized user option eg route.enter we check if _origOptions was set and use that instead of options\n\t\t\tif (options._origOptions) {\n\t\t\t\toptions = options._origOptions;\n\t\t\t}\n\n\t\t\tvar promise = new Promise(function (resolve, reject) {\n\n\t\t\t\tvar introOptions = {\n\t\t\t\t\tduration: 'fast',\n\t\t\t\t\ttarget: options.target,\n\t\t\t\t\tintro: initOptions.intro,\n\t\t\t\t\tfx: initOptions.fx || false\n\t\t\t\t};\n\n\t\t\t\tif (options.fx === true || options.fx === false) {\n\t\t\t\t\tintroOptions.fx = options.fx;\n\t\t\t\t}\n\n\t\t\t\tif (currentMVC.ctrl == null) {\n\t\t\t\t\tintroOptions.firstView = true;\n\t\t\t\t}\n\n\t\t\t\tthat.renderView(options).then(function () {\n\t\t\t\t\t// In case this method is called from a customized user option eg route.leave we check if _origOptions was set and use that instead of options\n\t\t\t\t\tif ( options._origOptions ) {\n\t\t\t\t\t\toptions = options._origOptions;\n\t\t\t\t\t}\n\n\t\t\t\t\tintroFn(introOptions).then(function () {\n\n\t\t\t\t\t\tresolve(options.view);\n\n\t\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t\t// introFn rejeced\n\t\t\t\t\t\tutils.populateError(err, severity.ERROR, options);\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t});\n\n\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t// render Ractive rejeced\n\t\t\t\t\tutils.populateError(err, severity.ERROR, options);\n\t\t\t\t\treject(err);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn promise;\n\t\t};\n\n\t\tthat.leave = function (options) {\n\t\t\t// In case leave is called from a customized user option eg route.leave we check if _origOptions was set and use that instead of options\n\t\t\tif (options._origOptions) {\n\t\t\t\toptions = options._origOptions;\n\t\t\t}\n\n\t\t\tvar promise = new Promise(function (resolve, reject) {\n\n\t\t\t\tvar outroOptions = {\n\t\t\t\t\tduration: 100,\n\t\t\t\t\ttarget: options.target,\n\t\t\t\t\toutro: initOptions.outro,\n\t\t\t\t\tfx: initOptions.fx || false\n\t\t\t\t};\n\t\t\t\tif (options.fx === true || options.fx === false) {\n\t\t\t\t\toutroOptions.fx = options.fx;\n\t\t\t\t}\n\n\t\t\t\tif (currentMVC.ctrl == null) {\n\t\t\t\t\toutroOptions.firstView = true;\n\t\t\t\t\toutroOptions.duration = 0;\n\t\t\t\t}\n\n\t\t\t\toutroFn(outroOptions).then(function () {\n\t\t\t\t\tif (!options.mvc.requestTracker.active) {\n\t\t\t\t\t\tvar err = new Error(\"Request overwritten by another view request\")\n\t\t\t\t\t\tutils.populateError(err, severity.WARN, options);\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthat.unrenderView(options).then(function () {\n\t\t\t\t\t\tresolve(options.view);\n\n\t\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t\tutils.populateError(err, severity.ERROR, options);\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t});\n\n\t\t\t\t}).catch(function (err) {\n\n\t\t\t\t\t utils.populateError(err, severity.ERROR, options);\n\t\t\t\t\t\treject(err);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn promise;\n\t\t};\n\n\t\tthat.renderViewWithAnimation = function (options) {\n\t\t\t// In case this method is called from a customized user option eg route.leave we check if _origOptions was set and use that instead of options\n\t\t\tif ( options._origOptions ) {\n\t\t\t\toptions = options._origOptions;\n\t\t\t}\n\t\t\t\t\t\n\t\t\tvar promise = new Promise(function (resolve, reject) {\n\n\t\t\t\tthat.leave(options).then(function () {\n\n\t\t\t\t\tthat.enter(options).then(function () {\n\t\t\t\t\t\tresolve(options.view);\n\n\t\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t\t// enter rejeced\n\t\t\t\t\t\tutils.populateError(err, severity.ERROR, options);\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t});\n\n\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t// render Ractive rejeced\n\t\t\t\t\tutils.populateError(err, severity.ERROR, options);\n\t\t\t\t\treject(err);\n\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn promise;\n\t\t};\n\n\t\tthat.customLeave = function (options) {\n\t\t\tvar promise = new Promise(function (resolve, reject) {\n\n\t\t\t\tvar leaveOptions = {\n\t\t\t\t\tctrl: currentMVC.ctrl,\n\t\t\t\t\tview: currentMVC.view,\n\t\t\t\t\troute: currentMVC.route,\n\t\t\t\t\ttarget: options.target,\n\t\t\t\t\t_origOptions: options,\n\t\t\t\t\tnext: {\n\t\t\t\t\t\tctrl: options.ctrl,\n\t\t\t\t\t\tview: options.view,\n\t\t\t\t\t\troute: options.route,\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tvar leaveFn;\n\t\t\t\tvar leaveCleanupFn;\n\n\t\t\t\tif (options.mvc.view == null) {\n\t\t\t\t\t// No view rendered yet, so we stub the leaveFn\n\t\t\t\t\tleaveFn = function () {\n\t\t\t\t\t};\n\t\t\t\t\tleaveCleanupFn = function () {};\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif (currentMVC.route != null) {\n\t\t\t\t\t\tleaveFn = currentMVC.route.leave;\n\t\t\t\t\t\tleaveCleanupFn = that.unrenderViewCleanup;\n\t\t\t\t\t}\n\n\t\t\t\t\t// If leave not defined or there is no view to unreder, fallback to unrenderView\n\t\t\t\t\tif (leaveFn == null) {\n\t\t\t\t\t\t//leaveFn = that.unrenderView;\n\t\t\t\t\t\tleaveFn = that.leave;\n\n\t\t\t\t\t\t//Since we unrederView we don't need to perform unrenderCleanup, so we stub it out\n\t\t\t\t\t\tleaveCleanupFn = function () {};\n\n\t\t\t\t\t\tleaveOptions = options; // set leaveOptions to options, since we are going to use unrenderView instead\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar leavePromise = leaveFn(leaveOptions);\n\t\t\t\tif (leavePromise == null) {\n\t\t\t\t\tleavePromise = utils.noopPromise();\n\t\t\t\t}\n\n\t\t\t\tleavePromise.then(function () {\n\n\t\t\t\t\tleaveCleanupFn(options);\n\n\t\t\t\t\tif (!options.mvc.requestTracker.active) {\n\t\t\t\t\t\tvar err = new Error(\"Request overwritten by another view request\");\n\t\t\t\t\t\tutils.populateError(err, severity.WARN, options);\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve();\n\n\n\t\t\t\t}).catch(function (err) {\n\t\t\t\t\tutils.populateError(err, severity.ERROR, options);\n\t\t\t\t\treject(err);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn promise;\n\t\t};\n\n\t\tthat.customEnter = function (options) {\n\t\t\tvar promise = new Promise(function (resolve, reject) {\n\n\t\t\t\tvar enterOptions = {\n\t\t\t\t\tctrl: options.ctrl,\n\t\t\t\t\tview: options.view,\n\t\t\t\t\troute: options.route,\n\t\t\t\t\ttarget: options.target,\n\t\t\t\t\t_origOptions: options,\n\t\t\t\t\tprev: {\n\t\t\t\t\t\tctrl: currentMVC.ctrl,\n\t\t\t\t\t\tview: currentMVC.view,\n\t\t\t\t\t\troute: currentMVC.route\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tvar enterFn = options.route.enter;\n\t\t\t\tvar enterCleanupFn = that.renderViewCleanup;\n\n\t\t\t\t// If enter not defined, fallback to that.enter\n\t\t\t\tif (enterFn == null) {\n\t\t\t\t\tenterFn = that.enter;\n\n\t\t\t\t\t//Since we rederView we don't need to perform renderCleanup, so we stub it out\n\t\t\t\t\tenterCleanupFn = function () {};\n\n\t\t\t\t\tenterOptions = options; // set leaveOptions to options, since we are going to use that.enter instead\n\t\t\t\t}\n\n\t\t\t\tvar enterPromise = enterFn(enterOptions);\n\t\t\t\tif (enterPromise == null) {\n\t\t\t\t\tenterPromise = utils.noopPromise();\n\t\t\t\t}\n\n\t\t\t\tenterPromise.then(function () {\n\n\t\t\t\t\tenterCleanupFn(options);\n\t\t\t\t\tresolve(options.view);\n\n\t\t\t\t}).catch(function (err) {\n\t\t\t\t\tutils.populateError(err, severity.ERROR, options);\n\t\t\t\t\treject(err);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn promise;\n\t\t};\n\n\t\t// User provided rendering during route setup\n\t\tthat.customRenderView = function (options) {\n\t\t\tvar promise = new Promise(function (resolve, reject) {\n\n\t\t\t\tthat.customLeave(options).then(function () {\n\n\t\t\t\t\tthat.customEnter(options).then(function () {\n\n\t\t\t\t\t\tresolve(options.view);\n\n\t\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t\tutils.populateError(err, severity.ERROR, options);\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t});\n\n\t\t\t\t}).catch(function (err) {\n\t\t\t\t\tutils.populateError(err, severity.ERROR, options);\n\t\t\t\t\treject(err);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn promise;\n\t\t};\n\n\t\tthat.createView = function (options) {\n\t\t\t// In case this method is called from a customized user option eg route.leave we check if _origOptions was set and use that instead of options\n\t\t\tif ( options._origOptions ) {\n\t\t\t\toptions = options._origOptions;\n\t\t\t}\n\n\t\t\tvar promise = initOptions.viewFactory.createView(options);\n\t\t\treturn promise;\n\t\t};\n\n\t\tthat.renderView = function (options) {\n\t\t\t// In case this method is called from a customized user option eg route.leave we check if _origOptions was set and use that instead of options\n\t\t\tif ( options._origOptions ) {\n\t\t\t\toptions = options._origOptions;\n\t\t\t}\n\n\t\t\tvar promise = new Promise(function (resolve, reject) {\n\n\t\t\t\t//options.view.transitionsEnabled = false;\n\n\t\t\t\tvar renderPromise = initOptions.viewFactory.renderView(options);\n\n\t\t\t\tthat.renderViewCleanup(options);\n\n\t\t\t\trenderPromise.then(function () {\n\n\t\t\t\t\tresolve(options.view);\n\n\t\t\t\t}).catch(function (err) {\n\t\t\t\t\tutils.populateError(err, severity.ERROR, options);\n\t\t\t\t\treject(err);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn promise;\n\t\t};\n\n\t\tthat.renderViewCleanup = function (options) {\n\t\t\t// Users can provide their own route.enter function, which if provided, Kudu will automatically invoke renderViewCleanup.\n\t\t\t// However users can provide their own route.enter and \"delegate\" to kudu.enter, which will cause renderViewCleanup to be\n\t\t\t// called twice. Here we add a flag to guard against this\n\t\t\tif (options._renderViewCleanupCalled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\toptions._renderViewCleanupCalled = true;\n\n\t\t\t// Store new controller and view on currentMVC\n\t\t\tthat.updateMVC(options);\n\n\t\t\tthat.callViewEvent(\"onRender\", options);\n\t\t\tthat.triggerEvent(\"render\", options);\n\t\t};\n\n\t\tthat.unrenderView = function (options) {\n\t\t\t// In case this method is called from a customized user option eg route.leave we check if _origOptions was set and use that instead of options\n\t\t\tif ( options._origOptions ) {\n\t\t\t\toptions = options._origOptions;\n\t\t\t}\n\t\t\t\t\t\n\t\t\tvar promise = new Promise(function (resolve, reject) {\n\n\t\t\t\tif (options.mvc.view == null) {\n\t\t\t\t\t// No view to unrender\n\t\t\t\t\tresolve();\n\n\t\t\t\t} else {\n\n\t\t\t\t\t//options.mvc.view.transitionsEnabled = false;\n\t\t\t\t\tvar unrenderPromise = initOptions.viewFactory.unrenderView(options);\n\n\t\t\t\t\tunrenderPromise.then(function () {\n\t\t\t\t\t\t//options.mvc.view.unrender().then(function () {\n\n\t\t\t\t\t\tthat.unrenderViewCleanup(options);\n\n\t\t\t\t\t\tif (!options.mvc.requestTracker.active) {\n\t\t\t\t\t\t\tvar err = new Error(\"Request overwritten by another view request\");\n\t\t\t\t\t\t\tutils.populateError(err, severity.WARN, options);\n\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresolve(options.mvc.view);\n\n\n\t\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t\tutils.populateError(err, severity.ERROR, options);\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn promise;\n\t\t};\n\n\t\tthat.unrenderViewCleanup = function (options) {\n\t\t\t// Users can provide their own route.leave function, which if provided, Kudu will automatically invoke unrenderViewCleanup.\n\t\t\t// However users can provide their own route.leave and \"delegate\" to kudu.leave, which will cause unrenderViewCleanup to be\n\t\t\t// called twice. Here we add a flag to guard against this\n\t\t\tif (options._unrenderViewCleanupCalled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\toptions._unrenderViewCleanupCalled = true;\n\n\t\t\tthat.callViewEvent(\"onUnrender\", options);\n\t\t\tthat.triggerEvent(\"unrender\", options);\n\t\t};\n\n\t\tthat.updateMVC = function (options) {\n\t\t\tcurrentMVC.view = options.view;\n\t\t\tcurrentMVC.ctrl = options.ctrl;\n\t\t\tcurrentMVC.options = options;\n\t\t\tcurrentMVC.route = options.route;\n\t\t};\n\n\t\tfunction onInitComplete() {\n\t\t\tcallstack.splice(0, 1);\n\t\t\tif (callstack.length === 0) {\n\t\t\t\t//console.log(\"AT 0\");\n\n\t\t\t\t// Delay switching on animation incase user is still clicking furiously\n\t\t\t\treenableAnimationTracker.enable = false;\n\t\t\t\treenableAnimationTracker = {enable: true};\n\t\t\t\treenableAnimations(reenableAnimationTracker);\n\t\t\t} else {\n\t\t\t\t//console.log(\"AT \", callstack.length);\n\t\t\t}\n\t\t}\n\n\t\tfunction reenableAnimations(reenableAnimationTracker) {\n\t\t\t// We wait a bit before enabling animations in case user is still thrashing UI.\n\t\t\tsetTimeout(function () {\n\t\t\t\tif (reenableAnimationTracker.enable) {\n\t\t\t\t\tjqfade.off(false);\n\t\t\t\t}\n\t\t\t}, 350);\n\t\t}\n\n\t\tfunction viewFailed(options, err) {\n\t\t\t/*\n\t\t\tvar errors = errorArray;\n\t\t\tif (!Array.isArray(errorArray)) {\n\t\t\t\terrors = Array.prototype.slice.call(errorArray);\n\t\t\t}*/\n\t\t\toptions.error = err;\n\t\t\tthat.triggerEvent(\"fail\", options);\n\t\t\tutils.logError(err);\n\t\t\t//console.error(err)\n\n\t\t\t//if (initOptions.debug) {\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t/*\n\t\t\t}\n\t\t\t\tif (options.error.length === 0) {\n\t\t\t\t\tconsole.error(\"error occurred!\", options);\n\n\t\t\t\t} else {\n\t\t\t\t\tfor (var i = 0; i < options.error.length; i++) {\n\t\t\t\t\t\t// Print stack trace if error is actual error with a stack property\n\t\t\t\t\t\tif (options.error[i].stack == null) {\n\t\t\t\t\t\t\tconsole.error(options.error[i]);\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.error(options.error[i].stack);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}*/\n\t\t\t//}\n\t\t}\n\n\t\tfunction cancelCurrentRequest(options) {\n\n\t\t\t// Check if request has already been overwritten\n\t\t\tif (options.mvc.requestTracker.active === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// current controller has been overwritten by new request\n\t\t\toptions.mvc.requestTracker.active = false;\n\n\t\t\tajaxTracker.abort(options.target);\n\t\t\tajaxTracker.clear(options.target);\n\n\t\t}\n\n\t\tfunction setId(obj, id) {\n\t\t\t// Create an ID property which isn't writable or iteratable through for in loops.\n\t\t\tif (!obj._kudu_id) {\n\t\t\t\tObject.defineProperty(obj, \"_kudu_id\", {\n\t\t\t\t\tenumerable: false,\n\t\t\t\t\twritable: false,\n\t\t\t\t\tvalue: id\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn that;\n\t}\n\n\tvar result = kudu();\n\treturn result;\n});\n\n"]}